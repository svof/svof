

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Svof 18 documentation &mdash; Svof docs</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Svof docs" href="#"/>
        <link rel="next" title="Svof Multi-Person Dragon Limbcounter" href="dragonlimbcounter.html"/>
        <link rel="prev" title="&lt;no title&gt;" href="contents.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="contents.html" class="icon icon-home"> Svof
          

          
          </a>

          
            
            
              <div class="version">
                18
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Svof 18 documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#contents">Contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="#basics-of-the-system">Basics of the system</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-is-this-system">What is this system?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing">Installing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-the-system">Using the system</a></li>
<li class="toctree-l3"><a class="reference internal" href="#differences-to-know-if-coming-from-vadi-m">Differences to know if coming from vadi-m</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#timestamp-xp-in-the-prompt">Timestamp/XP in the prompt</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#using-defences">Using defences</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adjusting-defence-menus">Adjusting defence menus</a></li>
<li class="toctree-l4"><a class="reference internal" href="#blocking">Blocking</a></li>
<li class="toctree-l4"><a class="reference internal" href="#riding">Riding</a></li>
<li class="toctree-l4"><a class="reference internal" href="#selfishness">Selfishness</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lifevision-shroud">Lifevision &amp; Shroud</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#anti-illusion">Anti-illusion</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-the-do-dofree-system">Using the <em>do / dofree</em> system</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bashing-triggers">Bashing triggers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ignoring-curing-things">Ignoring curing things</a></li>
<li class="toctree-l3"><a class="reference internal" href="#serverside">Serverside</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#differences-to-be-aware-of">Differences to be aware of</a></li>
<li class="toctree-l4"><a class="reference internal" href="#priority-handling">Priority handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tn-tf-affs">tn/tf affs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pipes">Pipes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lust">Lust</a></li>
<li class="toctree-l3"><a class="reference internal" href="#affliction-locks">Affliction locks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#retardation-curing">Retardation curing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#herb-precaching">Herb precaching</a></li>
<li class="toctree-l3"><a class="reference internal" href="#transmute">Transmute</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lyre-mode">Lyre mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#single-prompt">Single prompt</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changing-colour-highlights">Changing colour highlights</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-a-custom-prompt">Setting a custom prompt</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#custom-prompt-examples">Custom prompt examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-custom-tags-and-colours">Adding custom tags and colours</a></li>
<li class="toctree-l4"><a class="reference internal" href="#registering-custom-tags-when-svof-is-ready">Registering custom tags when Svof is ready</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#running-scripts-when-svof-is-ready">Running scripts when Svof is ready</a></li>
<li class="toctree-l3"><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#random-questions-you-might-ask">Random questions you might ask</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-to-do-if-you-have-a-problem">What to do if you have a problem?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#custom-prompt-disappeared">Custom prompt disappeared?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#updating-the-system">Updating the system</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-help">Getting help</a></li>
<li class="toctree-l3"><a class="reference internal" href="#glossary">Glossary</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vconfig-options">vconfig options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-usage">Advanced usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scripting-with-it">Scripting with it</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#afflictions">Afflictions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#balances">Balances</a></li>
<li class="toctree-l4"><a class="reference internal" href="#defences">Defences</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stats">Stats</a></li>
<li class="toctree-l4"><a class="reference internal" href="#inventory-rift">Inventory / rift</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lust-list">Lust list</a></li>
<li class="toctree-l4"><a class="reference internal" href="#svo-me-wielded">svo.me.wielded</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-things-in-svo-me">Other things in svo.me</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#locks">Locks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#configuration-options">Configuration options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#events-raised-by-the-system">Events raised by the system</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#event-use-examples">Event use examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#scripting-to-do-actions-on-balance-eq">Scripting to do actions on balance/eq</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ignoring-afflictions-cures">Ignoring afflictions/cures</a></li>
<li class="toctree-l3"><a class="reference internal" href="#managing-your-own-priorities">Managing your own priorities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#moving-individual-priorities">Moving individual priorities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#swapping-individual-priorities">Swapping individual priorities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#swapping-whole-lists-of-affs">Swapping whole lists of affs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#adding-your-own-tree-scenarios">Adding your own tree scenarios</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-your-own-restore-dragonheal-shrugging-rage-scenarios">Adding your own restore / dragonheal / shrugging / rage scenarios</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-your-own-echo-colour-schemes">Adding your own echo colour schemes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#more-fine-grained-control-of-the-system">More fine-grained control of the system</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adding-your-own-triggers">Adding your own triggers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#working-with-balances">Working with balances</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-removing-afflictions-directly">Adding/removing afflictions directly</a></li>
<li class="toctree-l4"><a class="reference internal" href="#customizing-anti-illusion">Customizing anti-illusion</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#custom-parry-strategy">Custom parry strategy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#alias-list">Alias list</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#shortcuts">Shortcuts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#general-aliases">General aliases</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#svof-api-functions">Svof API functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#svof-api-data">Svof API data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dragonlimbcounter.html">Svof Multi-Person Dragon Limbcounter</a></li>
<li class="toctree-l1"><a class="reference internal" href="elistsorter.html">Svof Elist Sorter</a></li>
<li class="toctree-l1"><a class="reference internal" href="enchanter.html">Svof Enchanter</a></li>
<li class="toctree-l1"><a class="reference internal" href="inker.html">Svof Tattoo Inker</a></li>
<li class="toctree-l1"><a class="reference internal" href="knightlimbcounter.html">Svof Multi-Person Knight Limbcounter</a></li>
<li class="toctree-l1"><a class="reference internal" href="magilimbcounter.html">Svof Multi-Person Magi Limbcounter</a></li>
<li class="toctree-l1"><a class="reference internal" href="metalimbcounter.html">Svof Multi-Person Meta Limbcounter</a></li>
<li class="toctree-l1"><a class="reference internal" href="monklimbcounter.html">Svof Multi-Person Monk Limbcounter</a></li>
<li class="toctree-l1"><a class="reference internal" href="namedb.html">Svof NameDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="offering.html">Svof Corpse stuff</a></li>
<li class="toctree-l1"><a class="reference internal" href="peopletracker.html">Svof People Tracker</a></li>
<li class="toctree-l1"><a class="reference internal" href="priesthealing.html">Svof Priest Healer</a></li>
<li class="toctree-l1"><a class="reference internal" href="priestlimbcounter.html">Svof Multi-Person Priest Limbcounter</a></li>
<li class="toctree-l1"><a class="reference internal" href="priestreport.html">Svof Priest Report</a></li>
<li class="toctree-l1"><a class="reference internal" href="refiller.html">Svof Refiller</a></li>
<li class="toctree-l1"><a class="reference internal" href="runeidentifier.html">Svof Rune Identifier</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="contents.html">Svof</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="contents.html">Docs</a> &raquo;</li>
      
    <li>Svof 18 documentation</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/index.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="svof-release-documentation">
<h1>Svof 18 documentation<a class="headerlink" href="#svof-release-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="contents">
<h2>Contents<a class="headerlink" href="#contents" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>
<div class="section" id="basics-of-the-system">
<h2>Basics of the system<a class="headerlink" href="#basics-of-the-system" title="Permalink to this headline">¶</a></h2>
<div class="section" id="what-is-this-system">
<h3>What is this system?<a class="headerlink" href="#what-is-this-system" title="Permalink to this headline">¶</a></h3>
<p>This system is what was previously called Svo, which is no longer available. Svof is the free, open-source and community-supported version of Svo.</p>
</div>
<div class="section" id="installing">
<h3>Installing<a class="headerlink" href="#installing" title="Permalink to this headline">¶</a></h3>
<p>To install the system, make sure GMCP is enabled (Mudlet settings), and that you&#8217;re connected to server <strong>achaea.com</strong> and port <strong>23</strong>, and logged in &#8211; then use the <strong>vinstall</strong> command. This&#8217;ll have the system run auto-configuration first - where it&#8217;ll detect and enable skills that you have. After that, it&#8217;ll ask you preference questions about the basic and essential options. Feel free to take your time to ask someone else as to what should you set an option to (like for sipping health). The installation otherwise is fairly painless - and you can always change any option you&#8217;d like later with the same command.</p>
<p>After you&#8217;ve finished the installation, it&#8217;s best to <em>vsave</em> and restart Mudlet so the system is loaded fresh with all the settings.</p>
<p>Enjoy!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">It is best not to do <em>CONFIG SCREENREADER ON</em> in the game - that will mess up Svof&#8217;s tracking of prompt flags.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="using-the-system">
<h3>Using the system<a class="headerlink" href="#using-the-system" title="Permalink to this headline">¶</a></h3>
<p>The system cures any ailments you get for you automatically - nothing needs to be turned on. Of course, the system won&#8217;t cure if it&#8217;s paused, but while it is, it&#8217;ll still track all afflictions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">you want to use the <strong>dv</strong> alias to have the system diagnose and <strong>df</strong> to check your defences. This will have the system both recognize the output, and also has the feature of the aliases being usable at any time - the system will do the action asap for you.</td>
</tr>
</tbody>
</table>
<p>To pause or unpause the system, you can use the <strong>pp</strong> alias - using it alone will act as a toggle, but you can also do <em>pp on</em> and <em>pp off</em>. You no longer need to pause the system to sit or sleep, the system lets you do that</p>
<p>To enable anti-illusion in the system, you can do <strong>tn ai</strong> or <strong>tn anti-illusion</strong>. When you no longer need it, you can do <strong>tf ai</strong> (having anti-illusion on means the system will at times will do checks on afflictions before curing them; this is slower than just curing them right away).</p>
<p>If you&#8217;re lagging a lot, and the system is double-doing actions because of that and etc, you can set the <em>vconfig lag #</em> option to help alleviate that. Do set it back to 0 when you&#8217;re alright, though. You can also view what options have you currently set with <em>vconfig</em> and <em>vconfig2</em> aliases.</p>
<p>To get a better grasp of the system, I&#8217;d recommend that you participate in some combat arena events - free-for-alls, wargames, etc - so you&#8217;ll have a little bit better idea of what to do when a real fight comes. You should also read up on the aeon/retardation curing and practice with the two modes of it in the arena - since it&#8217;s something new and you&#8217;ll want to at least have a basic idea of what&#8217;s going on.</p>
<p>Make sure you don&#8217;t do <em>config prompt none</em>, because the system does need to see your prompt stats!</p>
<p>That&#8217;s about it! Do make sure that you have all the curatives necessary on you and you should be just fine. Take time to look through the available options and aliases as well to acquaint yourself with the system.</p>
</div>
<div class="section" id="differences-to-know-if-coming-from-vadi-m">
<h3>Differences to know if coming from vadi-m<a class="headerlink" href="#differences-to-know-if-coming-from-vadi-m" title="Permalink to this headline">¶</a></h3>
<p>Don&#8217;t use Vadi Mapper anymore - the mudbot proxy isn&#8217;t supported with Svof. Instead, use Mudlets Mapper - which is what I work on now. It doesn&#8217;t have the community map making (and the free, often updated maps that magically came from out of nowhere), but that&#8217;ll happen soon - plus it has awesome 3D and 2D viewing modes, allows for zooming, and has a ton of other features. For some people, it walks faster as well, and it doesn&#8217;t cause a spam of blank lines like the Vadi Mapper does.</p>
<p>Besides, you&#8217;ll come to love it:</p>
<blockquote>
<div>(Mudlet Clan): Mosr says, &#8220;I thought that I couldn&#8217;t live without the mudbot mapper, but this tops it.&#8221;</div></blockquote>
<p>&#8216;&#8217;ts&#8217;&#8217; has been changed to be a toggle for keepup, instead of a shield once asap measure. This means you&#8217;ll want to &#8216;&#8217;ts&#8217;&#8217; again when you&#8217;re doing alright.</p>
<p>&#8216;&#8217;fl&#8217;&#8217; now has been upgraded to allow a command after it - like <em>fl write manuscript page 1</em> will write in the manuscript after it gets to full stats. This is also scriptable, you can have it execute your own function after it&#8217;s done.</p>
<p>Svof is built into the client, so to interact with it, you&#8217;d use direct functions now, instead of &#8216;&#8217;send()&#8217;&#8217; as before:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- to pause:</span>
<span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">pp on&quot;</span><span class="p">)</span>
<span class="c1">-- now becomes:</span>
<span class="n">svo</span><span class="p">.</span><span class="n">app</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">on&quot;</span><span class="p">)</span>

<span class="c1">-- to use do:</span>
<span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">do kick rat&quot;</span><span class="p">)</span>
<span class="c1">-- now becomes:</span>
<span class="n">svo</span><span class="p">.</span><span class="n">doadd</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">kick rat&quot;</span><span class="p">)</span>

<span class="c1">-- to enable keepup</span>
<span class="n">svo</span><span class="p">.</span><span class="n">tntf_set</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">keepup&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">on&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
<span class="c1">-- to disable keepup</span>
<span class="n">svo</span><span class="p">.</span><span class="n">tntf_set</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">keepup&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">off&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
</pre></div>
</div>
<p>Unlike with vadi-m, it &#8216;&#8217;is&#8217;&#8217; possible for other scripts to interfere with Svof (whereas only enabling GMCP or MXP interfered with vadi-m - that is not the case here, it&#8217;s fine now). Svof is much more customizable and flexible and that power leaves lots of room for messing up, unfortunately. Don&#8217;t forget that you can now ignore afflictions, add/delete vconfig options, change balance states and etc.</p>
<div class="section" id="timestamp-xp-in-the-prompt">
<h4>Timestamp/XP in the prompt<a class="headerlink" href="#timestamp-xp-in-the-prompt" title="Permalink to this headline">¶</a></h4>
<p>This is no longer a separate option, but part of a bigger and a better feature - <a class="reference internal" href="#customprompt"><span class="std std-ref">custom prompts</span></a>. Here&#8217;s a custom prompt which replicates the game&#8217;s prompt exactly, but adds a timestamp:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span>vconfig customprompt ^1@healthh, ^2@manam, ^5@endurancee, ^4@willpowerw ^W@eqbal@defs- @timestamp
</pre></div>
</div>
<p>To add your xp, you can use this - and of course you can re-arrange the tags as you&#8217;d like:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span>vconfig customprompt ^1@healthh, ^2@manam, ^5@endurancee, ^4@willpowerw ^W@eqbal@defs @%xp- @timestamp
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">Mudlet does have timestamps built-in that you can enable to show by pressing the blue (i) button bottom-right. This goes back in time as well, so you don&#8217;t have to always keep it on.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="using-defences">
<h3>Using defences<a class="headerlink" href="#using-defences" title="Permalink to this headline">¶</a></h3>
<p>The system organizes defences around defence modes, in which you can have it put up different defences. The process of putting them up is also in two stages: <em>defup</em> and <em>keepup</em>.</p>
<p>When you first switch to a defence mode using <em>vdefs &lt;mode&gt;</em>, defup will put up all of the defences that are on its list. Remember that you can tell defup to put up different defences in different modes - that is the difference in modes. After defup is done, the system will say <em>Ready for combat!</em>, and defup will be done - it&#8217;ll care no more about your defences. Instead, keepup takes over. Keepups job, as the name implies, is to make sure its defences always stay up - if one goes down for any reason, it&#8217;ll put it back up. Keepup can also be disabled or enabled for convenience with <em>tf keepup</em>, <em>tn keepup</em>.</p>
<p>To add/remove defences to defup or keepup, you can use <em>vdefup &lt;defence&gt;</em> and <em>vkeep &lt;defence&gt;</em> - or just click on the defences in the lists if you&#8217;re using an updated version of Mudlet. You can also create new defence modes with <em>vcreate defmode &lt;new mode name&gt;</em>.</p>
<p>To view your current defup list, you can use <strong>vshow defup</strong>, and to view your current keepup list, <strong>vshow keepup</strong>. A green X by a defence means that it&#8217;s on enabled, a deep blue m by a defence means that it&#8217;s enabled, and the defence also has a small mana drain. A bright M by a defence means that it&#8217;s enabled and has a large mana drain.</p>
<p>When you QQ, the system will automatically go into the <em>empty</em> defences mode - so precache doesn&#8217;t take herbs back out that it puts away. When you log in, the system is in the <em>basic</em> defences mode - and so whatever you have on basic keepup will get put up right away.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">for metamorphs, Svof will ignore defences that it can&#8217;t put up due to the low morph skill and complete defup without them.</td>
</tr>
<tr class="field-even field"><th class="field-name">tip:</th><td class="field-body">if you&#8217;d like to cancel defup, you can do <em>vdefs cancel</em> to stop it. However, if you have something on keepup, keepup will then get it&#8217;s defences up - so for an emergency altogether, see below.</td>
</tr>
<tr class="field-odd field"><th class="field-name">tip:</th><td class="field-body">if you&#8217;d like to stop keepup or defup from redeffing your defences all of a sudden, you can switch to the <em>empty</em> defences mode - <em>vdefs empty</em>! (provided you don&#8217;t fill the empty defence mode with any defences)</td>
</tr>
<tr class="field-even field"><th class="field-name">tip:</th><td class="field-body">for Occultists, the system will detect heartstone and simulacrum for you - making it safe to put it on defup/keepup.</td>
</tr>
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">to set your Dragon breath type, summon it once manually - and the system will remember.</td>
</tr>
</tbody>
</table>
<div class="section" id="adjusting-defence-menus">
<h4>Adjusting defence menus<a class="headerlink" href="#adjusting-defence-menus" title="Permalink to this headline">¶</a></h4>
<p>If you&#8217;d like to hide certain defences or groups from showing in the (huge) list, use the <em>vshow hidelist</em> alias and click on - or + beside defences, or even entire skillsets, to hide or show them.</p>
</div>
<div class="section" id="blocking">
<h4>Blocking<a class="headerlink" href="#blocking" title="Permalink to this headline">¶</a></h4>
<p>Svof has a very useful feature of &#8216;block keepup&#8217; - using this, you can ask it to block a direction for you and it will reliably keep blocking: even if you move, or you get knocked off your horse (if you&#8217;re blocking via Riding), or anything else. To use this, do <strong>block &lt;direction&gt;</strong> or <strong>b &lt;direction&gt;</strong>. To stop blocking, use <strong>unblock</strong> or <strong>ub</strong>.</p>
<p>Since the blocking is smart and won&#8217;t spam blocking on an exit that isn&#8217;t in the room, this means that you can also use it to <strong>pre-block</strong> - ask it to block a direction, move in, and it&#8217;ll block for you ASAP. Should you have a better ping than a potential beckoner with a trigger on alertness, you&#8217;ll win!</p>
<p>You can also disable the block keepup feature if you&#8217;d like to use the plain blocking instead - <strong>vignore block</strong> will do it.</p>
</div>
<div class="section" id="riding">
<h4>Riding<a class="headerlink" href="#riding" title="Permalink to this headline">¶</a></h4>
<p>Svof handles automatic mounting/vaulting for you. Firstly, it needs to know what skill and mount do you want to use - so mount or vault your steed manually, and it&#8217;ll remember (ie &#8220;vault horse1324&#8221;). Then you can toggle &#8216;va&#8217;, or do &#8216;va on&#8217;, &#8216;va off&#8217; to get up or down the horse. If you get knocked off the horse, Svof will automatically remount for you if va is on.</p>
<p>If you&#8217;d like Svof not to deal with riding for you at all, you can do <em>vignore riding</em>.</p>
</div>
<div class="section" id="selfishness">
<h4>Selfishness<a class="headerlink" href="#selfishness" title="Permalink to this headline">¶</a></h4>
<p>Keepup works in a special manner with selfishness - if it&#8217;s off keepup, keepup will then do generosity for you. This allows you to use <em>vkeep selfishness</em> or <em>sl</em> to toggle selfishness - and if you have selfishness on while it&#8217;s stripped from you, the system will automatically put it back up for you (note that you do not see generosity being done in blackout, so you could be forced to do it then). You can also use <em>sl on</em> and <em>sl off</em> to bypass the toggle.</p>
<p>If you&#8217;d like to disable this behavior, do <em>vignore selfishness</em>.</p>
</div>
<div class="section" id="lifevision-shroud">
<h4>Lifevision &amp; Shroud<a class="headerlink" href="#lifevision-shroud" title="Permalink to this headline">¶</a></h4>
<p>Lifevision is included in the system! If you have it as a skill (lifevision, clarity or astralvision) - then you can vdefup or vkeep it. The system will then subsequently when lifevision detects an illusion and will ignore it as such.</p>
<p>If you have the lifevision artefact, then the system will realize that fact and enable it for defences as well. Though if yours is customized, then it won&#8217;t realize that - you can turn it on with <em>vconfig havelifevision</em>.</p>
<p>The same goes with shrouding - if you&#8217;ve got yours as an artefact, it will automatically detect it. If yours is customized, that&#8217;s not a problem, you can enable it with <em>vconfig haveshroud</em>.</p>
</div>
</div>
<div class="section" id="anti-illusion">
<h3>Anti-illusion<a class="headerlink" href="#anti-illusion" title="Permalink to this headline">¶</a></h3>
<p>Svof&#8217;s anti-illusion is disabled by default, but is easily enabled with <em>tn a</em> or <em>tn anti-illusion</em>. You <em>must</em> enable anti-illusion when fighting anyone that can illusion - Serpents, Magi, Puppetry users, Dragons or people with the Staff of Illusion. Against serpents, you also ought to enable <em>sbites</em> and <em>stabs</em> - but read up on the <em>ignoresinglebites</em> option to know how that works, because that has it&#8217;s own pitfalls.</p>
<p>To check whenever anti-illusion is on or off, look at <em>vshow</em>.</p>
<p>Anti-illusion has been getting modernized in recent updates, and will be more transparent about which illusions and catches and why - by including a non-intrusive, subtle yet visible blue (i) besides illusions. Hovering your mouse over it will give the reason as to why Svof ignored that illusion.</p>
<p>The AI is always improved and expanded upon - so if you notice an instance where it failed to do it&#8217;s job, or could&#8217;ve done better - please provide feedback! You can also customize anti-illusion - check the <a class="reference internal" href="#customizing-anti-illusion"><span class="std std-ref">Customizing anti-illusion</span></a> section.</p>
</div>
<div class="section" id="using-the-do-dofree-system">
<h3>Using the <em>do / dofree</em> system<a class="headerlink" href="#using-the-do-dofree-system" title="Permalink to this headline">¶</a></h3>
<p>The system includes a very nice feature to assist you in everyday tasks - the <em>do</em> queue. It allows you to queue actions (that take balance or equilibrium to do) to be done as soon as possible.</p>
<p>Using it is simple, the syntax is - <code class="docutils literal"><span class="pre">do</span> <span class="pre">&lt;action&gt;</span></code>. If you already have both balance and equilibrium, then the system will do your action at once - otherwise, it&#8217;ll do it as soon as you regain both balance and equilibrium. If you ask it to do multiple actions, then it&#8217;ll do them properly, one action per balance/eq regain.</p>
<p>For example, if you&#8217;d like to do one thing after another, such as sketching runes on a person - you can just replace <em>send()</em> with <a class="reference internal" href="#svo.doadd" title="svo.doadd"><code class="xref py py-func docutils literal"><span class="pre">svo.doadd()</span></code></a> in your alias and they will be done properly one after another!</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">doadd</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">sketch rune A on &quot;</span><span class="o">..</span><span class="n">matches</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="n">svo</span><span class="p">.</span><span class="n">doadd</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">sketch rune B on &quot;</span><span class="o">..</span><span class="n">matches</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="n">svo</span><span class="p">.</span><span class="n">doadd</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">sketch rune C on &quot;</span><span class="o">..</span><span class="n">matches</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<p>If you&#8217;d like the system to do multiple actions _per_ one balance/eq regain - for example, your bashing attacks uses two arms instead of one balance - then you can use the <strong>$</strong> sign to separate commands - ie, <code class="docutils literal"><span class="pre">do</span> <span class="pre">swing</span> <span class="pre">rat$swing</span> <span class="pre">rat</span></code> will swing the rat twice at once. Or use it in an alias with your target:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">dor</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">ucp &quot;</span><span class="o">..</span><span class="n">target</span><span class="o">..</span><span class="s2">&quot;</span><span class="s">$ucp &quot;</span><span class="o">..</span><span class="n">target</span><span class="o">..</span><span class="s2">&quot;</span><span class="s">$sdk &quot;</span><span class="o">..</span><span class="n">target</span><span class="p">)</span>
</pre></div>
</div>
<p>The really useful feature of do is the <cite>dor</cite> alias. It allows you to repeat an action indefinitely - does it on every balance/eq regain. To use it, you can use <em>dor &lt;action&gt;</em> to start it, and <em>dor</em> or <em>dor off</em> to disable it. For example, <em>dor kick rat</em> will kick the rat forever! This, as you might&#8217;ve noticed, is useful in bashing and an example <strong>F2</strong> keybinding is provided to show how to make use of it. You are responsible for using it, though - don&#8217;t do anything that is against the rules of Achaea.</p>
<p>Note that you can also use your own aliases as actions - ie if your bashing alias is <strong>dd</strong>, then <strong>dor dd</strong> will work.</p>
<p>Other aliases provided with do are <em>dofirst</em>, <em>undo</em>, <em>undoall</em>, and <em>vshow do</em>.</p>
<p>Along with <em>do</em>, a <em>dofree</em> system is also provided - it&#8217;s for actions that require balance/equilibrium, but don&#8217;t take it. Aliases for it are similar - <em>dofree</em>, <em>dofreefirst/dff</em>, <em>undofree</em> and <em>undoallfree</em>.</p>
<p>You can use the <em>dop</em>, <em>dop on</em> and <em>dop off</em> to pause do/dofree, while not affecting the whole system.</p>
</div>
<div class="section" id="bashing-triggers">
<h3>Bashing triggers<a class="headerlink" href="#bashing-triggers" title="Permalink to this headline">¶</a></h3>
<p>Svof comes with a ton of bashing triggers that are contributed by Drazik, Kard, Searnla, and many others. To enable them - do <em>tn bashing</em>, to check if you have them on - <em>vshow</em>, and to disable them, <em>tf bashing</em>.</p>
</div>
<div class="section" id="ignoring-curing-things">
<h3>Ignoring curing things<a class="headerlink" href="#ignoring-curing-things" title="Permalink to this headline">¶</a></h3>
<p><em>Svof</em> has a feature that allows you to ignore curing afflictions - this can come in handy handy in many situations; such as ignoring clumsiness for testing, ignoring an affliction that you get frequently while bashing but don&#8217;t want to waste curatives on, or pausing curing a certain affliction to avoid a killing strat getting pulled of on you.</p>
<p>To view a list of all things you can ignore, you can use the <code class="docutils literal"><span class="pre">vshow</span> <span class="pre">ignorelist</span></code> alias. Warning, the list is big! While some afflictions are self-explanatory, some names require a bit of explanation:</p>
<ul class="simple">
<li>lovers - lust. Requires rejecting the person(s) to cure.</li>
<li>crippled&lt;limb&gt; - requires one mending application to cure.</li>
<li>mangled&lt;limb&gt; - requires a restoration and a mending application to cure.</li>
<li>mutilated&lt;limb&gt; - requires two restorations and a mending application to cure.</li>
</ul>
<p>To ignore an affliction, you can do <code class="docutils literal"><span class="pre">vignore</span> <span class="pre">&lt;affliction&gt;</span></code>. It acts as a toggle - so doing it again will remove it from the list.</p>
<p>Lastly, you can use <code class="docutils literal"><span class="pre">vshow</span> <span class="pre">ignore</span></code> to view all items you&#8217;ve set to ignore (or check the <code class="docutils literal"><span class="pre">svo.ignore</span></code> table via script, and use <a class="reference internal" href="#svo.setignore" title="svo.setignore"><code class="xref py py-func docutils literal"><span class="pre">svo.setignore()</span></code></a> and <a class="reference internal" href="#svo.unsetignore" title="svo.unsetignore"><code class="xref py py-func docutils literal"><span class="pre">svo.unsetignore()</span></code></a> to set/unset). You can also remove items from ignore right on the menu by clicking the &#8216;remove&#8217; button besides them.</p>
<img alt="_images/vshow-ignore.png" class="align-center" src="_images/vshow-ignore.png" />
</div>
<div class="section" id="serverside">
<h3>Serverside<a class="headerlink" href="#serverside" title="Permalink to this headline">¶</a></h3>
<p>Serverside curing is now built-in to Svof! To enable it, just do <strong>tn serverside</strong> - and everything will just work. Svof will use serverside for curing/defences by changing in-game priorities for you, adjust CURING config options to be the same as Svof&#8217;s, augment serverside curing by predicting reckless, and so on. Essentially by doing <strong>tn serverside</strong>, everything is still the same (and thus any of your priority customisations, Svof toggle aliases, etc still work) - just serverside will be used for doing actions wherever possible.</p>
<p>Note that serverside curing has a built-in delay, so if your connection is faster than that, you would be better off using Svof&#8217;s curing. Likewise, if your connection is slow or drops out, enabling serverside would be a good idea.</p>
<p>The benefits of using Svof for your serverside curing are many - easy to configure priorities and keepup, including separate priority lists (limitless, unlike curingset), which are also exportable and shareable, easy affliction toggles like pva, use of class skills for curing (dragonflex, shrugging, rage, priest Healing, ...), affliction prediction, handling of unknown and mental unknown afflictions, use of class skills for defup/keepup (ie shin/kaido deaf/blind), many defences that serverside doesn&#8217;t handle - such as selfishness, stances, morphs, riding.</p>
<p>Svof also implements and makes defup work for serverside, something that serverside lacks as it only has keepup.</p>
<p>Svof also allows you to fine-tune what you&#8217;d like to be done by serverside and what you&#8217;d like to be done by Svof using <strong>vshow server</strong>. This can be useful for defences - where serverside doesn&#8217;t do batching, writhing - where serverside doesn&#8217;t stack it, selfishness - serverside doesn&#8217;t do generosity, lovers - serverside doesn&#8217;t autoreject, and so on.</p>
<img alt="_images/vshow-server.png" class="align-center" src="_images/vshow-server.png" />
<div class="section" id="differences-to-be-aware-of">
<h4>Differences to be aware of<a class="headerlink" href="#differences-to-be-aware-of" title="Permalink to this headline">¶</a></h4>
<p>Be aware that if you are missing a curative, unlike Svof, serverside will not make you aware of it and just won&#8217;t do anything instead.</p>
<p>Serverside does not support mixed curatives - it can only use concoctions or transmutation for herbs, pipes at a time.</p>
<p>In curing, unlike Svof which only does an action if it is possible, serverside will try to put up defences if they aren&#8217;t possible (ie, you&#8217;re paralysed). This means that you need to have your blocking afflictions be above things they block in priorities. In Svof, you can have them lower, Svof just won&#8217;t do them if they&#8217;re not possible at the time.</p>
<p>Thirdeye isn&#8217;t supported by serverside - if you&#8217;d like to be used, use &#8216;vshow server&#8217; to ask Svof to put it up using the skill, instead of having serverside use echinacea.</p>
</div>
<div class="section" id="priority-handling">
<h4>Priority handling<a class="headerlink" href="#priority-handling" title="Permalink to this headline">¶</a></h4>
<p>Svof automatically adjusts priorities on serverside for you, depending on what they are in the system - and does it efficiently and quickly, by only adjusting the changed priorities (so the delta) and using batching when changing them.</p>
<p>The system also makes use of <strong>2</strong> curingsets - <strong>normal</strong> and <strong>slowcuring</strong>. These do not correspond to your defence modes, but instead to the normal and slowcuring (aeon/retardation) priorities - the idea is that when you enter aeon or retardation, all of your priorities can be switched over instantly with a single command for fast curing without the burden of changing many priorities that&#8217;ll slow you down.</p>
<p>Since the system also allows you many defence modes, you are not restricted to just 3 priority lists that serverside provides but can add any new ones for free.</p>
</div>
<div class="section" id="tn-tf-affs">
<h4>tn/tf affs<a class="headerlink" href="#tn-tf-affs" title="Permalink to this headline">¶</a></h4>
<p>tn/tf affs now has been removed and is replaced completely by tn/tf serverside. If you&#8217;ve previously used that and customised the serverside defence and affliction priorities directly, you can now go back to using Svof&#8217;s menus for customisation,</p>
<p>Additionally, afflictions are no longer ignored on <strong>vshow</strong> - if you ignore an affliction with serverside on, it will ignore it for curing on serverside as well.</p>
<img alt="_images/serverside-ignore.png" class="align-center" src="_images/serverside-ignore.png" />
</div>
</div>
<div class="section" id="pipes">
<h3>Pipes<a class="headerlink" href="#pipes" title="Permalink to this headline">¶</a></h3>
<p>Svof automatically auto-assigns herbs to pipes for you from checking &#8216;plist&#8217; and will auto-refill and auto-relight them for you.</p>
<p>Svof now also has support for secondary pipes, allowing you to have 6 pipes with a backup one for each herb - just check &#8216;plist&#8217; and Svof will again auto-assign all pipes for you, keep them refilled and lit. The advantage of having a backup pipe is similar to precache - when a pipe goes out and you can&#8217;t refill it, you can still smoke your backup.</p>
</div>
<div class="section" id="lust">
<h3>Lust<a class="headerlink" href="#lust" title="Permalink to this headline">¶</a></h3>
<p>Svof by default is in <em>vconfig autoreject whitelist</em> mode - which means that any name not on its whitelist will be automatically rejected when they lust you, or you check <em>allies</em>. To add/remove names on the lustlist, do <em>vconfig lustlist &lt;name&gt;</em>.</p>
<p>You can also set it to the blacklist mode - where it will reject names <em>only</em> on the lustlist. You can do that with <em>vconfig autoreject blacklist</em>.</p>
</div>
<div class="section" id="affliction-locks">
<span id="on-affliction-locks"></span><h3>Affliction locks<a class="headerlink" href="#affliction-locks" title="Permalink to this headline">¶</a></h3>
<p>The system has features to both warn you when you become locked via certain afflictions, and cure the said locks - either usage of the fitness, eating a kelp in your inventory, focusing or using the tree tattoo.</p>
<p>To enable fitness lock curing, you do <strong>vconfig fitness yep</strong>, and to enable focus curing, <strong>vconfig focus yep</strong>.</p>
<p>Warnings are done automatically for you on the prompt, and are specially coloured so they don&#8217;t get in your face too much but are still clearly visible. They&#8217;re appended after the prompt, before the commands are shown, so they&#8217;re static in the position as well and don&#8217;t jump around.</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="29%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Lock name</th>
<th class="head">Cure</th>
<th class="head">Afflictions needed</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>soft</td>
<td>focus, fitness, tree</td>
<td>affs.slickness and affs.anorexia and affs.asthma</td>
</tr>
<tr class="row-odd"><td>venom</td>
<td>focus, fitness</td>
<td>affs.slickness and affs.anorexia and affs.asthma and affs.paralysis)</td>
</tr>
<tr class="row-even"><td>hard</td>
<td>fitness, tree</td>
<td>affs.slickness and affs.anorexia and affs.asthma and affs.impatience)</td>
</tr>
<tr class="row-odd"><td>rift</td>
<td>eat kelp or bloodroot, fitness</td>
<td>asthma, slickness or an empty valerian pipe and both arms damaged</td>
</tr>
<tr class="row-even"><td>rift 2</td>
<td>eat kelp or bloodroot</td>
<td>asthma, slickness, paralysis or disrupt and both arms damaged</td>
</tr>
<tr class="row-odd"><td>slow</td>
<td>eat kelp or bloodroot, fitness</td>
<td>asthma, slickness, both arms damaged, concussion and aeon</td>
</tr>
<tr class="row-even"><td>true</td>
<td>(none)</td>
<td>slickness, anorexia, asthma, paralysis, impatience, disrupt, confusion</td>
</tr>
<tr class="row-odd"><td>stain</td>
<td>(restore, dragonheal)</td>
<td>stain, slickness, empty valerian/realgar pipe and broken arms</td>
</tr>
</tbody>
</table>
<p>Note that passive curing is not included here, and weariness prevents fitness.</p>
</div>
<div class="section" id="retardation-curing">
<h3>Retardation curing<a class="headerlink" href="#retardation-curing" title="Permalink to this headline">¶</a></h3>
<p>One of the most powerful features of <strong>Svof</strong> is complete retardation curing. By that, it is implied that the system can do everything - cure (apply salves, outr if necessary and eat herbs, smoke, drink, writhe), keepup defences and etc while in aeon or retardation. First two of course have been prioritized to be cured as soon as possible.</p>
<p>Now, there is the problem of you doing stuff while in aeon/retardation - anything you do would disrupt the previous command, and if the system is, for example, trying to cure you - commands will be getting in the way and it&#8217;ll have to keep restarting and etc. Sometimes you can do a command accidentally, when you didn&#8217;t even mean to disrupt anything, or sometimes you <em>want</em> to override what the system is doing - for example, curing you while all you really want to do is tumble away.</p>
<p>That&#8217;s why the system offers two modes for aeon/retardation curing. First one is where if the system is trying to do something, and you (or your scripts) do something as well, it will <em>deny</em> that command - so that it does not get sent, and does not disrupt what the system is doing. The second mode is where your commands will <em>override</em> what the system is doing - so it will let your commands through, and resume doing stuff after they go through.</p>
<p>The option to change this is <em>vconfig blockcommands</em> - and a shortcut alias of <strong>tsc</strong> is also provided to toggle this quickly in combat.</p>
<p>By default, the systems <em>vconfig autotsc</em> option will work the <em>tsc</em> option for you in the most obvious way - when you get hit with aeon, it will turn tsc on - thus blocking your commands while the system is curing aeon. When you end up in a room with retardation, it will turn tsc off - thus allowing you to override the systems curing commands.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">while in aeon or retardation curing, the system will prefix an (a) to the prompt. It&#8217;s just a subtle way to let you know of the situation you&#8217;re in. Additionally, the a will be red if the system is currently doing something, or will be green if you&#8217;re currently overriding the system, or will be blue if neither you nor the system are doing anything. The (a) is clickable; clicking on it will show you a list of priorities the system was considering or the action it was doing at that time. Note that there is a limit on links in Mudlet, so really old ones won&#8217;t work properly.</td>
</tr>
<tr class="field-even field"><th class="field-name">tip:</th><td class="field-body">you can always create aliases with different names for system aliases that you find hard to remember and just copy/paste the script they do.</td>
</tr>
</tbody>
</table>
<p>If you want to send a command bypassing the system&#8217;s command over-ride and/or deny features, and you really know what you are doing, you can enable <em>svo.conf.send_bypass</em> before your send()&#8217;s and disable it after - like so:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">conf</span><span class="p">.</span><span class="n">send_bypass</span> <span class="o">=</span> <span class="kc">true</span>
<span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">something that won&#39;t trigger denying, nor will it have the system wait for this to finish either&quot;</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">conf</span><span class="p">.</span><span class="n">send_bypass</span> <span class="o">=</span> <span class="kc">nil</span>
</pre></div>
</div>
<p>This will not trigger the retardation having disappeared auto-detection either.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">the system will stop gagging your breathing in retardation, so you can exactly see everything that is happening and not be confused by gagged stuff.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="herb-precaching">
<h3>Herb precaching<a class="headerlink" href="#herb-precaching" title="Permalink to this headline">¶</a></h3>
<p>Another great feature <strong>Svof</strong> offers you is herb precaching - keeping a certain amount of a herb out in your inventory at all times. This is very useful for many reasons - firstly, Svof will then be able to eat the herb and then outr it when necessary instead of outr and eat, and this&#8217;ll shave off about half of your ping time off you curing an aff. Svof won&#8217;t have to outr the herb and be able to eat it right away if you already have it in aeon/retardation as well - nor will you be affected by riftlocks if you have kelp out.</p>
<p>Regarding the quicker curing, the speedup can be quite significant if you&#8217;re on a poor ping because of how the games processing of commands works - in simple terms, the first command will take about your ping time (the N: number) to go through, and the second one will take 2 ping times. So if the first command is outr, because you don&#8217;t have the herb out already, the eat gets delayed. Here&#8217;s a graphical example:</p>
<img alt="_images/precache-savings.png" class="align-center" src="_images/precache-savings.png" />
<p>As you see, on a ping of 250ms (a quarter of a second), not having ginseng out makes curing the affliction take half a second. Having the ginseng out already cuts it down to a quarter of a second!</p>
<p>To setup herb precaching, do <strong>vshowp</strong>. Click on the + besides a herb to increase the amount, - to decrease. Herb precaching preferences are also specific to a defence mode - so you can have some on precache in your combat mode, and less or none in your bashing or normal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">tip:</th><td class="field-body">if you&#8217;d like to stop precaching, you can switch to the <em>empty</em> defences mode - <em>vdefs empty</em>! (provided you don&#8217;t fill the empty defence mode with any herbs)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="transmute">
<h3>Transmute<a class="headerlink" href="#transmute" title="Permalink to this headline">¶</a></h3>
<p>Svof has pretty thorough support for the Kaido Transmute skill - you can have the system supplement your normal curing with transmute use, or rely just on transmute to keep you alive.</p>
<p>To set it up, firstly set the <em>transmuteamount</em> option to the % below which you&#8217;ll be using transmute - for example, <strong>vconfig transmuteamount 80</strong> will have you use transmute below 80% health.</p>
<p>Next, setup <em>how</em> you&#8217;d like Svof to use transmute for you. The possibilities are:</p>
<blockquote>
<div><ul class="simple">
<li>vconfig transmute replaceall - transmute only, no sipping or eating moss. Good for bashing if you sip for more mana than health.</li>
<li>vconfig transmute replacehealth - don&#8217;t sip health, but do use moss and transmute as necessary.</li>
<li>vconfig transmute supplement - top up your health with transmute after sipping / eating moss.</li>
<li>vconfig transmute none - don&#8217;t make use of transmute at all.</li>
</ul>
</div></blockquote>
<p>That&#8217;s all to it then, select one of the options with <strong>vconfig transmute &lt;option&gt;</strong> and you&#8217;re set.</p>
<p>Note that when you&#8217;re in one of the &#8220;just rely on tramsude&#8221; modes (replaceall/replacehealth), Svof will switch to health sipping in case you&#8217;re unable to transmute - if you&#8217;re out of mana, have no willpower, or are prone. This is so in PvP, the system won&#8217;t be sitting there waiting for your mana to come back up, or your willpower to regen, or you to get up before it continues healing your health. In PvE though you might be OK with not healing while you&#8217;re prone, because you won&#8217;t be afflicted a lot, and will get up soon anyway to transmute (and thus you don&#8217;t want the system sipping for health while you&#8217;re prone) - so you can use the <em>vconfig transsipprone off</em> to let the system know that. Otherwise in PK, to have the system sip health/vitality while you&#8217;re prone and not wait for you to get up, you&#8217;d do <em>vconfig transsipprone on</em>.</p>
</div>
<div class="section" id="lyre-mode">
<h3>Lyre mode<a class="headerlink" href="#lyre-mode" title="Permalink to this headline">¶</a></h3>
<p>The system has a lyre mode for the Lasallian Lyre artefact (500cr, well worth it), Metamorphosis Nightingale melody and Grove barrier skills. This makes it easy to use the lyre a) without the system screwing it up by doing stuff, and b) helping you cure affs and re-lyring ASAP.</p>
<p>To turn it on, do <strong>lyr</strong>. This isn&#8217;t a toggle. To turn it off, do <strong>lyf</strong>. The system will strum lyre and automatically pause for you. It will also re-strum it on movement or whenever something destroys your prismatic barrier.</p>
<p>Since it is still possible to get afflicted while behind the prismatic barrier (telepathy, torc artefact, truename) - the <strong>lyc</strong> alias is provided for you. It will do one set of curing commands and re-strum right away. It will also cure in aeon for you as well.</p>
</div>
<div class="section" id="single-prompt">
<h3>Single prompt<a class="headerlink" href="#single-prompt" title="Permalink to this headline">¶</a></h3>
<p>Svof has a built-in singleprompt feature which allows you to have a stationary prompt at the bottom of the screen, and have it be removed or kept from the games output. This helps cut down on spam, allowing combat to scroll by &#8216;slower&#8217;, as there&#8217;s less lines coming in.</p>
<img alt="_images/singleprompt.png" class="align-center" src="_images/singleprompt.png" />
<p>To enable this feature, do <strong>vconfig singleprompt on</strong>.</p>
<p>You can also customize it to increase/decrease the size of the text (<strong>vconfig singlepromptsize #</strong>) of the static prompt, and leave the original prompt intact in the screen (<strong>vconfig singlepromptkeep on</strong>) or leave a blank in its place (<strong>vconfig singlepromptblank on</strong>).</p>
<p>If you&#8217;d like to customize the singleprompt in code, the Geyser object used for it is <code class="docutils literal"><span class="pre">svo.bottomprompt</span></code> with a custom <code class="docutils literal"><span class="pre">:reposition()</span></code> function to keep it at the bottom of the screen. Here&#8217;s an example on setting one, create a new script after Svof&#8217;s scripts (or use the <code class="docutils literal"><span class="pre">svo</span> <span class="pre">system</span> <span class="pre">loaded</span></code> event) and put this in:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="nc">svo</span><span class="p">.</span><span class="nf">bottomprompt</span><span class="p">:</span><span class="n">reposition</span><span class="p">()</span>
   <span class="kd">local</span> <span class="n">width</span><span class="p">,</span><span class="n">height</span> <span class="o">=</span> <span class="n">calcFontSize</span><span class="p">(</span><span class="n">svo</span><span class="p">.</span><span class="n">conf</span><span class="p">.</span><span class="n">singlepromptsize</span> <span class="ow">or</span> <span class="mi">11</span><span class="p">)</span>

   <span class="kd">local</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">w</span><span class="p">,</span><span class="n">h</span> <span class="o">=</span> <span class="n">self</span><span class="p">:</span><span class="n">get_x</span><span class="p">(),</span> <span class="n">self</span><span class="p">:</span><span class="n">get_y</span><span class="p">(),</span> <span class="n">self</span><span class="p">:</span><span class="n">get_width</span><span class="p">(),</span> <span class="n">self</span><span class="p">:</span><span class="n">get_height</span><span class="p">()</span>
   <span class="n">moveWindow</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">self</span><span class="p">:</span><span class="n">get_x</span><span class="p">(),</span> <span class="n">self</span><span class="p">:</span><span class="n">get_y</span><span class="p">()</span><span class="o">-</span><span class="p">(</span><span class="n">height</span><span class="o">+</span><span class="p">(</span><span class="n">height</span><span class="o">/</span><span class="mi">3</span><span class="p">)))</span>
   <span class="n">resizeWindow</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">self</span><span class="p">:</span><span class="n">get_width</span><span class="p">(),</span> <span class="n">self</span><span class="p">:</span><span class="n">get_height</span><span class="p">())</span>
<span class="k">end</span>
</pre></div>
</div>
<p>To customise the location, adjust the <code class="docutils literal"><span class="pre">moveWindow</span></code> bit. To move it to the right, try <code class="docutils literal"><span class="pre">self:get_x()+10</span></code> - then change the size of Mudlets window (unmaximize and maximize again, for example) for the change to take effect.</p>
</div>
<div class="section" id="changing-colour-highlights">
<h3>Changing colour highlights<a class="headerlink" href="#changing-colour-highlights" title="Permalink to this headline">¶</a></h3>
<p><strong>Svof</strong> does some basic highlights on your balances recovery and passive healing. You can change the highlighting as you wish without worrying - it won&#8217;t affect the system. Just create triggers for the things you&#8217;d like to highlight <em>after</em> the <em>Svof</em> triggers folder, enable highlight option, and pick your colour(s).</p>
</div>
<div class="section" id="setting-a-custom-prompt">
<span id="customprompt"></span><h3>Setting a custom prompt<a class="headerlink" href="#setting-a-custom-prompt" title="Permalink to this headline">¶</a></h3>
<p>Svof allows you to completely re-write your prompt - re-order elements, change the text, change the colour, add new information to it from pre-defined tags or even your own tags that display whatever you wish, right on your prompt!</p>
<p>To get started, take a look at your current customprompt by going to <code class="docutils literal"><span class="pre">vconfig2</span></code> and clicking on <strong>view</strong>. This will both show you your current customprompt as it is assembled with tags, and insert it into your command line so you can easily adjust a part of it and re-enter with the <code class="docutils literal"><span class="pre">vconfig</span> <span class="pre">customprompt</span> <span class="pre">&lt;line&gt;</span></code> command.</p>
<p>You can also disable it with <code class="docutils literal"><span class="pre">vconfig</span> <span class="pre">customprompt</span> <span class="pre">off</span></code>, and to get it back, do <code class="docutils literal"><span class="pre">vconfig</span> <span class="pre">customprompt</span> <span class="pre">on</span></code>.</p>
<p>What goes inside the <em>&lt;line&gt;</em> is how you build your prompt - with tags and colours. Tags start with the <code class="docutils literal"><span class="pre">&#64;</span></code> symbol, colours start with the <code class="docutils literal"><span class="pre">^</span></code> symbol - and to apply a colour to a tag, you use it before the tag. Available tags are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Tag</th>
<th class="head">What it shows</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#64;health</td>
<td>your current health</td>
</tr>
<tr class="row-odd"><td>&#64;mana</td>
<td>your current mana</td>
</tr>
<tr class="row-even"><td>&#64;willpower</td>
<td>your current willpower</td>
</tr>
<tr class="row-odd"><td>&#64;endurance</td>
<td>your current endurance</td>
</tr>
<tr class="row-even"><td>&#64;maxhealth</td>
<td>your maximum health</td>
</tr>
<tr class="row-odd"><td>&#64;maxmana</td>
<td>your maximum mana</td>
</tr>
<tr class="row-even"><td>&#64;maxwillpower</td>
<td>your maximum willpower</td>
</tr>
<tr class="row-odd"><td>&#64;maxendurance</td>
<td>your maximum endurance</td>
</tr>
<tr class="row-even"><td>&#64;%health</td>
<td>your current health in percent</td>
</tr>
<tr class="row-odd"><td>&#64;%mana</td>
<td>your current mana in percent</td>
</tr>
<tr class="row-even"><td>&#64;%willpower</td>
<td>your current willpower in percent</td>
</tr>
<tr class="row-odd"><td>&#64;%endurance</td>
<td>your current endurance in percent</td>
</tr>
<tr class="row-even"><td>&#64;%xp</td>
<td>how much percent in xp have you attained in this level</td>
</tr>
<tr class="row-odd"><td>&#64;-%xp</td>
<td>how much percent in xp do you need until the next level</td>
</tr>
<tr class="row-even"><td>&#64;xprank</td>
<td>your step in the Achaean XP ladder</td>
</tr>
<tr class="row-odd"><td>&#64;defs</td>
<td>defences if you have them - blind (b), deaf (d), kola (k), rebounding (r), breath (h)</td>
</tr>
<tr class="row-even"><td>&#64;eqbal</td>
<td>balance/equilibrium if you have them</td>
</tr>
<tr class="row-odd"><td>&#64;armbal</td>
<td>right/left arm balances if you have them - requires that <em>config prompt armbalance on</em> is enabled</td>
</tr>
<tr class="row-even"><td>&#64;dragonhealbal</td>
<td>dragonheal balance if you have it</td>
</tr>
<tr class="row-odd"><td>&#64;voicebal</td>
<td>(bards only) voice balance if you have it</td>
</tr>
<tr class="row-even"><td>&#64;entitiesbal</td>
<td>(occultists only) entities balance if you have it</td>
</tr>
<tr class="row-odd"><td>&#64;humourbal</td>
<td>(alchemists only) humours balance if you have it</td>
</tr>
<tr class="row-even"><td>&#64;homunculusbal</td>
<td>(alchemists only) homunculus balance if you have it</td>
</tr>
<tr class="row-odd"><td>&#64;shrugging</td>
<td>(serpents only) shrugging balance if you have it</td>
</tr>
<tr class="row-even"><td>&#64;healingbal</td>
<td>(priests only) healing balance if you have it</td>
</tr>
<tr class="row-odd"><td>&#64;kai</td>
<td>(monks only) current kai amount</td>
</tr>
<tr class="row-even"><td>&#64;shin</td>
<td>(blademasters only) current shin amount</td>
</tr>
<tr class="row-odd"><td>&#64;morph</td>
<td>(morph users only) your current morph</td>
</tr>
<tr class="row-even"><td>&#64;power</td>
<td>your shin or kai amount, or nothing if you don&#8217;t use them</td>
</tr>
<tr class="row-odd"><td>&#64;promptstring</td>
<td>emulates the Achaean prompt string + old Vadi-M&#8217;s prompt ending (contributed by Lynara)</td>
</tr>
<tr class="row-even"><td>&#64;timestamp</td>
<td>the current timestamp, in hh:mm:ss.zzz format</td>
</tr>
<tr class="row-odd"><td>&#64;servertimestamp</td>
<td>timestamp as given by the game (*s option in HELP PROMPT)</td>
</tr>
<tr class="row-even"><td>&#64;prone</td>
<td>adds a &#8216;p&#8217; to the prompt if you&#8217;re prone</td>
</tr>
<tr class="row-odd"><td>&#64;Prone</td>
<td>adds a &#8216;P&#8217; to the prompt if you&#8217;re prone</td>
</tr>
<tr class="row-even"><td>&#64;&#64;</td>
<td>adds a &#8216;&#64;&#8217; to the prompt if you&#8217;re phased/astralformed/blackwinded</td>
</tr>
<tr class="row-odd"><td>&#64;affs</td>
<td>shows which affs have you got in shortened form (originally from Iocun)</td>
</tr>
<tr class="row-even"><td>&#64;target</td>
<td>adds the value of your variable &#8216;target&#8217;</td>
</tr>
<tr class="row-odd"><td>&#64;diffhealth</td>
<td>shows the difference in health since the last prompt</td>
</tr>
<tr class="row-even"><td>&#64;diffmana</td>
<td>shows the difference in mana since the last prompt</td>
</tr>
<tr class="row-odd"><td>&#64;(diffhealth)</td>
<td>like diffhealth, but adds () when there&#8217;s a change</td>
</tr>
<tr class="row-even"><td>&#64;(diffmana)</td>
<td>like diffmana, but adds () when there&#8217;s a change</td>
</tr>
<tr class="row-odd"><td>&#64;[diffhealth]</td>
<td>like diffhealth, but adds [] when there&#8217;s a change</td>
</tr>
<tr class="row-even"><td>&#64;[diffmana]</td>
<td>like diffmana, but adds [] when there&#8217;s a change</td>
</tr>
<tr class="row-odd"><td>&#64;mem</td>
<td>shows memory use in MB by Lua only (that doesn&#8217;t mean all of Mudlet total)</td>
</tr>
<tr class="row-even"><td>&#64;exits</td>
<td>shows the exits in the room (based off GMCP)</td>
</tr>
<tr class="row-odd"><td>&#64;EXITS</td>
<td>shows the exits in the room, capitalized</td>
</tr>
<tr class="row-even"><td>&#64;day</td>
<td>shows the current in-game day</td>
</tr>
<tr class="row-odd"><td>&#64;month</td>
<td>shows the current in-game month</td>
</tr>
<tr class="row-even"><td>&#64;year</td>
<td>shows the current in-game year</td>
</tr>
<tr class="row-odd"><td>&#64;gametarget</td>
<td>shows your current in-game target, as either set by attacking an NPC or using the in-game <code class="docutils literal"><span class="pre">settarget</span></code> alias. This will auto-update your in-game prompt to include the target name.</td>
</tr>
<tr class="row-even"><td>&#64;gametargethp</td>
<td>shows your current in-game targets health, as either set by attacking an NPC. This will auto-update your in-game prompt to include the target&#8217;s health %.</td>
</tr>
<tr class="row-odd"><td>&#64;weaponmastery</td>
<td>shows the weaponmastery&#8217;s - either momentum or ferocity - amount</td>
</tr>
</tbody>
</table>
<p>Available colours are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Colour</th>
<th class="head">What colour it sets</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>^1</td>
<td>proper colour for your current health (green if ok, yellow if wounded, red if badly wounded)</td>
</tr>
<tr class="row-odd"><td>^2</td>
<td>proper colour for your current mana</td>
</tr>
<tr class="row-even"><td>^4</td>
<td>proper colour for your current willpower</td>
</tr>
<tr class="row-odd"><td>^5</td>
<td>proper colour for your current endurance</td>
</tr>
<tr class="row-even"><td>^6</td>
<td>(monk or blademaster only) proper colour for your kai/shin (color is set depending on the ability to do to use kaido/shindo skills)</td>
</tr>
<tr class="row-odd"><td>^7</td>
<td>proper color for the &#64;power tag</td>
</tr>
<tr class="row-even"><td>^gametarget</td>
<td>proper colour for the gametarget&#8217;s colour (red - nearly dead, orange_red - grievously wounded, dark_orange - injured, orange - slightly injured)</td>
</tr>
<tr class="row-odd"><td>^r</td>
<td>red</td>
</tr>
<tr class="row-even"><td>^R</td>
<td>dark red</td>
</tr>
<tr class="row-odd"><td>^g</td>
<td>green</td>
</tr>
<tr class="row-even"><td>^G</td>
<td>dark green</td>
</tr>
<tr class="row-odd"><td>^y</td>
<td>yellow</td>
</tr>
<tr class="row-even"><td>^Y</td>
<td>dark yellow</td>
</tr>
<tr class="row-odd"><td>^b</td>
<td>blue</td>
</tr>
<tr class="row-even"><td>^B</td>
<td>dark blue</td>
</tr>
<tr class="row-odd"><td>^m</td>
<td>magenta</td>
</tr>
<tr class="row-even"><td>^M</td>
<td>dark magenta</td>
</tr>
<tr class="row-odd"><td>^c</td>
<td>cyan</td>
</tr>
<tr class="row-even"><td>^C</td>
<td>dark cyan</td>
</tr>
<tr class="row-odd"><td>^w</td>
<td>white</td>
</tr>
<tr class="row-even"><td>^W</td>
<td>dark white</td>
</tr>
<tr class="row-odd"><td>^color</td>
<td>any colour that is visible in <a class="reference external" href="http://wiki.mudlet.org/w/File:ShowColors.png">showColors()</a> function</td>
</tr>
</tbody>
</table>
<p>Just as Mudlet and Svof, the custom prompt was designed with speed in mind and optimized to the max. In practical tests, the speed of it is <em>very</em> fast - making it hard to measure because the difference on my laptop isn&#8217;t too noticeable. You can test for yourself though - the S: number bottom-right in Mudlet shows your system lag - how much time <em>all</em> your triggers took to process the last line. Hold the enter button down on a blank command line so all you&#8217;ll be getting is a bunch of prompts, and watch the S: number change. Do that with and without the custom prompt, and you&#8217;ll probably be convinced that it&#8217;s fast.</p>
<div class="section" id="custom-prompt-examples">
<h4>Custom prompt examples<a class="headerlink" href="#custom-prompt-examples" title="Permalink to this headline">¶</a></h4>
<p>Here are some sample prompts for you to get ideas from. Feel free to share your custom prompt if you&#8217;d like it added here:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span>vconfig customprompt ^G(^g@eqbal^G) ^1@healthh|@%health%, ^2@manam|@%mana%, ^G@%willpowerw%, @%endurancee%, ^G(@defs)- @affs {@day @month}
</pre></div>
</div>
<span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">(</span><span style="color: rgb(0,255,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">ex</span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">) 6700h|100%, 6710m|100%, 100w%, 100e%, (cdk)-  {14 Sarapin}</span><div class="highlight-lua"><div class="highlight"><pre><span></span>vconfig customprompt ^1@healthh, ^2@mana|@%mana%m, ^5@%endurance%e, ^4@%willpower%w @defs-
</pre></div>
</div>
<span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace">6700h, 6710|100%m, 100%e, 100%w cdk-</span><div class="highlight-lua"><div class="highlight"><pre><span></span>vconfig customprompt ^1H: @health ^W(^1@%health%^W), ^2M: @mana ^W(^2@%mana%^W) ^4@willpowerw, ^5@endurancee ^W@%xp% @eqbal|@defs- @timestamp
</pre></div>
</div>
<span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">H: 6700 </span><span style="color: rgb(192,192,192); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">(</span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">100%</span><span style="color: rgb(192,192,192); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">), </span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">M: 6710 </span><span style="color: rgb(192,192,192); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">(</span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">100%</span><span style="color: rgb(192,192,192); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">) </span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">29400w, 32400e </span><span style="color: rgb(192,192,192); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">82.4% ex|cdk- 15:19:27.565</span><p>A default game one, with xp and timestamps:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span>vconfig customprompt ^1@healthh, ^2@manam, ^5@endurancee, ^4@willpowerw ^W@eqbal@defs @%xp- @timestamp
</pre></div>
</div>
<span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">6700h, 6710m, 32400e, 29400w </span><span style="color: rgb(192,192,192); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">excdk 82.4- 15:21:20.442</span><p>One for monks:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span>vconfig customprompt ^1@healthh, ^2@manam|@%mana%m, ^5@%endurance%e, ^4@%willpower%w, ^c@kai kai, ^c@eqbal, ^c@%xp%, ^y@defs-
</pre></div>
</div>
<p>A fancy one by Drazik</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span>vconfig customprompt ^1@health^gh ^DarkSlateGrey(^Y@%health^g%^DarkSlateGrey), ^2@mana^gm ^DarkSlateGrey(^2@%mana^g%^DarkSlateGrey), ^5@endurance^ge ^DarkSlateGrey(^4@%endurance^g%^DarkSlateGrey), ^4@willpower^gw ^DarkSlateGrey(^4@%willpower^g%^DarkSlateGrey) ^W@defs^DarkSlateGrey|^W@eqbal ^DarkSlateGrey(^a_onelevel@timestamp^DarkSlateGrey)^W-
</pre></div>
</div>
<span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">6700</span><span style="color: rgb(0,255,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">h </span><span style="color: rgb(47,79,79); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">(</span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">100</span><span style="color: rgb(0,255,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">%</span><span style="color: rgb(47,79,79); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">), </span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">6710</span><span style="color: rgb(0,255,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">m </span><span style="color: rgb(47,79,79); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">(</span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">100</span><span style="color: rgb(0,255,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">%</span><span style="color: rgb(47,79,79); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">), </span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">32400</span><span style="color: rgb(0,255,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">e </span><span style="color: rgb(47,79,79); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">(</span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">100</span><span style="color: rgb(0,255,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">%</span><span style="color: rgb(47,79,79); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">), </span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">29400</span><span style="color: rgb(0,255,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">w </span><span style="color: rgb(47,79,79); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">(</span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">100</span><span style="color: rgb(0,255,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">%</span><span style="color: rgb(47,79,79); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">) </span><span style="color: rgb(192,192,192); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">cdk</span><span style="color: rgb(47,79,79); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">|</span><span style="color: rgb(192,192,192); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">ex </span><span style="color: rgb(47,79,79); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">(</span><span style="color: rgb(45,46,46); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">15:23:41.402</span><span style="color: rgb(47,79,79); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">)</span><span style="color: rgb(192,192,192); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">-</span><p>Custom prompt by Molimo for low resolutions - minimal, yet informative. It keeps everything separated with pipes/vertical bars that are all the same green shade most people come to expect seeing their prompt colored as, while eq/bal and defs pop out in magenta so you can keep track of them, and your experience progress is shown in a cyan like the old Nexus experience bar.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span>vconfig customprompt ^G|^1@healthHP^G|^2@manaMP^G|^5@enduranceEP^G|^4@willpowerWP^G|^m@eqbal@defs^G|^C@%xp/100%XP^G|
</pre></div>
</div>
<span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">|6700HP|6710MP|32400EP|29400WP|</span><span style="color: rgb(255,0,255); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">excdk</span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">|</span><span style="color: rgb(0,128,128); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">82.4/100%XP</span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">|</span><p>Custom prompt from Lazareth - simple and helps for those that aren&#8217;t really with willpower users. Shows the xp in a color that sticks out  but isn&#8217;t quite too distracting.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span>vconfig customprompt ^1H:@health ^W(^1@%health%^W) ^2M: @mana ^W(^2@%mana%^W) ^5E: @endurance ^W(^5@%endurance%^W) ^R@%xp%
</pre></div>
</div>
<span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">H:6700 </span><span style="color: rgb(192,192,192); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">(</span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">100%</span><span style="color: rgb(192,192,192); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">) </span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">M: 6710 </span><span style="color: rgb(192,192,192); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">(</span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">100%</span><span style="color: rgb(192,192,192); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">) </span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">E: 32400 </span><span style="color: rgb(192,192,192); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">(</span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">100%</span><span style="color: rgb(192,192,192); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">) </span><span style="color: rgb(128,0,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">82.4%</span><p>Custom prompt from Mako, looks pretty nice and unique:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span>vconfig customprompt | ^1@health^ghp^r@(diffhealth) | ^2@mana^bmp^2^gray^b@diffmana^gray(^2@%mana^g%^gray) |^b ^5@endurance^ge^1| ^4@willpower^gw^2^gold^DarkOrange@eqbal@affs^W- ^c@%xp%,@promptstring
</pre></div>
</div>
<span style="color: rgb(192,192,192); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">| </span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">6700</span><span style="color: rgb(0,255,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">hp</span><span style="color: rgb(255,0,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;"> | </span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">6660</span><span style="color: rgb(0,85,255); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">mp</span><span style="color: rgb(190,190,190); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">(</span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">99</span><span style="color: rgb(0,255,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">%</span><span style="color: rgb(190,190,190); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">) |</span><span style="color: rgb(0,85,255); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;"> </span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">32400</span><span style="color: rgb(0,255,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">e</span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">| 29392</span><span style="color: rgb(0,255,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">w</span><span style="color: rgb(255,140,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">ex</span><span style="color: rgb(192,192,192); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">- </span><span style="color: rgb(0,255,255); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">82.4%,</span><span style="color: rgb(119,136,153); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">c</span><span style="color: rgb(255,255,255); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">ex</span><span style="color: rgb(119,136,153); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace;">kd-</span><p>Custom prompt from Lisbethae, illustrates target and in game date:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span>vconfig customprompt ^GH:^1@health/@maxhealth ^GM:^2@mana/@maxmana ^GE:^5@endurance/@maxendurance ^GW:^4@willpower/@maxwillpower @promptstringorig@affs^W- ^C@day^C @month^C @year^b @timestamp ^m@gametarget
</pre></div>
</div>
<span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-weight: normal; font-style: normal; font-decoration: normal; font-family: Monospace;">H:4276/4276 M:<span style="color: rgb(255,255,0); background: rgb(0,0,0); font-weight: normal; font-style: normal; font-decoration: normal">3683/4987 </span><span style="color: rgb(0,179,0); background: rgb(0,0,0); font-weight: normal; font-style: normal; font-decoration: normal">E:18340/18340 W:</span><span style="color: rgb(255,255,0); background: rgb(0,0,0); font-weight: normal; font-style: normal; font-decoration: normal">8506/19510 </span><span style="color: rgb(190,190,190); background: rgb(0,0,0); font-weight: normal; font-style: normal; font-decoration: normal">cexkdb</span><span style="color: rgb(192,192,192); background: rgb(0,0,0); font-weight: normal; font-style: normal; font-decoration: normal">- </span><span style="color: rgb(0,128,128); background: rgb(0,0,0); font-weight: normal; font-style: normal; font-decoration: normal">2 Sarapin 675</span><span style="color: rgb(0,85,255); background: rgb(0,0,0); font-weight: normal; font-style: normal; font-decoration: normal"> 06:09:49.046 </span><span style="color: rgb(255,0,255); background: rgb(0,0,0); font-weight: normal; font-style: normal; font-decoration: normal">rat</span></span></div>
<div class="section" id="adding-custom-tags-and-colours">
<h4>Adding custom tags and colours<a class="headerlink" href="#adding-custom-tags-and-colours" title="Permalink to this headline">¶</a></h4>
<p>You can also define your own custom tags (that run functions or display a variable) or colours for use in the custom prompt. To do it, put the code into a new script. Here are a few examples:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- define a custom tag ^magenta that inserts the magenta few</span>
<span class="n">svo</span><span class="p">.</span><span class="n">adddefinition</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">^xmagenta&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">&#39;&lt;magenta&gt;&#39;&quot;</span><span class="p">)</span>

<span class="c1">-- define a custom tag that displays the value of a variable, &#39;target&#39;</span>
<span class="n">svo</span><span class="p">.</span><span class="n">adddefinition</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">@target&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">target&quot;</span><span class="p">)</span>

<span class="c1">-- or define a a tag that runs a function, gets the result from it and inserts it.</span>
<span class="n">svo</span><span class="p">.</span><span class="n">adddefinition</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">@myfunction&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">myfunction()&quot;</span><span class="p">)</span>

<span class="c1">-- returns the value of the &#39;target&#39; variable in red, or &#39;no target&#39; in green if it&#39;s not set</span>
<span class="k">function</span> <span class="nf">myfunction</span><span class="p">()</span>
  <span class="k">if</span> <span class="n">target</span> <span class="k">then</span> <span class="k">return</span> <span class="s2">&quot;</span><span class="s">&lt;red&gt;&quot;</span><span class="o">..</span><span class="n">target</span> <span class="k">else</span> <span class="k">return</span> <span class="s2">&quot;</span><span class="s">&lt;green&gt;no target&quot;</span> <span class="k">end</span>
<span class="k">end</span>

<span class="c1">-- or define a tag that inserts the timestamp</span>
<span class="n">svo</span><span class="p">.</span><span class="n">adddefinition</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">@timestamp&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">getTime(true, &#39;hh:mm:ss.zzz&#39;)&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>From these examples you can derive some rules:</p>
<ul class="simple">
<li>tags should not &#8216;nest&#8217; within each other - declaring a colour tag of ^magenta wouldn&#8217;t work since we already have ^m and that one would &#8216;steal&#8217; it</li>
<li>tags that just point to variables should just have the variable name in quotes</li>
<li>tags that point to functions should have the function name with two brackets in quotes</li>
<li>note: if you&#8217;d like the function not to insert any text, then return &#8220;&#8221;</li>
<li>tags can really start with anything and aren&#8217;t limited to ^ or &#64;, but it&#8217;ll be easier for you to keep the tradition</li>
</ul>
<p>Tags are not saved upon a profile restart, so you&#8217;d want your scripts declaring the necessary tags on startup. If you&#8217;d like to change a tag you made previously, then you can just call the function again and it will over-write it. Do note that it will also allow you to overwrite the default Svof tags - you normally shouldn&#8217;t do that, but if you do it by accident, they will be restored on a profile restart.</p>
</div>
<div class="section" id="registering-custom-tags-when-svof-is-ready">
<h4>Registering custom tags when Svof is ready<a class="headerlink" href="#registering-custom-tags-when-svof-is-ready" title="Permalink to this headline">¶</a></h4>
<p>Adding your own custom tag to the prompt, you might run into a problem: if Svof scripts are placed your script that calls svo.adddefinition(), then it won&#8217;t work, and you&#8217;d have to click on your script to run (and load) it again.</p>
<p>To get around this, you can make your prompt tag only get registered when Svof has loaded. See below on how.</p>
</div>
</div>
<div class="section" id="running-scripts-when-svof-is-ready">
<h3>Running scripts when Svof is ready<a class="headerlink" href="#running-scripts-when-svof-is-ready" title="Permalink to this headline">¶</a></h3>
<p>Should you work with custom prompt tags, custom tree/restore/dragonheal strats or whatever else Svof mods you do in scripts, you&#8217;ll notice that in order to make use of the system - the system needs to actually exist first. As Mudlet loads all scripts logically in the visual order, this means often shuffling your scripts to be below Svof&#8217;s after you upgrade the system.</p>
<p>There&#8217;s a solution to that, and that is making use of the <code class="docutils literal"><span class="pre">svo</span> <span class="pre">system</span> <span class="pre">loaded</span></code> event - once you do that, you don&#8217;t have to shuffle stuff around anymore.</p>
<p>The point of the trick is turning your script into one that is hooked to an event - so it&#8217;ll only go off once the event does. The system raises the event when it&#8217;s ready, your script does it&#8217;s job, and everything is good. Here is an example of using the event to register a custom prompt tag:</p>
<img alt="_images/register-tag-on-load.png" class="align-center" src="_images/register-tag-on-load.png" />
<p>The <code class="docutils literal"><span class="pre">add_svo_tag</span></code> function is the one that actually does the job. You can put table definitions, function definitions inside it as well - and generally anything that relies on Svof functions being present.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">Now that you script is running when the event is raised, it won&#8217;t run when you save it - that is, the prompt tag won&#8217;t be updated right away. You can manually do <code class="docutils literal"><span class="pre">vlua</span> <span class="pre">add_svo_tag()</span></code> to update it, or add <code class="docutils literal"><span class="pre">if</span> <span class="pre">svo</span> <span class="pre">then</span> <span class="pre">add_svo_tag()</span> <span class="pre">end</span></code> after the function to restore the &#8216;run on save&#8217; behaviour.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="troubleshooting">
<h3>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h3>
<dl class="glossary docutils">
<dt id="term-selfishness-toggle-sl-stopped-working-how-to-fix">Selfishness toggle (<strong>sl</strong>) stopped working, how to fix?</dt>
<dd>You&#8217;re still in defup - see <strong>vshow</strong> as to why. The <strong>sl</strong> toggle is a shortcut for <strong>vkeep selfishness</strong>, which is a keepup feature - and keepup comes after defup is finished.</dd>
<dt id="term-what-do-i-do-if-it-keeps-smoking-a-pipe-non-stop">What do I do if it keeps smoking a pipe non stop?</dt>
<dd>Sounds like the system thinks that pipe has something else than what it really does. Check <code class="docutils literal"><span class="pre">plist</span></code>, the system will realize what is there and fix everything up.</dd>
</dl>
</div>
<div class="section" id="random-questions-you-might-ask">
<h3>Random questions you might ask<a class="headerlink" href="#random-questions-you-might-ask" title="Permalink to this headline">¶</a></h3>
<p><strong>How come Svof uses different affliction names than the game?</strong></p>
<p>Svof was released in September 2011, Achaea&#8217;s internal affliction names became public via the server curing system in May 2014.</p>
<p>Note that in particular, Svof counts limb damage as crippled &gt; mangled &gt; mutilated, which is different from the games broken &gt; damaged &gt; mangled.</p>
<p><strong>Can I make it so moss isn&#8217;t used in blackout?</strong></p>
<p>Yep - set vconfig assumestats to be higher than your mosshealth and mossmana!</p>
<p><strong>Why does the system do generosity right after sending quit to Achaea?</strong></p>
<p>Because it goes into the &#8216;empty&#8217; defence mode, and you don&#8217;t have selfishness on keepup in it - hence it takes it down, as in any other defence mode. It goes into empty defence mode so herb pre-cache, which is defence-mode dependent, doesn&#8217;t re-outr herbs again before qqing.</p>
<p><strong>Where does Svof store which defense mode it&#8217;s in?</strong></p>
<p>In <em>svo.defs.mode</em>. You can also, for example, check if something is on keepup in the current mode with svo.defkeepup[svo.defs.mode].&lt;def&gt;, ie to see if speed is on keepup right now - <em>svo.defkeepup[svo.defs.mode].speed</em>.</p>
<p><strong>Is there a way to pause the system through an alias?</strong></p>
<p>Yes, <code class="docutils literal"><span class="pre">svo.app(&quot;on&quot;)</span></code> or <code class="docutils literal"><span class="pre">svo.app(&quot;off&quot;)</span></code>. You can check if it&#8217;s paused with <code class="docutils literal"><span class="pre">if</span> <span class="pre">svo.conf.paused</span> <span class="pre">then</span> <span class="pre">...</span></code></p>
<p><strong>Why isn&#8217;t the system catching balance/equilibrium?</strong></p>
<p>Make sure that your Achaean prompt is enabled (even if you&#8217;re using a custom prompt).</p>
<p><strong>How do I access the errors view?</strong></p>
<p>Go to the aliases/triggers/etc editor and on the bottom left, click the &#8216;errors&#8217; button. To be able to copy from it, you need to select, <em>right click</em> and hit <em>Copy</em>.</p>
<p><strong>How to disable various Svof highlights?</strong></p>
<p>To permanently disable Svof highlights you don&#8217;t like (or prefer to have your own for), make a new script that uses the <em>svo loaded event</em> to disable various triggers by their name.</p>
<p><strong>Why isn&#8217;t stand-alone relapsing getting cured quickly?</strong></p>
<p>With anti-illusion on - ie, when fighting serpents - it&#8217;s hard to double-check that the relapsing was real, besides diagnosing. Since relapsing is a very important aff, if you blindly assume you&#8217;ve got it when you were bitten - it&#8217;ll jam the herb balance for other afflictions. Hence what Svof does it make sure relapsing is real either from a diagnose or from a real relapse that happened - and then it cures it.</p>
<p><strong>How to sketch runes?</strong></p>
<p>The following alias will dismount and sketch runes for you if you were mounted, or just sketch runes:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="kd">local</span> <span class="n">remount</span>
<span class="k">if</span> <span class="n">svo</span><span class="p">.</span><span class="n">defc</span><span class="p">.</span><span class="n">riding</span> <span class="k">then</span>
  <span class="n">remount</span> <span class="o">=</span> <span class="kc">true</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">defs</span><span class="p">.</span><span class="n">keepup</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">riding&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
<span class="k">end</span>

<span class="c1">-- now do all the sketching, use svo.doadd - it does it on balances</span>
<span class="n">svo</span><span class="p">.</span><span class="n">doadd</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">sketch rune a&quot;</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">doadd</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">sketch rune b&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="n">remount</span> <span class="k">then</span> <span class="c1">-- the last one should toggle riding keepup back on if necessary.</span>
<span class="c1">-- Notice how &#39;sketch rune c&#39; is listed twice, to be used whenever you want to remount or not!</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">doadd</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">sketch rune c$va on&quot;</span><span class="p">)</span>
<span class="k">else</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">doadd</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">sketch rune c&quot;</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>
</div>
<p><strong>How to do actions that require balance/equilibrium one right after another?</strong></p>
<p>You can utilize the do queue for this - instead of using <em>send()</em>, use <a class="reference internal" href="#svo.doadd" title="svo.doadd"><code class="xref py py-func docutils literal"><span class="pre">svo.doadd()</span></code></a> in exactly the same manner. It&#8217;s that simple!</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- this will send 2 writhes at once</span>
<span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">writhe&quot;</span><span class="p">)</span>
<span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">writhe&quot;</span><span class="p">)</span>

<span class="c1">-- this will send one after another</span>
<span class="n">svo</span><span class="p">.</span><span class="n">doadd</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">writhe&quot;</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">doadd</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">writhe&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>How to echo which limb is currently parried to a window?</strong></p>
<p>This little snippet shows how - since the table is a key/value one, it&#8217;s not immediately clear:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">limb</span><span class="p">,</span> <span class="n">lt</span> <span class="k">in</span> <span class="nb">pairs</span><span class="p">(</span><span class="n">svo</span><span class="p">.</span><span class="n">me</span><span class="p">.</span><span class="n">parry_currently</span><span class="p">)</span> <span class="k">do</span> <span class="k">if</span> <span class="n">lt</span> <span class="k">then</span> <span class="n">echo</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">mywindow&quot;</span><span class="p">,</span> <span class="n">limb</span><span class="p">)</span> <span class="k">break</span> <span class="k">end</span> <span class="k">end</span>
</pre></div>
</div>
<p><strong>How can I use the class tracking?</strong></p>
<p>Note that the system doesn&#8217;t track all classes you&#8217;re fighting yet, but that&#8217;ll be added with time. Regardless, you can use this snippet to check:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="nb">next</span><span class="p">(</span><span class="n">svo</span><span class="p">.</span><span class="n">enabledclasses</span><span class="p">)</span> <span class="k">then</span> <span class="n">cecho</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">you&#39;re fighting!&quot;</span><span class="p">)</span> <span class="k">end</span>
</pre></div>
</div>
<p>To check if you&#8217;re fighting a particular class:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">svo</span><span class="p">.</span><span class="n">enabledclasses</span><span class="p">.</span><span class="n">serpent</span> <span class="k">then</span> <span class="n">cecho</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">fighting a serpent!&quot;</span><span class="p">)</span> <span class="k">end</span>
</pre></div>
</div>
<p><strong>How to tell Svof I&#8217;ve got auctioned 20 fill/puff pipes?</strong></p>
<p>Do <strong>ii pipes</strong> and if it&#8217;s a black diamond pipe, Svof will automatically set that pipe as a 20 fill one. You can also check <em>plist</em> when the pipe has 10+ fills, Svof will realize that pipe can hold 20 fills as well.</p>
<p><strong>How to change the auto-assume disrupt to be 6s instead of 5s?</strong></p>
<p>Do <code class="docutils literal"><span class="pre">vlua</span> <span class="pre">svo.conf.noeqtimeout</span> <span class="pre">=</span> <span class="pre">6</span></code>.</p>
</div>
<div class="section" id="what-to-do-if-you-have-a-problem">
<h3>What to do if you have a problem?<a class="headerlink" href="#what-to-do-if-you-have-a-problem" title="Permalink to this headline">¶</a></h3>
<p>Copy/paste the problem parts that you saw in the game and file an <a class="reference external" href="https://github.com/svof/svof/issues">issue on Github</a>.</p>
<p>Then, try checking diagnose if it&#8217;s affliction related, or <em>def</em> if it&#8217;s defences-related. For afflictions, if you&#8217;re still having a problem - try <em>vreset affs</em> (or <em>vreseta</em> for short).</p>
<p>If it&#8217;s a problem with missing lines, send me an email with them and they&#8217;ll be added.</p>
<p>Thank you! :)</p>
<div class="section" id="custom-prompt-disappeared">
<h4>Custom prompt disappeared?<a class="headerlink" href="#custom-prompt-disappeared" title="Permalink to this headline">¶</a></h4>
<p>If your custom prompt disappeared, or inra stopped working - upgrade your <a class="reference external" href="http://www.mudlet.org/download/">Mudlet</a> to 2.1.</p>
</div>
</div>
<div class="section" id="updating-the-system">
<h3>Updating the system<a class="headerlink" href="#updating-the-system" title="Permalink to this headline">¶</a></h3>
<ol class="loweralpha simple">
<li>uninstall the Svof package</li>
<li>download the new package from the original link you got</li>
<li>install new package</li>
<li>restart mudlet. You can delete the zip now too, it&#8217;s not needed anymore. Do not vinstall again either - your vconfig settings stayed.</li>
</ol>
<p>Don&#8217;t worry, your personal settings won&#8217;t be lost.</p>
</div>
<div class="section" id="getting-help">
<h3>Getting help<a class="headerlink" href="#getting-help" title="Permalink to this headline">¶</a></h3>
<p>Ask for help on the Svof clan or from your friends!</p>
</div>
<div class="section" id="glossary">
<h3>Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h3>
<p>This is a list of terms that are commonly used by the system, that would be helpful to know.</p>
<dl class="glossary docutils">
<dt id="term-i">(i)</dt>
<dd><p class="first">The blue <strong>(i)</strong> shows up when the system detected and ignore an illusion that someone else made towards you. The system will often put an explanation for considering this as an illusion in the tooltip - hover your mouse over the (i) to see it.</p>
<p class="last">The reason for this compact notation is because aesthetic design is important - and spamming your screen with long text in combat would not be acceptable, but neither would be not telling you what happened. So to solve this, the system shows you this compact (i) that you can check later!</p>
</dd>
<dt id="term-ai">ai</dt>
<dd>Stands for anti-illusion - something you enable when you fight someone who can illusion - Serpents, Dragons, anyone with an Illusion wand and others. Enabling this will make the system be way more cautious about things that you see - afflictions you get and cure, defences you get and lose, balances that you see come - and other things people try and fake to you to throw you off track. The rule of thumb is - if you&#8217;re unsure, keep AI on, it&#8217;s better than having it off when you come to face illusions.</dd>
<dt id="term-bashing-triggers">bashing triggers</dt>
<dd>The system comes with a list of 500+ triggers for NPCs afflicting you that you can encounter while bashing. If you&#8217;re on a really slow computer, you might want to optimize a bit and turn off these &#8220;bashing&#8221; triggers while not bashing - with <strong>tf bashing</strong>. To them then on, use <strong>tn bashing</strong> and <strong>vshow</strong> to check if they&#8217;re on.</dd>
<dt id="term-defence-mode">defence mode</dt>
<dd><p class="first">A named list of consisting of defup and keepup defences. The system comes with three by default - <em>basic</em>, <em>combat</em>, and <em>empty</em>. Basic and combat aren&#8217;t special in any way, they&#8217;re just defaults to help you get started (you might want to fill basic with defences for a non-combat situation, and combat for when you plan to fight). <em>empty</em> should be kept devoid of defences, because the system switches to it by default when you&#8217;re QQing.</p>
<p>When you activate a defences mode (with <strong>vdefs &lt;mode&gt;</strong>), the system will do defup first - that is, put up all defences you&#8217;ve put on the <strong>vshow defup</strong> list for that mode. Once that&#8217;s done, it&#8217;ll tell you it&#8217;s ready for combat, and keepup for that defence mode will be activated - it&#8217;ll make sure that defences on <em>vshow keepup</em> stay up if they are removed / wear off.</p>
<p>When you log in, the system by default is in basic defences mode - it doesn&#8217;t do defup, keepup will put up whatever is missing.</p>
<p class="last">You can create your own defences modes as well for any special situations and name them however you like from the <strong>vshow</strong> menu.</p>
</dd>
<dt id="term-defup">defup</dt>
<dd>A set of defences that come with a defence mode that the system will raise when you activate the said defences mode. You can see the list of defences you have on defup for the current defence mode by doing <em>vshow defup</em>. You can click on the defences in the menu to add or remove them. You can also do <em>vdefup &lt;defence&gt;</em> or <em>vdefup &lt;defence&gt; on/off</em> to remove them by typing. You can cancel doing defup with <strong>vdefup cancel</strong>.</dd>
<dt id="term-keepup">keepup</dt>
<dd><p class="first">A set of defences that come with a defence mode, that the system will make sure stay up. You can see the defences you&#8217;re keeping up in the current defence mode by checking <strong>vshowk / vshow keepup</strong>, and click on defences in that menu to add or remove them. You can also add/remove them by typing with <em>vkeep &lt;defence&gt;</em> or <em>vkeep &lt;defence&gt; on/off</em>.</p>
<p>As a rule of thumb, you want to have cheap essentials like insomnia, cloak, kola on basic keepup, and combat essentials such as rebounding, insomnia, cloak, blind, deaf, mass, mindseye in combat. Do <strong>not</strong> put fitness on keepup - this will backfire, because someone can keep hitting you with asthma and keep you off balance. Just put it on defup, get it up when you get a breather.</p>
<p class="last">You can even put things like reflections or shield on keepup (shorthand aliases for this are <em>rfl</em> and <em>ts</em>).</p>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">this list is still in progress. I didn&#8217;t add everything yet :x</td>
</tr>
</tbody>
</table>
<p>Is there something missing from the list? Let me know, I&#8217;ll add it.</p>
</div>
<div class="section" id="vconfig-options">
<span id="id1"></span><h3>vconfig options<a class="headerlink" href="#vconfig-options" title="Permalink to this headline">¶</a></h3>
<dl class="glossary docutils">
<dt id="term-assumestats">assumestats</dt>
<dd>sets the % of health, and mana which the system will assume you have when afflicted with blackout or recklessness (and thus your real stats are unknown).</dd>
<dt id="term-autoarena">autoarena</dt>
<dd>automatically toggles arena mode, which does not use up any herbs/minerals and keeps them in your inventory after eating.</dd>
<dt id="term-autoclasses">autoclasses</dt>
<dd>toggles whenever the system will automatically enable class tricks (the tn &lt;class&gt; system) for the opponents you&#8217;re fighting.</dd>
<dt id="term-autoreject">autoreject</dt>
<dd>can be &#8216;whitelist&#8217;, &#8216;blacklist&#8217;, &#8216;on&#8217; of &#8216;off&#8217;. Setting this to on or off enables or disables autoreject. Setting it to &#8216;whitelist&#8217; means that names on the lust list (vshow lustlist) are the ones that will <em>not</em> be autorejected, while everyone else will be. Setting it to &#8216;blacklist&#8217; means that nobody except names on the lustlist will be autorejected. To add/remove names to the lustlist, see the <em>lustlist</em> option.</dd>
<dt id="term-autorewield">autorewield</dt>
<dd>enables automatic rewielding of whatever you were wielding if it gets forcefully unwielded.</dd>
<dt id="term-autoslick">autoslick</dt>
<dd>enables automatic priotisation of slickness when you have paralysis or impatience above asthma in prios, and you have asthma+slickness on you, getting hit with a herbstack.</dd>
<dt id="term-autotsc">autotsc</dt>
<dd>(on by default) with this on, the system will automatically enable the blockcommands option in retardation, and disable it in aeon.</dd>
<dt id="term-bleedamount">bleedamount</dt>
<dd>sets above which amount of health bleeding will you start clotting it. It&#8217;s set to 60 by default, since anything lower than that is insignificant and will be covered by moss &amp; natural clotting, while saving you mana.</dd>
<dt id="term-blockcommands">blockcommands</dt>
<dd>toggles whenever the system will deny your commands if it&#8217;s currently doing something in slow curing mode, or your commands override what the system is currently doing. A shortcut toggle for this is &#8216;tsc&#8217;.</dd>
<dt id="term-bloodswornoff">bloodswornoff</dt>
<dd>(devotion only) this will have Svof unlink the Bloodsworn if you have it and fall below the specified % of your max health. Default is 30%.</dd>
<dt id="term-breath">breath</dt>
<dd>lets the system know whenever you have the breathing skill in survival, so it can auto-keepup breath when choked.</dd>
<dt id="term-buckawns">buckawns</dt>
<dd>lets the system know whenever you have the buckawns artifact, which means that most of the webs should be ignored.</dd>
<dt id="term-burrowpause">burrowpause</dt>
<dd>enables automatic pausing of the system when you burrow. Being paused means the system won&#8217;t spam things like trying to light pipes and so on - but it also means it won&#8217;t heal or cure you, which is possible to do in a limited manner while paused.</dd>
<dt id="term-burstmode">burstmode</dt>
<dd>sets the defences mode into which the system should go into after starbursting/soulcaging/transmogging. By default, this is set to <em>empty</em> so that you aren&#8217;t screwed into dying again while redeffing. You might, however, want to improve this for yourself by creating a defence mode that has cloak and other basic herb or balance-less essentials and set burstmode to it - so in a raid situation, you get cloak up right away and don&#8217;t get killed again, but aren&#8217;t sitting there in the room forever redeffing.</dd>
<dt id="term-cadmusaffs">cadmusaffs</dt>
<dd>opens a menu where you can select which afflictions should the system focus for even though you&#8217;ve got the Cadmus affliction, which&#8217;ll give you a physical affliction when you do.</dd>
<dt id="term-ccto">ccto</dt>
<dd><p class="first">adjusts where do the <a class="reference internal" href="#term-cc"><span class="xref std std-term">cc alias</span></a> and the <a class="reference internal" href="#svo-cc-function"><span class="std std-ref">svo.cc()</span></a> function report information to. You can set it to a variety of different options:</p>
<blockquote class="last">
<div><ul class="simple">
<li><em>pt</em> or <em>party</em> - will report to the party channels.</li>
<li><em>clt</em> - will report to the currently selected clan.</li>
<li><em>tell person</em> - will be telling to that selected person.</li>
<li><em>ot</em> - will be reporting on the Order channel.</li>
<li><em>team</em> - will be reporting to the team channel (in the arena).</li>
<li><em>army</em> - will be reporting to the army channel.</li>
<li><em>short clan name</em> - will be reporting to that specific clan - you can see the short name of a clan by doing <em>clans</em>, the short name is in the dark-yellow brackets.</li>
<li><em>echo</em> - will be echoing things back to you, and not telling anyone else.</li>
</ul>
</div></blockquote>
</dd>
<dt id="term-changestype">changestype</dt>
<dd><p class="first">sets the display showchanges option, when enabled, will use. Possible options are:</p>
<blockquote class="last">
<div><ul class="simple">
<li><em>full</em> - default, shows just the exact amount of health/mana that was lost/gained, ie - &#8216;# Health&#8217;</li>
<li><em>short</em> - same as full, though in a more consise format &#8216;#h&#8217;</li>
<li><em>fullpercent</em> - uses a format similar to full, but also shows the amount as a % of your relative max</li>
<li><em>shortpercent</em> - uses a format similar to short, but also shows the amount as a % of your relative max</li>
</ul>
</div></blockquote>
</dd>
<dt id="term-classattacksamount">classattacksamount</dt>
<dd>sets how many attacks within <em>classattackswithin</em> seconds would consider a class as fighting with, and enable tricks/anti-illusion specifically for it.</dd>
<dt id="term-classattackswithin">classattackswithin</dt>
<dd>sets within how many seconds <em>classattacksamount</em> number of attacks would consider a class as fighting with, and enable tricks/anti-illusion specifically for it.</dd>
<dt id="term-clot">clot</dt>
<dd>lets the system know it can make use of the clotting skill to stop bleeding when you&#8217;re above the allowed mana level.</dd>
<dt id="term-commandecho">commandecho</dt>
<dd>with this enabled, the system will echo the commands that it&#8217;s doing on the main screen.</dd>
<dt id="term-commandechotype">commandechotype</dt>
<dd>you can specify whenever the system should use <strong>plain</strong>, <strong>fancy</strong> or <strong>fancynewline</strong> command echos. Plain are the default Mudlet ones - one per line with the default color for them. Fancy ones are compressed into one line for better clarity and less spam. <em>fancynewline</em> ones are just like fancy, except they&#8217;re on the next line and thus close to the left side, where your eyes typically are looking at.</dd>
<dt id="term-corruptedhealthmin">corruptedhealthmin</dt>
<dd>sets the minimum % of health below which the system will not clot your mana bleeding. You&#8217;ll be bleeding mana, and clotting will be taking your health when an Alchemist corrupts you - so this sets the min % of health below which the system will not clot, so you don&#8217;t die from health damage.</dd>
<dt id="term-curemethod">curemethod</dt>
<dd><p class="first">sets the mode the system should use cures in. Possible options are:</p>
<blockquote>
<div><ul class="simple">
<li><em>conconly</em> - default - uses only the usual Concoctionist potions, salves and herbs</li>
<li><em>transonly</em> - uses only the new Alchemy cures</li>
<li><em>preferconc</em> - uses either available cures that you have, but prefers Concoctions ones. This method does optimize for curing speed - if you don&#8217;t have a herb in your inventory but have an equivalent mineral, it&#8217;ll eat the mineral since it&#8217;s quicker (don&#8217;t have to outr the herb)</li>
<li><em>prefertrans</em> - similar to <em>preferconc</em>, but prefers Transmutation cures</li>
<li><em>prefercustom</em> - allows you to individually select which cures would you prefer over which, using the <code class="docutils literal"><span class="pre">vshow</span> <span class="pre">curelist</span></code> menu. Similar to other prefers, the system will use your preferred cure if you have it and fall back to the alternative if you don&#8217;t. If the cure is a herb/mineral and your preferred cure is in the rift but the alternative is already available in the inventory, then the system will eat the alternative, because that is faster than outring it.</li>
</ul>
</div></blockquote>
<p class="last">note: <em>preferconc</em> and <em>prefertrans</em> will switch to the alternative cure until you check elist (while having the elist sorter addon), or refill from a tun in a shop. You can also reset the use of backup elixirs via a button in <strong>vshow</strong>, if you refill your vials in person or such.</p>
</dd>
<dt id="term-customprompt">customprompt</dt>
<dd>see <em>Setting a custom prompt</em>.</dd>
<dt id="term-doubledo">doubledo</dt>
<dd>has Svof do everything twice while afflicted with stupidity.</dd>
<dt id="term-dragonflex">dragonflex</dt>
<dd>enables use of dragonflex for writhing whenever you have equilibrium and balance.</dd>
<dt id="term-echotype">echotype</dt>
<dd>sets the style of the systems echos. See <em>vsetup colours</em> for a list of available options.</dd>
<dt id="term-efficiency">efficiency</dt>
<dd>lets the system know that you have the Efficiency skill in Survival, which means that you can use the tree tattoo more often.</dd>
<dt id="term-elmid">elmid</dt>
<dd>manually sets the ID of the elm pipe.</dd>
<dt id="term-enableclassesfor">enableclassesfor</dt>
<dd>sets how many minutes a class stays enabled after you&#8217;re done fighting them. You can use fractions for this, ie 1.5 would mean a minute and a half.</dd>
<dt id="term-eventaffs">eventaffs</dt>
<dd>advanced option - this will have the system raise <a class="reference external" href="http://wiki.mudlet.org/w/Manual:Scripting#Event_System">Mudlet events</a> for when you receive or loss an affliction. The event names are <em>svo got aff</em> and <em>svo lost aff</em>, and the name of the affliction is passed as an argument. The events are raised after the <em>svo.affl</em> table is adjusted, so it&#8217;s safe to operate on it in your event handlers.</dd>
<dt id="term-fitness">fitness</dt>
<dd>enables use of fitness for curing locks and other things your custom strats might specify.</dd>
<dt id="term-fitnessfunc">fitnessfunc</dt>
<dd>opens a menu where you can enable/disable custom fitness strategies.</dd>
<dt id="term-focus">focus</dt>
<dd>enables use of focus for faster curing, as well as lock curing.</dd>
<dt id="term-focuswithcadmus">focuswithcadmus</dt>
<dd>enables use of focus whenever you&#8217;ve got the Cadmus affliction (which will give you a physical aff if you do focus).</dd>
<dt id="term-freevault">freevault</dt>
<dd><p class="first">tells the system whenever your vaulting takes up balance or not. The system auto-detects and auto-sets this by itself, so you don&#8217;t have to worry about configuring it.</p>
<p class="last">If your vault takes up no balance, then the system, when you get proned and knocked off your mount, can send stand vault, and dor or your custom function all at once - shaving you off ping time from just getting up and vaulting at once, and then doing dor or your custom function.</p>
</dd>
<dt id="term-gagbreath">gagbreath</dt>
<dd>toggles whenever the system should gag (hide) breathing or not. It will completely gag it - commands to put it up will not be shown, and you holding breath and exhaling will be completely gagged as well - so you will see no extra spam, at all.</dd>
<dt id="term-gagclot">gagclot</dt>
<dd>toggles whenever the system should gag (hide) clotting or not. This is typically quite spammy, so it&#8217;s a convenience to have this enabled.</dd>
<dt id="term-gageqbal">gageqbal</dt>
<dd>toggles whenever the system should gag (hide) off-balance and off-equilibrium messages, so you don&#8217;t get spammed.</dd>
<dt id="term-gagotherbreath">gagotherbreath</dt>
<dd>toggles whenever the system should gag (hide) breathing on/off lines from other people, which can be very spammy.</dd>
<dt id="term-gagrelight">gagrelight</dt>
<dd>toggles whenever the system should gag (hide) pipe relighting or not.</dd>
<dt id="term-gagservercuring">gagservercuring</dt>
<dd>toggles whenever the system should gag (hide) serverside&#8217;s <code class="docutils literal"><span class="pre">[CURING]:</span></code> messages.</dd>
<dt id="term-gagserverside">gagserverside</dt>
<dd>toggles whenever the system should gag (hide) system&#8217;s of serverside commands when serverside is enabled - this is things like priority switching, option changing and so on. This does not cover serverside&#8217;s <code class="docutils literal"><span class="pre">[CURING]:</span></code> messages, use the <code class="docutils literal"><span class="pre">gagservercuring</span></code> option for that.</dd>
<dt id="term-havelifevision">havelifevision</dt>
<dd>sets whenever you have the ability to raise the Lifevision defence through a customised artefact. If you have the skill, you don&#8217;t need to enable this, and the system autodetects the uncostomised artefact for you as well.</dd>
<dt id="term-haveshroud">haveshroud</dt>
<dd>sets whenever you have the ability to raise the shroud defence through a customised artefact. If you have the skill, you don&#8217;t need to enable this, and the system autodetects the uncostomised artefact for you as well.</dd>
<dt id="term-healingskill">healingskill</dt>
<dd>(priests only) sets your highest skill in Healing, so the system knows which afflictions can it use Healing to cure with.</dd>
<dt id="term-healthaffsabove">healthaffsabove</dt>
<dd><p class="first">sets the % of health above which the system will be curing fractures (skullfractures, crackedribs, wristfractures, torntendons). If you&#8217;re below this %, the system will sip health instead. This option ignores priorities between healhealth and other afflictions you have on the sip balance.</p>
<p class="last">Default is 70.</p>
</dd>
<dt id="term-herbstatsize">herbstatsize</dt>
<dd>sets the font size used in the <em>vshow herbstat</em> window. Default is 8.</dd>
<dt id="term-hinderpausecolour">hinderpausecolour</dt>
<dd>sets the colour to highlight lines by when you get hindered (paralysed, webbed, roped, proned, etc) while you&#8217;re paused. Used for realising if you need to stop your timed instakill (or not).</dd>
<dt id="term-ignoresinglebites">ignoresinglebites</dt>
<dd><strong>off</strong> by default. This option will have Svof ignore bites from a serpent - which are used by some combatants purely for illusion purposes. Ignoring these illusion would take load off the curing, with the obvious drawback that they could switch to using single bites for the actual purposes of afflicting. Hence, it&#8217;s up to you to enable this as you see fit - doing so could be very advantageous, but don&#8217;t get bitten by them realizing this and biting. You might also want to make a shortcut alias to toggle this option: <em>svo.config.set(&#8220;ignoresinglebites&#8221;, &#8220;on&#8221;, true)</em> or <em>svo.config.set(&#8220;ignoresinglebites&#8221;, &#8220;off&#8221;, true)</em>.</dd>
<dt id="term-ignoresinglestabs">ignoresinglestabs</dt>
<dd><strong>off</strong> by default. Similar to ignoresinglebites (see above), but for doublestabs.</dd>
<dt id="term-insomnia">insomnia</dt>
<dd>with this enabled, the system will make use the Insomnia skill in Survival when mana levels permit for the insomnia defence. Otherwise, it&#8217;ll use cohosh for the effect.</dd>
<dt id="term-lag">lag</dt>
<dd>lets the system known if you&#8217;re lagging or not - you want to use this option when you see the system double-doing command and wasting things too often. 0 is default, ie not lagging, and the number goes up to 3. Recently, 4 has been added - which is the same as 3, however do queue and balanceful function will not time out and reset things, instead waiting for the balance/eq lines before proceeding - this can help with some really dodgy mobile networks.</dd>
<dt id="term-lustlist">lustlist</dt>
<dd>adds or removes a name to the lust list. See autoreject option on how will Svof deal with the names on it.</dd>
<dt id="term-lyre">lyre</dt>
<dd>this enables/disables Svof&#8217;s Lyre mode.</dd>
<dt id="term-lyrecmd">lyrecmd</dt>
<dd><p class="first">customizes the commands Lyre mode will use instead of the default (class skill or artefact), if your artefact isn&#8217;t a lyre - but for example a mandolin. You&#8217;d set this to <strong>vconfig lyrecmd strum lyrecmd</strong>.</p>
<p>Along with setting this command, you&#8217;ll also want to teach the system your custom lyre message, with a trigger:</p>
<div class="last highlight-lua"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">trigger</span> <span class="n">to</span> <span class="n">match</span> <span class="n">on</span> <span class="n">the</span> <span class="n">lyre</span><span class="o">&gt;</span>
<span class="n">svo</span><span class="p">.</span><span class="n">defs</span><span class="p">.</span><span class="n">got_lyre</span><span class="p">()</span>
</pre></div>
</div>
</dd>
<dt id="term-manableedamount">manableedamount</dt>
<dd>sets above which amount of bleeding of mana will the system start clotting it. You&#8217;ll be bleeding mana instead of health when an Alchemist corrupts you (and your clotting will be using up health instead of mana. See <em>corruptedhealthmin</em> about not clotting yourself to death).</dd>
<dt id="term-manause">manause</dt>
<dd>sets the % below which the system should <em>not</em> use mana. ie, setting it to 30% will have the system not use insomnia, focus and etc. if you&#8217;re at 29% of total maximum mana but revert to normal cures.</dd>
<dt id="term-moss">moss</dt>
<dd>enables use of irid moss for healing health/mana when below specified levels.</dd>
<dt id="term-mosshealth">mosshealth</dt>
<dd>sets the % at which the system will use moss to heal health.</dd>
<dt id="term-mossmana">mossmana</dt>
<dd>sets the % at which the system will use moss to heal mana.</dd>
<dt id="term-org">org</dt>
<dd>sets the name of the city you&#8217;re in (this colours the system echos appropriately then).</dd>
<dt id="term-parry">parry</dt>
<dd>lets the system know whenever you have parry or not so it can make use of it.</dd>
<dt id="term-preclot">preclot</dt>
<dd>toggles whenever the system should preclot - that is, start clotting when you receive bleeding but before you take damage from bleeding. Doing so will save you from some bleeding damage, at the cost of a bigger willpower usage in the long term.</dd>
<dt id="term-rage">rage</dt>
<dd>(knight only) toggles the use of Rage for curing bellwort afflictions when possible.</dd>
<dt id="term-ragefunc">ragefunc</dt>
<dd>shows a menu where you can toggle which rage strategies are in use - see <a class="reference internal" href="#adding-your-own-restore-dragonheal-shrugging-rage-scenarios">Adding your own restore / dragonheal / shrugging / rage scenarios</a> on how to add new ones to it.</dd>
<dt id="term-recoverfooting">recoverfooting</dt>
<dd>(knight only) enables use of recover footing, which allows you to get up instantly after a double-handed attack.</dd>
<dt id="term-refillat">refillat</dt>
<dd>sets the amount of puffs at which, or below which, the system will refill the pipe. It&#8217;s set to one by default instead of zero, which does waste the herb a bit - but gives you more time to refill the pipe (which is good, because you can&#8217;t refill pipes paralyzed and under other conditions - you don&#8217;t want to run out). Note: if you have selfishness, the system will then smoke away all puffs (plus one extra just to be sure) - because you can&#8217;t empty a pipe while selfish.</dd>
<dt id="term-relight">relight</dt>
<dd>toggles whenever the system should automatically relight pipes that go out. While it doesn&#8217;t cause extra spam while lighting them, having the 3 messages appear every once in a while can get annoying - so there&#8217;s an option. Note though - if the system needs to use a smoke cure, and you have pipe relighting off, it <strong>will</strong> relight that pipe regardless to cure. But don&#8217;t rely on keeping your pipes unlit in combat; do enable the option if you&#8217;re going fighting.</dd>
<dt id="term-repeatcmd">repeatcmd</dt>
<dd>additionally repeats all system commands x times (so repeatcmd 1 will do everything twice, repeatcmd 2 will do everything thrice).</dd>
<dt id="term-restore">restore</dt>
<dd>lets the system know whenever it should restore or not.</dd>
<dt id="term-restorefunc">restorefunc</dt>
<dd>shows a menu where you can toggle which restore strategies are in use - see <a class="reference internal" href="#adding-your-own-restore-dragonheal-shrugging-rage-scenarios">Adding your own restore / dragonheal / shrugging / rage scenarios</a> on how to add new ones to it.</dd>
<dt id="term-shipmode">shipmode</dt>
<dd>this is to be enabled when you have the captains prompt on a ship - it adjusts Svof to work with the bigger prompt than usual. The system will try and auto-enable and disable this, but it&#8217;s not possible to do so in all cases, so you&#8217;d need to manually enable it at times.</dd>
<dt id="term-showafftimes">showafftimes</dt>
<dd><p class="first">sets whenever the system will tell you how long an affliction took to cure. With this on, you&#8217;ll see an orange number in seconds besides the line that shows which affliction was cured.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">bleeding is a bit of a special case in the system - if you aren&#8217;t bleeding for enough, the system will let the moss tattoo clot it away, instead of spending your mana on it. This means that you might see some high times for a small amount of bleeding - this is OK. If you&#8217;re bleeding for a lot, then it&#8217;ll clot and the number will be much smaller.</td>
</tr>
</tbody>
</table>
</dd>
<dt id="term-showbaltimes">showbaltimes</dt>
<dd>sets whenever balance and equilibrium times should be shown - at the moment, works only for balance and equilibrium. More balances will be added, however.</dd>
<dt id="term-showchanges">showchanges</dt>
<dd>sets whenever the system will show your health/mana gain or loss on the prompt.</dd>
<dt id="term-singleprompt">singleprompt</dt>
<dd>helps compress on the spam, allow your screen fit more lines and scroll at a slower speed by keeping only one prompt at the bottom of your screen and removing all others.</dd>
<dt id="term-singlepromptblank">singlepromptblank</dt>
<dd>with singleprompt enabled, this will leave a blank line in place of the prompt - lessening the effect of the text seeming &#8220;run-on&#8221;.</dd>
<dt id="term-singlepromptkeep">singlepromptkeep</dt>
<dd>with singleprompt enabled, this will keep the prompt - not actually removing it - and show a bigger version of it at the bottom as well.</dd>
<dt id="term-singlepromptsize">singlepromptsize</dt>
<dd>sets the size of the font used for the singleprompt window - it&#8217;s 11 by default.</dd>
<dt id="term-siphealth">siphealth</dt>
<dd>sets the % of health below which the system will sip health.</dd>
<dt id="term-sipmana">sipmana</dt>
<dd>sets the % of mana below which the system will sip mana.</dd>
<dt id="term-siprandom">siprandom</dt>
<dd>useful to enable if you have a lot of obfuscated vials - this change Svof&#8217;s sipping to sip out of random vials by their ID, instead of drinking one vial down after another. This helps with their self-refilling properties. It does require the elist sorter addon so the system knows the vial IDs however.</dd>
<dt id="term-skullcapid">skullcapid</dt>
<dd>manually sets the ID of the skullcap pipe to use.</dd>
<dt id="term-slowcurecolour">slowcurecolour</dt>
<dd>sets which color curing lines will be set to when in aeon or retardation. This helps you see the relevant curing lines when fighting in aeon, for example, and you get asthma on you right away - so you have an easier time tracking your curing progress in the spam. This is blue by default, and you can set it to &#8216;off&#8217; to disable the colouring.</dd>
<dt id="term-thirdeye">thirdeye</dt>
<dd>lets the system know whenever you have the thirdeye skill or not (so it&#8217;ll use echinacea or the skill).</dd>
<dt id="term-transmute">transmute</dt>
<dd>(monks only) sets the mode in which to use transmute in - can be replaceall, replacehealth, supplement or none. replaceall means that it won&#8217;t sip health nor eat moss to heal your health, but only use transmute. replacehealth will mean that it will not sip health, but use moss and transmute. supplement means that it&#8217;ll use all three ways to heal you, and none means that it won&#8217;t use transmute.</dd>
<dt id="term-transmuteamount">transmuteamount</dt>
<dd>(monks only) sets the percent of your max health at which transmute will kick in.</dd>
<dt id="term-tree">tree</dt>
<dd>toggles whenever the tree tattoo should be used for curing or not. When enabled, the system will touch tree when any of the scenarios enabled in <code class="docutils literal"><span class="pre">vconfig</span> <span class="pre">treefunc</span></code> match.</dd>
<dt id="term-treebalance">treebalance</dt>
<dd>sets a custom time, in seconds, for how long your treebalance takes. Setting this to 0 will use the systems default. The system will add 10s to this time if you&#8217;re afflicted with Nin&#8217;Kharsag.</dd>
<dt id="term-treefunc">treefunc</dt>
<dd>shows a menu where you can toggle which tree strategies are in use - see <a class="reference internal" href="#adding-your-own-tree-scenarios">Adding your own tree scenarios</a> on how to add new ones to it.</dd>
<dt id="term-unknownany">unknownany</dt>
<dd>sets the amount of unknown afflictions will the system let you have before it diagnoses to find out what they are.</dd>
<dt id="term-unknownfocus">unknownfocus</dt>
<dd>sets the amount of unknown, but focusable affliction the system will let you have before it diagnoses. It will use focus meanwhile to cure them meanwhile, but if the amount goes over this limit, it&#8217;ll diagnose.</dd>
<dt id="term-usehealing">usehealing</dt>
<dd>(priests only) can be either <em>full</em>, <em>partial</em> or <em>none</em> (default is <em>none</em>). <em>full</em> means that Healing will be mainly used for curing - and normal curing will only be used for afflictions that Healing can&#8217;t cure, or when you&#8217;re below the mana limit. <em>partial</em> means that normal curing will be used for everything, but supplemented with Healing whenever possible. <em>none</em> means that Healing won&#8217;t be used at all.</dd>
<dt id="term-valerianid">valerianid</dt>
<dd>manually sets the ID of the valerian pipe to use.</dd>
<dt id="term-waitherbai">waitherbai</dt>
<dd>if any-illusion is enabled, this will have the system not eat herbs while confirming suspicious illusions (paralysis/asthma/impatience). Note that this doesn&#8217;t affect waitparalysisai, this is only for the short time between the command and response to confirm.</dd>
<dt id="term-waitparalysisai">waitparalysisai</dt>
<dd>if anti-illusion is enabled and a suspicious paralysis line (possibly an illusion) comes along, and you&#8217;re without balance/equilibrium, with this off option (default), the system will assume paralysis to be true. With this option on, the system will wait until you have both balance and equilibrium to confirm paralysis before curing it, as you can&#8217;t confirm it anymore without balance/equilibrium. The downside of having the option on is that you might get balance/equilibrium back but not have herb balance, so you&#8217;ll be slowed down as you wait for herb balance to cure paralysis to do anything - while with the option off, you&#8217;d be falling for believable paralysis illusions as they can&#8217;t be confirmed.</dd>
<dt id="term-warningtype">warningtype</dt>
<dd>can be either <em>all</em>, <em>prompt</em>, <em>right</em> or <em>none</em> (default is <em>right</em>). This is about instakill warnings - with all, then the warning will be prefixed on every line while it&#8217;s in effect. With prompt, it will only be prefixed to prompt lines - and none will have it not prefix anything. <em>right</em>, a new option and now a default, will align the warning on the far right of the screen - thus staying out of your way yet being visible. It does assume that your Mudlets wrapping is set at 100 (you can see that in settings) in the <em>svo.conf.screenwidth</em> variable.</dd>
<dt id="term-weapon">weapon</dt>
<dd>(sentinels only) sets your weapon to the spear or trident that you use (can be, or include, the weapons ID).</dd>
</dl>
</div>
</div>
<div class="section" id="advanced-usage">
<h2>Advanced usage<a class="headerlink" href="#advanced-usage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="scripting-with-it">
<h3>Scripting with it<a class="headerlink" href="#scripting-with-it" title="Permalink to this headline">¶</a></h3>
<div class="section" id="afflictions">
<h4>Afflictions<a class="headerlink" href="#afflictions" title="Permalink to this headline">¶</a></h4>
<p>The system provides a lot of functions for direct use in your own combat/personal metasystem, and those are described in the Svof API.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">tip:</th><td class="field-body">A lot of functions take a <em>echoback</em> argument - it&#8217;s a boolean value that lets the function know whenever it should echo the results of its work or not.</td>
</tr>
</tbody>
</table>
<p>To check whenever you have a specific affliction, you can check it against the <em>svo.affl</em> table - ie, <code class="docutils literal"><span class="pre">if</span> <span class="pre">not</span> <span class="pre">svo.affl.paralysis</span> <span class="pre">then</span> <span class="pre">...</span> <span class="pre">end</span></code>. You can find out the name of all afflictions by checking the <code class="docutils literal"><span class="pre">vshow</span> <span class="pre">afflist</span></code>. Additionally, if the affliction can has some numeric value attached to it - like how much are you bleeding - then the <strong>svo.affl.&lt;affliction&gt;.count</strong> will be available that has the number (ie, <strong>svo.affl.bleeding.count</strong>).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">that the <code class="docutils literal"><span class="pre">svo.affl</span></code> table is read-only - modifying it won&#8217;t have effect on the system affliction tracking. You can use the <a class="reference internal" href="#svo.addaff" title="svo.addaff"><code class="xref py py-func docutils literal"><span class="pre">svo.addaff()</span></code></a> and <a class="reference internal" href="#svo.removeaff" title="svo.removeaff"><code class="xref py py-func docutils literal"><span class="pre">svo.removeaff()</span></code></a> functions instead.</td>
</tr>
</tbody>
</table>
<div class="section" id="triggering-on-affliction-got-lost-events">
<h5>Triggering on affliction got/lost events<a class="headerlink" href="#triggering-on-affliction-got-lost-events" title="Permalink to this headline">¶</a></h5>
<p>Svof also includes a great feature that allows you to easily &#8216;trigger&#8217; on the fact when you receive an affliction, without creating a multitude of triggers for an affliction. Svof will raise a <a class="reference external" href="http://wiki.mudlet.org/w/Manual:Scripting#Event_System">Mudlet event</a> when you receive or lose (cure) an affliction. This allows for many possibilities - you can change defence modes, priority lists or even automatically change system option when you receive/cure some affliction!</p>
<p>The three events you&#8217;ll be interested in <code class="docutils literal"><span class="pre">svo</span> <span class="pre">got</span> <span class="pre">aff</span></code>, <code class="docutils literal"><span class="pre">svo</span> <span class="pre">lost</span> <span class="pre">aff</span></code>, and <code class="docutils literal"><span class="pre">svo</span> <span class="pre">updated</span> <span class="pre">aff</span></code>. If you don&#8217;t know how to use <a class="reference external" href="http://wiki.mudlet.org/w/Manual:Scripting#Event_System">Mudlet events</a>, read on for a short demonstration.</p>
<p>Create a new script, and give it the name of <em>eventaffhandler</em>. Then, inside the script, add this:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="nf">eventaffhandler</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">affliction</span><span class="p">)</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">Event: %s, data: %s&quot;</span><span class="p">,</span> <span class="n">eventname</span><span class="p">,</span> <span class="n">affliction</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>
</div>
<p>The name of the script and the function name in the script have to be exactly the same, so if you change one, make sure to adjust the other. Now that we made our function, we want to hook it up to Svof&#8217;s events so it gets called when they happen - to do that, add <em>svo got aff</em> into the &#8216;Add User Defined Event Handler&#8217; line and press enter - that&#8217;ll make it appear in the &#8216;Registered Event Handlers&#8217; list. Do the same with <em>svo lost aff</em>.</p>
<p>At this point, you&#8217;re done! Your function will get called whenever you lose/gain an affliction, and for a test, it&#8217;ll echo that to the screen. You can do more fancy things like this now, for example:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="nf">eventaffhandler</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">affliction</span><span class="p">)</span>
  <span class="c1">-- this means that we got some affliction</span>
  <span class="k">if</span> <span class="n">event</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="s">svo got aff&quot;</span> <span class="k">then</span>
    <span class="c1">-- suddenly, retardation</span>
    <span class="k">if</span> <span class="n">affliction</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="s">retardation&quot;</span> <span class="k">then</span>
      <span class="c1">-- switch to retardation defence mode (that you have to make first, see vshow)</span>
      <span class="c1">-- maybe you don&#39;t want to upkeep certain defences here, only a minimal amount like insomnia, kola, cloak, etc...</span>
      <span class="n">svo</span><span class="p">.</span><span class="n">defs</span><span class="p">.</span><span class="n">switch</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">retardation&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
      <span class="c1">-- and import the &#39;retardation&#39; curing priorities</span>
      <span class="n">svo</span><span class="p">.</span><span class="n">prio</span><span class="p">.</span><span class="n">import</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">retardation&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">elseif</span> <span class="n">event</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="s">svo lost aff&quot;</span> <span class="k">then</span>
    <span class="k">if</span> <span class="n">affliction</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="s">retardation&quot;</span> <span class="k">then</span>
      <span class="n">svo</span><span class="p">.</span><span class="n">defs</span><span class="p">.</span><span class="n">switch</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">combat&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
      <span class="n">svo</span><span class="p">.</span><span class="n">prio</span><span class="p">.</span><span class="n">import</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">current&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
    <span class="k">end</span>
 <span class="k">elseif</span> <span class="n">event</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="s">svo updated aff&quot;</span> <span class="k">then</span>
    <span class="k">if</span> <span class="n">affliction</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="s">bleeding&quot;</span> <span class="k">then</span>
       <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">You&#39;re now bleeding at %d health!&quot;</span><span class="p">,</span> <span class="n">svo</span><span class="p">.</span><span class="n">affl</span><span class="p">.</span><span class="n">bleeding</span><span class="p">.</span><span class="n">count</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="section" id="checking-how-long-have-you-had-an-aff">
<h5>Checking how long have you had an aff<a class="headerlink" href="#checking-how-long-have-you-had-an-aff" title="Permalink to this headline">¶</a></h5>
<p>Svof keeps track of how long an affliction has been on you - and you can enable to see that with <em>vconfig showafftimes</em>. You can also make use of this in your scripts - in a UI, for example, that lists your current afflictions.</p>
<p>To check how long a particular aff has been on you, use this:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">getStopWatchTime</span><span class="p">(</span><span class="n">svo</span><span class="p">.</span><span class="n">affl</span><span class="p">.</span><span class="o">&lt;</span><span class="n">affliction</span><span class="o">&gt;</span><span class="p">.</span><span class="n">sw</span><span class="p">)</span>
</pre></div>
</div>
<p>This will tell you in seconds, with up to a thousandths of a second, how long have you had an aff for.</p>
<p>Using this in a UI, you&#8217;d probably want to setup a Mudlet Timer to update your affliction lists - because while updating your affs on every prompt might have been okay, if you want to add the times in there, you&#8217;d obviously need to update your list more often if you want the times to stay relevant.</p>
<p>Some strategies for dealing with this could be...</p>
<blockquote>
<div><ul class="simple">
<li>set a global timer for 1s - this means your times will have 1s precision, so you&#8217;d want to round the time you display to the nearest second - <strong>math.round(getStopWatchTime(svo.affl.&lt;affliction&gt;.sw))</strong></li>
<li>set a global timer for 100ms - this&#8217;ll tick 10 times a second. You&#8217;d want to round the time you display to one decimal point - <strong>string.format(&#8220;%.1f&#8221;, getStopWatchTime(svo.affl.illness.sw))</strong> will do it.</li>
</ul>
</div></blockquote>
<p>Here&#8217;s a little example to show you affs you&#8217;ve got with times:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">cecho</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">&lt;red&gt;Affs:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">aff</span> <span class="k">in</span> <span class="nb">pairs</span><span class="p">(</span><span class="n">svo</span><span class="p">.</span><span class="n">affl</span><span class="p">)</span> <span class="k">do</span>
  <span class="n">echo</span><span class="p">(</span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">%-10s (%.1f)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">getStopWatchTime</span><span class="p">(</span><span class="n">aff</span><span class="p">.</span><span class="n">sw</span><span class="p">)))</span>
<span class="k">end</span>
</pre></div>
</div>
<p>Change the echoes to redirect into a miniconsole, stick that code into a 100ms timer like so, and you&#8217;ll have something that updates pretty well.)</p>
<img alt="_images/updating-aff-counts.png" class="align-center" src="_images/updating-aff-counts.png" />
</div>
</div>
<div class="section" id="balances">
<h4>Balances<a class="headerlink" href="#balances" title="Permalink to this headline">¶</a></h4>
<p>To check whenever you have a certain balance, you can check it against the <em>svo.bals</em> table - like so:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">svo</span><span class="p">.</span><span class="n">bals</span><span class="p">.</span><span class="n">balance</span> <span class="ow">and</span> <span class="n">svo</span><span class="p">.</span><span class="n">bals</span><span class="p">.</span><span class="n">equilibrium</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">svo</span><span class="p">.</span><span class="n">affl</span><span class="p">.</span><span class="n">prone</span> <span class="k">then</span>
  <span class="n">dostuff</span><span class="p">()</span>
<span class="k">end</span>
</pre></div>
</div>
<p>You can find the names of all balances by checking <em>vshowb</em> or doing <code class="docutils literal"><span class="pre">display(svo.bals)</span></code>. Note that while the <em>svo.bals</em> table is modifiable and changes will take effect in the system, there really shouldn&#8217;t be any cases where you&#8217;d need to mess with it.</p>
<p>Each balance name represents the balance it mentions, with the exception of <strong>physical</strong> and <strong>misc</strong>. <strong>physical</strong> is for actions that require <em>both</em> balance and equilibrium to complete. <strong>misc</strong> actions generally don&#8217;t have any associated balance, or only require one of physical or equilibrium.</p>
<p>All of the available balances are (some will show depending on the system you&#8217;re using): <code class="docutils literal"><span class="pre">balance</span></code>, <code class="docutils literal"><span class="pre">dragonheal</span></code>, <code class="docutils literal"><span class="pre">entities</span></code>, <code class="docutils literal"><span class="pre">equilibrium</span></code>, <code class="docutils literal"><span class="pre">fitness</span></code>, <code class="docutils literal"><span class="pre">focus</span></code>, <code class="docutils literal"><span class="pre">healing</span></code>, <code class="docutils literal"><span class="pre">herb</span></code>, <code class="docutils literal"><span class="pre">homunculus</span></code>, <code class="docutils literal"><span class="pre">humour</span></code>, <code class="docutils literal"><span class="pre">hydra</span></code>, <code class="docutils literal"><span class="pre">leftarm</span></code>, <code class="docutils literal"><span class="pre">moss</span></code>, <code class="docutils literal"><span class="pre">purgative</span></code>, <code class="docutils literal"><span class="pre">rage</span></code>, <code class="docutils literal"><span class="pre">rightarm</span></code>, <code class="docutils literal"><span class="pre">salve</span></code>, <code class="docutils literal"><span class="pre">shrugging</span></code>, <code class="docutils literal"><span class="pre">sip</span></code>, <code class="docutils literal"><span class="pre">smoke</span></code>, <code class="docutils literal"><span class="pre">tree</span></code>, and <code class="docutils literal"><span class="pre">voice</span></code>.</p>
<p>To check if the system is going to use a balance (that is: it sent the relevant command to use a balance, and your script is running inbetween the time the system sent the command, and the command went through and used up a balance), you can use the <a class="reference internal" href="#svo.usingbalance" title="svo.usingbalance"><code class="xref py py-func docutils literal"><span class="pre">svo.usingbalance()</span></code></a> function.</p>
</div>
<div class="section" id="defences">
<h4>Defences<a class="headerlink" href="#defences" title="Permalink to this headline">¶</a></h4>
<p>Your current defences are available in the <em>svo.defc</em> table. Checking if you have a defence is similar to balances:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">svo</span><span class="p">.</span><span class="n">defc</span><span class="p">.</span><span class="n">wyvern</span> <span class="k">then</span>
  <span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">maul thing&quot;</span><span class="p">)</span>
<span class="k">else</span>
  <span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">kick thing&quot;</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">technical note - defences are stored in key-value format, with the defence name being the key, and the value a boolean. If you don&#8217;t have a defence, it either won&#8217;t exist in the table, or be set to false - so using <em>not svo.defc...</em> is best.</td>
</tr>
</tbody>
</table>
<div class="section" id="adjusting-def-lines">
<h5>Adjusting def lines<a class="headerlink" href="#adjusting-def-lines" title="Permalink to this headline">¶</a></h5>
<p>If you need to adjust for changed defence lines in game, you can do so by creating a new trigger and triggering it to one of these three things:</p>
<p>If it&#8217;s a new def line, trigger it to <code class="docutils literal"><span class="pre">svo.defs.def_&lt;defence&gt;()</span></code>.</p>
<p>If it&#8217;s a new line for when the defence comes up, trigger it to <code class="docutils literal"><span class="pre">svo.defs.got_&lt;defence&gt;()</span></code>.</p>
<p>If it&#8217;s a new line for when the defence goes down, trigger it to <code class="docutils literal"><span class="pre">svo.defs.lost_&lt;defence&gt;()</span></code>.</p>
<p>That&#8217;s it - pretty simple.</p>
</div>
</div>
<div class="section" id="stats">
<h4>Stats<a class="headerlink" href="#stats" title="Permalink to this headline">¶</a></h4>
<p>To check your current stats (health, mana, shin, kai, etc) you can look in the <em>svo.stats</em> table, for example:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">svo</span><span class="p">.</span><span class="n">stats</span><span class="p">.</span><span class="n">currenthealth</span> <span class="o">&lt;=</span> <span class="mi">800</span> <span class="k">then</span>
  <span class="n">runaway</span><span class="p">()</span>
<span class="k">end</span>
</pre></div>
</div>
<p>You can do <code class="docutils literal"><span class="pre">vlua</span> <span class="pre">svo.stats</span></code> to see all the available stats. Like balances, changing this table will affect the system, but there should be no reason to do so.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">the system also fills svo.stats.shin for Shindo users, svo.stats.kai for Kaido users, svo.stats.weaponmastery for momentum/ferocity for Knights.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="inventory-rift">
<h4>Inventory / rift<a class="headerlink" href="#inventory-rift" title="Permalink to this headline">¶</a></h4>
<p>The system tracks the herb contents of your rifts and inventories (for pre-caching and eating optimization purposes).</p>
<p>You can make use of this data by accessing the <em>svo.myrift</em> and <em>svo.myinv</em> tables - the key is the herb, and the value is the amount of the herb that&#8217;s present (if none is present, then the amount is 0).</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- check if we have at least one earwort in inv or not:</span>
<span class="k">if</span> <span class="n">svo</span><span class="p">.</span><span class="n">myinv</span><span class="p">.</span><span class="n">bloodroot</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">then</span>
  <span class="n">echo</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">Got some bloodroot in the inventory!&quot;</span><span class="p">)</span>
<span class="k">else</span>
  <span class="n">echo</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">Don&#39;t have any bloodroot in the inventory.&quot;</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="section" id="lust-list">
<h4>Lust list<a class="headerlink" href="#lust-list" title="Permalink to this headline">¶</a></h4>
<p>If you&#8217;d like to have access to the lust list in your triggers, then it is available via <em>svo.me.lustlist</em>. The lustlist mode is available via <em>svo.conf.autoreject</em> - which can be &#8216;black&#8217; or &#8216;white&#8217;.</p>
<p>For example, if you&#8217;d like to check if a name was on it, you could do:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- in a trigger, check if the captured name is on our lust list</span>
<span class="k">if</span> <span class="n">svo</span><span class="p">.</span><span class="n">me</span><span class="p">.</span><span class="n">lustlist</span><span class="p">[</span><span class="n">matches</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span> <span class="k">then</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">%s is on our list! murder them!&quot;</span><span class="p">,</span> <span class="n">matches</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="k">else</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">Looks like %s is pretty innocent.&quot;</span><span class="p">,</span> <span class="n">matches</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="section" id="svo-me-wielded">
<h4>svo.me.wielded<a class="headerlink" href="#svo-me-wielded" title="Permalink to this headline">¶</a></h4>
<p>The <strong>svo.me.wielded</strong> table keeps track of are you wielding. This can be very useful in your aliases - to check whenever you need to wield/unwield anything before wielding something else.</p>
<p>The table stores items you&#8217;re wielding with their in-game ID as a string key, with the value being a table that has the item name, and the hand it is in. To see what the table currently has, do <em>vlua svo.me.wielded</em>.</p>
<p>Here are some examples on how to make use of it:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- a function that makes sure a particular dirk is wielded</span>
<span class="k">function</span> <span class="nf">dirkCheckR</span><span class="p">()</span>
   <span class="k">if</span> <span class="ow">not</span> <span class="n">svo</span><span class="p">.</span><span class="n">me</span><span class="p">.</span><span class="n">wielded</span><span class="p">[</span><span class="s2">&quot;</span><span class="s">172###&quot;</span><span class="p">]</span> <span class="k">then</span>
      <span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">unwield right&quot;</span><span class="p">)</span>
      <span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">wield 172### right&quot;</span><span class="p">)</span>
   <span class="k">end</span>
<span class="k">end</span>


<span class="c1">-- here&#39;s another fancy example, that checks if any rapier is wielded - if not, it&#39;ll do the code to wield one:</span>
<span class="k">if</span> <span class="ow">not</span> <span class="nb">next</span><span class="p">(</span><span class="n">svo</span><span class="p">.</span><span class="n">me</span><span class="p">.</span><span class="n">wielded</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">select</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">next</span><span class="p">(</span><span class="n">svo</span><span class="p">.</span><span class="n">me</span><span class="p">.</span><span class="n">wielded</span><span class="p">)).</span><span class="n">name</span> <span class="o">~=</span> <span class="s2">&quot;</span><span class="s">an ornate steel rapier&quot;</span> <span class="k">then</span> <span class="o">&lt;</span><span class="n">code</span> <span class="n">to</span> <span class="n">wield</span> <span class="n">a</span> <span class="n">rapier</span> <span class="n">here</span><span class="o">&gt;</span> <span class="k">end</span>


<span class="c1">-- or a similar one for a bow:</span>
<span class="k">if</span> <span class="ow">not</span> <span class="nb">next</span><span class="p">(</span><span class="n">svo</span><span class="p">.</span><span class="n">me</span><span class="p">.</span><span class="n">wielded</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">select</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">next</span><span class="p">(</span><span class="n">svo</span><span class="p">.</span><span class="n">me</span><span class="p">.</span><span class="n">wielded</span><span class="p">)).</span><span class="n">name</span> <span class="o">~=</span> <span class="s2">&quot;</span><span class="s">a darkbow&quot;</span> <span class="k">then</span> <span class="o">&lt;</span><span class="n">code</span> <span class="n">to</span> <span class="n">wield</span> <span class="n">a</span> <span class="n">bow</span> <span class="n">here</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="other-things-in-svo-me">
<h4>Other things in svo.me<a class="headerlink" href="#other-things-in-svo-me" title="Permalink to this headline">¶</a></h4>
<p>As you might&#8217;ve noticed, svo.me contains a handful of data available for your scripting. To see what&#8217;s all available in it, you can do display(svo.me) in an alias - currently it also stores your name, class and skills, rift and inventory herb contents, wielded items, lustlist, pipe statuses, and the do &amp; dofree queues.</p>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="92%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Variable</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>svo.me.oldhealth</td>
<td>If showchanges is enabled, this&#8217;ll contain the health difference from the previous prompt - useful for customizing your anti-illusion.</td>
</tr>
<tr class="row-odd"><td>svo.me.oldmana</td>
<td>Same as above, for mana.</td>
</tr>
<tr class="row-even"><td>svo.me.doqueue</td>
<td>Contains the do queue as an indexed table, and a &#8216;repeating&#8217; key that&#8217;s a boolean for whenever dor is working. Note that you should not over-write the table with your own, only read from this and use the API for modifying it.</td>
</tr>
<tr class="row-odd"><td>svo.me.canoutr</td>
<td>A boolean that keeps track of whenever you can outr things or not.</td>
</tr>
<tr class="row-even"><td>svo.me.dopaused</td>
<td>A boolean for whenever the do and dofree queues are paused or not. You can set this value directly.</td>
</tr>
<tr class="row-odd"><td>svo.me.gametarget</td>
<td>The current target as the game is tracking it (usually the NPC you&#8217;re bashing).</td>
</tr>
<tr class="row-even"><td>svo.me.gametargethp</td>
<td>The current game targets health.</td>
</tr>
<tr class="row-odd"><td>svo.me.inventory</td>
<td>The current inventory as reflected via gmcp.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="locks">
<h3>Locks<a class="headerlink" href="#locks" title="Permalink to this headline">¶</a></h3>
<p>Svof makes the current affliction locks you have available in the <em>svo.me.locks</em> key-value table.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- check if you have no locks</span>
<span class="k">if</span> <span class="ow">not</span> <span class="nb">next</span><span class="p">(</span><span class="n">svo</span><span class="p">.</span><span class="n">me</span><span class="p">.</span><span class="n">locks</span><span class="p">)</span> <span class="k">then</span> <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">not locked!&quot;</span><span class="p">)</span> <span class="k">end</span>

<span class="c1">-- echoed all locks</span>
<span class="k">if</span> <span class="nb">next</span><span class="p">(</span><span class="n">svo</span><span class="p">.</span><span class="n">me</span><span class="p">.</span><span class="n">locks</span><span class="p">)</span> <span class="k">then</span> <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">locks: %s&quot;</span><span class="p">,</span> <span class="n">svo</span><span class="p">.</span><span class="n">oneconcat</span><span class="p">(</span><span class="n">svo</span><span class="p">.</span><span class="n">me</span><span class="p">.</span><span class="n">locks</span><span class="p">))</span> <span class="k">end</span>

<span class="c1">-- check if you have a specific lock</span>
<span class="k">if</span> <span class="n">svo</span><span class="p">.</span><span class="n">me</span><span class="p">.</span><span class="n">locks</span><span class="p">.</span><span class="n">soft</span> <span class="k">then</span> <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">Soft locked! Can focus to get out.&quot;</span><span class="p">)</span> <span class="k">end</span>
<span class="k">if</span> <span class="n">svo</span><span class="p">.</span><span class="n">me</span><span class="p">.</span><span class="n">locks</span><span class="p">[</span><span class="s2">&quot;</span><span class="s">rift 2&quot;</span><span class="p">]</span> <span class="k">then</span> <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">Rift locked! Better have asthma on precache and out...&quot;</span><span class="p">)</span> <span class="k">end</span>
</pre></div>
</div>
<div class="section" id="configuration-options">
<h4>Configuration options<a class="headerlink" href="#configuration-options" title="Permalink to this headline">¶</a></h4>
<p>All of the systems configuration options are available in the <em>svo.conf</em> table for reading purposes (for example, you might want to check the value of <em>svo.conf.paused</em> in your scripts). If you&#8217;d like to set the options, it&#8217;s recommended that you use the <em>svo.config.set()</em> function as it will make sure your values make sense and are taken in by the system.</p>
</div>
</div>
<div class="section" id="events-raised-by-the-system">
<h3>Events raised by the system<a class="headerlink" href="#events-raised-by-the-system" title="Permalink to this headline">¶</a></h3>
<p>The system raises several Mudlet events to help you trigger on reliably.</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="12%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Event name</th>
<th class="head">Arguments</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>svo got aff</td>
<td>aff name</td>
<td>requires <em>vconfig eventaffs</em> to be enabled (on by default). raised when you become afflicted, affliction name is included as an argument</td>
</tr>
<tr class="row-odd"><td>svo lost aff</td>
<td>aff name</td>
<td>requires <em>vconfig eventaffs</em> to be enabled (on by default). raised when you&#8217;re cured of an affliction, affliction name being the single argument</td>
</tr>
<tr class="row-even"><td>svo updated aff</td>
<td>aff name, whatchanged, amount</td>
<td>raised when an affliction got updated. For example, whatchanged for bleeding is &#8220;count&#8221; and the amount would be your new bleeding number</td>
</tr>
<tr class="row-odd"><td>svo before the prompt</td>
<td>&nbsp;</td>
<td>raised just before the system starts processing on the prompt</td>
</tr>
<tr class="row-even"><td>svo done with prompt</td>
<td>&nbsp;</td>
<td>raised when the system is done with processing prompt information - this means that the <em>svo.stats</em> table has been updated and is reliable to be used</td>
</tr>
<tr class="row-odd"><td>svo balanceful ready</td>
<td>&nbsp;</td>
<td>raised when the balanceful function queue is available (after it has been made or reset). It&#8217;s recommended to use svo.addbalanceful on this event (since you can&#8217;t really guarantee whenever your script or Svof are loaded first in the users profile)</td>
</tr>
<tr class="row-even"><td>svo balanceless ready</td>
<td>&nbsp;</td>
<td>raised when the balanceless function queue is available (after it has been made or reset). It&#8217;s recommended to use svo.addbalanceless on this event (since you can&#8217;t really guarantee whenever your script or Svof are loaded first in the users profile)</td>
</tr>
<tr class="row-odd"><td>svo switched defence mode</td>
<td>defs mode</td>
<td>raised when the defences mode is changed - different from svo started defup, since you can change modes skipping defup</td>
</tr>
<tr class="row-even"><td>svo started defup</td>
<td>defs mode</td>
<td>raised when defup is started (ie vdefs &lt;mode&gt; or <a class="reference internal" href="#svo.defs.switch" title="svo.defs.switch"><code class="xref py py-func docutils literal"><span class="pre">svo.defs.switch()</span></code></a></td>
</tr>
<tr class="row-odd"><td>svo done defup</td>
<td>defs mode</td>
<td>raised when the defup is done (and you see the &#8216;Ready for combat!&#8217; message). The argument given is the defences mode that you&#8217;re in</td>
</tr>
<tr class="row-even"><td>svo died</td>
<td>&nbsp;</td>
<td>raised when you die - this is better to trigger on than the message, because this does proper illusion checking. If you starbursted, then the string &#8220;starburst&#8221; will be passed as an argument</td>
</tr>
<tr class="row-odd"><td>svo system loaded</td>
<td>&nbsp;</td>
<td>raised once the system is finished loading. This is a good event to use to create Svof-dependant things: custom prompt definitions, function overrides, and so on</td>
</tr>
<tr class="row-even"><td>svo started fullstats</td>
<td>&nbsp;</td>
<td>raised when the system starts sipping up for full health/mana</td>
</tr>
<tr class="row-odd"><td>svo got fullstats</td>
<td>&nbsp;</td>
<td>raised when full stats in health and mana are obtained, from the &#8216;fl&#8217; alias</td>
</tr>
<tr class="row-even"><td>svo stopped fullstats</td>
<td>&nbsp;</td>
<td>raised when you do &#8216;sfl&#8217; to stop getting fullstats</td>
</tr>
<tr class="row-odd"><td>svo do changed</td>
<td>&nbsp;</td>
<td>raised when the do queue is changed - useful for having graphical displays that track the queue</td>
</tr>
<tr class="row-even"><td>svo dofree changed</td>
<td>&nbsp;</td>
<td>raised when the dofree queue is changed</td>
</tr>
<tr class="row-odd"><td>svo rebounding start</td>
<td>&nbsp;</td>
<td>raised when skullcap is smoked for rebounding - so you can have a visual timer for it coming up</td>
</tr>
<tr class="row-even"><td>svo quit</td>
<td>&nbsp;</td>
<td>raised when the player QQs</td>
</tr>
<tr class="row-odd"><td>svo onshow</td>
<td>&nbsp;</td>
<td>raised when the &#8216;vshow&#8217; is used - you can use this to add your echoes to it</td>
</tr>
<tr class="row-even"><td>svo got balance</td>
<td>balance</td>
<td>raised when you obtain a balance, and the balance name is the argument. Works for all balances</td>
</tr>
<tr class="row-odd"><td>svo lost balance</td>
<td>balance</td>
<td>raised when you lose a balance, and the balance name is the argument. Works for all balances</td>
</tr>
<tr class="row-even"><td>svo limb hit</td>
<td>limb, attacktype</td>
<td>raised when a limb is hit for limb damage, after it&#8217;s been highlighted</td>
</tr>
<tr class="row-odd"><td>svo got dragonform</td>
<td>&nbsp;</td>
<td>raised when you attain dragonform (predates svo got def, otherwise does the same thing)</td>
</tr>
<tr class="row-even"><td>svo lost dragonform</td>
<td>&nbsp;</td>
<td>raised when you go into lesserform</td>
</tr>
<tr class="row-odd"><td>svo got def</td>
<td>defence</td>
<td>raised when you obtain a defence</td>
</tr>
<tr class="row-even"><td>svo lost def</td>
<td>defence</td>
<td>raised when you lose a defence</td>
</tr>
<tr class="row-odd"><td>svo enabled class</td>
<td>class</td>
<td>raised when you enable a class via &#8216;tn class&#8217; or the system auto-enables via vconfig autoclasses due to you fighting one</td>
</tr>
<tr class="row-even"><td>svo disabled class</td>
<td>class</td>
<td>raised when a class is disabled via &#8216;tn class&#8217; or the system auto-disabled via vconfig autoclasses due to you not fighting one anymore</td>
</tr>
<tr class="row-odd"><td>svo config changed</td>
<td>option</td>
<td>raised when the system is paused/unpaused or a vconfig option is changed. You can check svo.conf[option] to see what the new value is</td>
</tr>
<tr class="row-even"><td>svo got hit by</td>
<td>class, name</td>
<td>raised when you see an attack from a particular class (or &#8220;unknown&#8221; if not known). If available, the name is given as well</td>
</tr>
<tr class="row-odd"><td>svo me.wielded updated</td>
<td>&nbsp;</td>
<td>raised after the svo.me.wielded table is updated (so you wielded/unwielded something or swapped hands)</td>
</tr>
<tr class="row-even"><td>svo gametarget changed</td>
<td>gametarget name</td>
<td>raised when your in-game target changes, if your in-game custom prompt is tracking it (as set by Svof when adding a &#64;gametarget or a &#64;gametargethp tag)</td>
</tr>
<tr class="row-odd"><td>svo gametargethp changed</td>
<td>gametarget name, hp</td>
<td>raised when your in-game targets health changes, if your in-game custom prompt is tracking it (as set by Svof when adding a &#64;gametarget or a &#64;gametargethp tag)</td>
</tr>
<tr class="row-even"><td>svo prio changed</td>
<td>action, balance, newprio, slowcuring</td>
<td>raised when a priority is changed. Action is the thing itself (so an affliction, defence, etc), balance is the balance it is on, newprio is the new priority #, and slowcuring is whenever this happened on the aeon/retardation priority.</td>
</tr>
<tr class="row-odd"><td>svo ignore changed</td>
<td>action</td>
<td>raised when the ignore list is changed. Use <a class="reference internal" href="#svo.setignore" title="svo.setignore"><code class="xref py py-func docutils literal"><span class="pre">svo.setignore()</span></code></a> when changing svo.ignore, so this event is raised</td>
</tr>
<tr class="row-even"><td>svo serverignore changed</td>
<td>action</td>
<td>raised when the server ignore list is changed. Use <a class="reference internal" href="#svo.setserverignore" title="svo.setserverignore"><code class="xref py py-func docutils literal"><span class="pre">svo.setserverignore()</span></code></a> when changing svo.serverignore, so this event is raised</td>
</tr>
<tr class="row-odd"><td>svo defup changed</td>
<td>mode, which, status</td>
<td>raised when a defence&#8217;s defup status is changed on a particular defup defences mode</td>
</tr>
<tr class="row-even"><td>svo keepup changed</td>
<td>mode, which, status</td>
<td>raised when a defence&#8217;s defup status is changed on a particular keepup defences mode</td>
</tr>
</tbody>
</table>
<div class="section" id="event-use-examples">
<h4>Event use examples<a class="headerlink" href="#event-use-examples" title="Permalink to this headline">¶</a></h4>
<p>Often times you&#8217;d like to do something on the prompt - update your labels, script some action or etc. while using information provided by the system. Since Mudlet has the feature of matching triggers in the visual order they are in, you can ensure your trigger is always run after Svof has updated values by placing it below the Svof group.</p>
<p>This isn&#8217;t perfect though as it presents two complications - a) whenever you update svo, it&#8217;s trigger folder will be last - ie, you&#8217;ll have to move it&#8217;s folder above yours again, and b) it&#8217;s another trigger to match the prompt when Svof already matches it.</p>
<p>To solve both of these things, you can instead use the <em>svo done with prompt</em> event that the system raises to &#8216;trigger&#8217; on the prompt. While Mudlet events are described in the Mudlet manual, the short run-down to create a handler is like so:</p>
<table class="hlist"><tr><td><ul class="simple">
<li>create a new Script</li>
<li>put <code class="docutils literal"><span class="pre">svo</span> <span class="pre">done</span> <span class="pre">with</span> <span class="pre">prompt</span></code> into the <em>Add User Defined Event Handler</em> box and press enter</li>
<li>create a function in the script that will do your stuff</li>
<li>give the script itself the same name as the function name</li>
</ul>
</td></tr></table>
<p>Then you can do whatever you&#8217;d like to do in the function. If you don&#8217;t know the syntax for how to create a function, it&#8217;s <a class="reference external" href="http://www.lua.org/manual/5.1/manual.html#2.5.9">described in the Lua manual</a>, and the basic format is like so:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span>function *my function name*()
  *stuff I want to do in my function*
end

-- example:
function foo()
  echo(&quot;hi!&quot;)
end

-- now doing:
foo()

-- will run the function, and the function will echo *hi!*
</pre></div>
</div>
<img alt="_images/prompt-example.png" class="align-center" src="_images/prompt-example.png" />
<p>Here is another example of using an event - this time the <em>svo got bal</em> and <em>svo lost bal</em> events, tuned to react on the voice one only:</p>
<img alt="_images/trigger-on-voice-bal.png" class="align-center" src="_images/trigger-on-voice-bal.png" />
<p>The script used is:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="nf">do_my_thing_on_voice_balance</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">balance</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">event</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="s">svo got balance&quot;</span> <span class="ow">and</span> <span class="n">balance</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="s">voice&quot;</span> <span class="k">then</span>
    <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">Aaalalalaaa! I have voice balance once again.&quot;</span><span class="p">)</span>
  <span class="k">elseif</span> <span class="n">event</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="s">svo lost balance&quot;</span> <span class="ow">and</span> <span class="n">balance</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="s">voice&quot;</span> <span class="k">then</span>
    <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">Trolololooo! Lost voice balance.&quot;</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="scripting-to-do-actions-on-balance-eq">
<h3>Scripting to do actions on balance/eq<a class="headerlink" href="#scripting-to-do-actions-on-balance-eq" title="Permalink to this headline">¶</a></h3>
<p>While the system already offers a do queue that&#8217;s easy to use in simple aliases or just the command input lint, it also offers a more &#8220;proper scripting friendly&#8221; way of easily using the balance queue, not having to track balance/equilibrium, and not interfering with the systems actions.</p>
<p>How it works is so - you give Svof a function that you want to be done when you get balance/equilibrium back, and the system will run the function for you. So inside that function, you can decide whenever you need to send some command or not - which is better than queueing a command for the next balance/equilibrium regain since the conditions can change in the mean time.</p>
<p>There are two types of functions Svof accepts - one that require balance/equilibrium but <strong>do not use any</strong>, and one that require balance/equilibrium and do use either of them.</p>
<p>To add a balanceless function, you can use <a class="reference internal" href="#svo.addbalanceless" title="svo.addbalanceless"><code class="xref py py-func docutils literal"><span class="pre">svo.addbalanceless()</span></code></a> - name is a unique name for the function (this will make re-updating it easy) and function is your action function</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="nf">myfunction</span> <span class="p">()</span>
  <span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">say i&#39;m going to say hi every balance I get!&quot;</span><span class="p">)</span>
<span class="k">end</span>

<span class="n">svo</span><span class="p">.</span><span class="n">addbalanceless</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">my sample function&quot;</span><span class="p">,</span> <span class="n">myfunction</span><span class="p">)</span>

<span class="c1">-- or even this would work:</span>
<span class="n">svo</span><span class="p">.</span><span class="n">addbalanceless</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">my sample function&quot;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">say i&#39;m going to say hi every balance I get!&quot;</span><span class="p">)</span> <span class="k">end</span><span class="p">)</span>
</pre></div>
</div>
<p>Updating your function is easy - running <a class="reference internal" href="#svo.addbalanceless" title="svo.addbalanceless"><code class="xref py py-func docutils literal"><span class="pre">svo.addbalanceless()</span></code></a> again with the same name will replace the old function with the new one for you.</p>
<p>The svo.clearbalanceless() function is also available to remove all balanceless functions from the queue and serves as a way to &#8216;start over&#8217; after you modify a function that&#8217;s in the queue already.</p>
<p>The balanceful queue has a similar function for you to use - <a class="reference internal" href="#svo.addbalanceful" title="svo.addbalanceful"><code class="xref py py-func docutils literal"><span class="pre">svo.addbalanceful()</span></code></a>. It is, however different in the sense that if your function <strong>has to</strong> return either a boolean value of <em>true</em>, or a <em>number</em>, if your function did an action. If you want Svof to wait a custom amount of seconds before re-trying your action in case it failed, then return a number - otherwise <strong>return true</strong> if you did send a command that takes up balance or equilibrium:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="nf">myfunction</span><span class="p">()</span>
  <span class="k">if</span> <span class="n">i_should_kick</span> <span class="k">then</span>
    <span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">kick rat&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">true</span>
  <span class="k">elseif</span> <span class="n">i_should_punch</span> <span class="k">then</span>
    <span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">punch rat&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="mf">1.4</span> <span class="c1">--set a custom timeout to 1.4s - if in 1.4s we didn&#39;t punch, the function will be run again for us</span>
  <span class="k">end</span>

  <span class="k">return</span> <span class="kc">false</span>
<span class="k">end</span>

<span class="n">svo</span><span class="p">.</span><span class="n">addbalanceful</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">my sample function&quot;</span><span class="p">,</span> <span class="n">myfunction</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">Note in this example how you don&#8217;t use myfunction() with svo.addbalanceful, but myfunction only. That is not a typo, you are giving it the function - not calling the function and giving it the result.</td>
</tr>
</tbody>
</table>
<p>To remove a function, you can use <a class="reference internal" href="#svo.removebalanceful" title="svo.removebalanceful"><code class="xref py py-func docutils literal"><span class="pre">svo.removebalanceful()</span></code></a> or <a class="reference internal" href="#svo.removebalanceless" title="svo.removebalanceless"><code class="xref py py-func docutils literal"><span class="pre">svo.removebalanceless()</span></code></a>. You also have the <a class="reference internal" href="#svo.clearbalanceful" title="svo.clearbalanceful"><code class="xref py py-func docutils literal"><span class="pre">svo.clearbalanceful()</span></code></a> and <a class="reference internal" href="#svo.clearbalanceless" title="svo.clearbalanceless"><code class="xref py py-func docutils literal"><span class="pre">svo.clearbalanceless()</span></code></a> functions to remove all functions, but this could affect functions from other scripts that use the balance queues, so it&#8217;s not advised.</p>
<p>You may run into a case where you change a condition that one of your balanceless or balanceful relies on, and thus need to re-run your function(s) again to check against the new conditions. You don&#8217;t want to call your function(s) directly because that&#8217;d mean you would need to check all the relevant balances, defeating the purpose of this all - so instead, you can use the <a class="reference internal" href="#svo.donext" title="svo.donext"><code class="xref py py-func docutils literal"><span class="pre">svo.donext()</span></code></a> function - it&#8217;ll call all functions again if you have the balances.</p>
<p>Lastly, there is a problem of using svo.addbalanceful / svo.addbalanceless functions to begin with in your scripts <em>after</em> Svof is loaded (otherwise the functions won&#8217;t exist!). One way to make certain that Svof is loaded first is by moving the Svof Scripts folder above your own script. That, however, is rather clumsy - and you can avoid it by hooking onto the two Mudlet events Svof raises for you: <strong>svo balanceless ready</strong> and <strong>svo balanceful ready</strong>. Using svo.addbalanceful / svo.addbalanceless on these events will guarantee the functions exist first, and makes sure your functions are re-added when the queues are cleared.</p>
</div>
<div class="section" id="ignoring-afflictions-cures">
<h3>Ignoring afflictions/cures<a class="headerlink" href="#ignoring-afflictions-cures" title="Permalink to this headline">¶</a></h3>
<p>You can have the system ignore an affliction by registering it in the <strong>svo.ignore</strong> table - for example, by doing <code class="docutils literal"><span class="pre">svo.ignore.clumsiness</span> <span class="pre">=</span> <span class="pre">true</span></code>. You&#8217;d do <code class="docutils literal"><span class="pre">svo.ignore.clumsiness</span> <span class="pre">=</span> <span class="pre">nil</span></code> to remove it. This can be useful for a variety of things - either being able to test with clumsiness on, having the system ignore useless afflictions in bashing, or having it ignore cures that you don&#8217;t have the ingredients to cure.</p>
<p>In the future, it&#8217;ll also allow you to be more specific about ignoring things - ie don&#8217;t ignore an affliction wholly, but only a certain balance cure for it, if there&#8217;s demand for that.</p>
</div>
<div class="section" id="managing-your-own-priorities">
<h3>Managing your own priorities<a class="headerlink" href="#managing-your-own-priorities" title="Permalink to this headline">¶</a></h3>
<p>One of the many nice new things <strong>Svof</strong> brings to the table is very customizable curing priorities. You can re-prioritize afflictions on the fly, or make whole lists of them that you can switch depending on who are you fighting, or even share your lists with others.</p>
<p>The priority list is &#8220;smart&#8221;: it will not cure the afflictions in exact order as shown if you can&#8217;t do them in that order. If you have affA before affB, but affB prevents curing of affA - it will cure affB first, then affA. Keep that in mind when working with them!</p>
<p>The current priority lists can be seen by using the <strong>vshowprios &lt;balance&gt;</strong> alias or the <a class="reference internal" href="#svo.printorder" title="svo.printorder"><code class="xref py py-func docutils literal"><span class="pre">svo.printorder()</span></code></a> function. There are eight of them, divided by balances - herb, focus, salve, smoke, purgative, sip, balance (for things that require having both balance and eq to do), plus a special aeon/retardation mode one (it&#8217;ll be most commonly called as slow curing mode, but it applies to aeon as well). There is a seventh one called misc as well for all general actions, but they typically don&#8217;t make sense to prioritize (except when in slow curing mode - but as stated above, that has its own priority queue). Priorities are sorted in descending order - so the <strong>higher</strong> the number of a cure is, the more important it is.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">you want to keep aeon cures high in the slow curing mode priority queue so the system will try to cure those as soon as possible. If you put them lower, it will cure more important afflictions before curing aeon (if you have them) - which certainly isn&#8217;t efficient.</td>
</tr>
</tbody>
</table>
<p>There are two ways to change the priority of an affliction - either by changing it individually, or by loading a whole new list of priorities. Let&#8217;s start with the first method for the sake of easier experimentation.</p>
<div class="section" id="moving-individual-priorities">
<h4>Moving individual priorities<a class="headerlink" href="#moving-individual-priorities" title="Permalink to this headline">¶</a></h4>
<p>To move an individual priority up or down in the list, you can use <a class="reference internal" href="#svo.prio.insert" title="svo.prio.insert"><code class="xref py py-func docutils literal"><span class="pre">svo.prio.insert()</span></code></a>. This will appropriately bump the rest of priorities down as necessary to make room. This function works for all balances</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- move paranoia herb cure to the 30th spot, bumping down whatever was the 29, and everything else below it as necessary</span>
<span class="n">svo</span><span class="p">.</span><span class="n">prio</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">paranoia&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">herb&quot;</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also use the <code class="docutils literal"><span class="pre">vset</span></code> alias in a similar manner:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- move it to 5 on the sip balance</span>
<span class="n">vset</span> <span class="n">wristfractures</span> <span class="n">sip</span> <span class="mi">5</span>
<span class="c1">-- move it to 5 on the aeon/retardation priority</span>
<span class="n">vset</span> <span class="n">wristfractures_sip</span> <span class="n">slowcuring</span> <span class="mi">5</span>
</pre></div>
</div>
</div>
<div class="section" id="swapping-individual-priorities">
<h4>Swapping individual priorities<a class="headerlink" href="#swapping-individual-priorities" title="Permalink to this headline">¶</a></h4>
<p>The Svof function for swapping priorities is <em>svo.prio_swap</em> - this&#8217;ll swap places of priority A and B. You can use it in two ways - either to swap an affliction with another, or to set/swap it with one at a given priority number::</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- swap paranoia with masochism.</span>
<span class="c1">-- we pass &#39;true&#39; at the end to make it seem like it came from an alias, so we&#39;ll get an echo about it working.</span>
<span class="n">svo</span><span class="p">.</span><span class="n">prio_swap</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">paranoia&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">herb&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">masochism&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">herb&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>

<span class="c1">-- swap paranoia with whatever aff has a priority of 400, or set it to 400 if none is there.</span>
<span class="c1">-- no &#39;true&#39; at the end means we won&#39;t ever get an echo from it; ideal for scripting.</span>
<span class="n">svo</span><span class="p">.</span><span class="n">prio_swap</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">paranoia&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">herb&quot;</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>
</pre></div>
</div>
<p>The <strong>vswap</strong> alias is also provided so you can play around with this easier, although you&#8217;ll most likely find that writing custom aliases for the swaps you&#8217;ll want to do to be more efficient. As an example, both the <em>pva</em> (toggles paralysis/asthma) and <em>avs</em> (toggles slickness/impatience) make use of the function - take a look at them to see how they do it.</p>
<p>There are two functions provided that help you tell what is the current priority of something - <a class="reference internal" href="#svo.prio.getnumber" title="svo.prio.getnumber"><code class="xref py py-func docutils literal"><span class="pre">svo.prio.getnumber()</span></code></a> and <a class="reference internal" href="#svo.prio.getaction" title="svo.prio.getaction"><code class="xref py py-func docutils literal"><span class="pre">svo.prio.getaction()</span></code></a>. The first you can use to find out what number an affliction/defence is in a balance, and second you can use to find out what affliction/defence is in a given number.</p>
<p>For example, if you wanted to swap two things temporarily, you could do:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- swap blindness to the top of the queue (or so) temporarily</span>
<span class="kd">local</span> <span class="n">old_blindness_prio</span> <span class="o">=</span> <span class="n">svo</span><span class="p">.</span><span class="n">prio</span><span class="p">.</span><span class="n">getnumber</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">deaf&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">herb&quot;</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">prio_swap</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">deaf&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">herb&quot;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>

<span class="c1">-- now it&#39;s pretty high up, if not the first even in herb balance... lets swap it back 10s after</span>
<span class="n">tempTimer</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">prio_swap</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">deaf&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">herb&quot;</span><span class="p">,</span> <span class="n">old_blindness_prio</span><span class="p">)</span>
<span class="k">end</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="swapping-whole-lists-of-affs">
<h4>Swapping whole lists of affs<a class="headerlink" href="#swapping-whole-lists-of-affs" title="Permalink to this headline">¶</a></h4>
<p>The other, more long-term way to set priorities is to create whole lists of them that you can load via importing or exporting. You can share the priprity files with others as well!</p>
<p>To view the list of priorities that you can load, you can use the <strong>vlistprios</strong> alias or the <a class="reference internal" href="#svo.prio.list" title="svo.prio.list"><code class="xref py py-func docutils literal"><span class="pre">svo.prio.list()</span></code></a> function. The system always operates on the <em>current</em> priority. When you import a priority list, the system copies it into the <em>current</em> list - and that&#8217;s what you modify via <em>vshow</em> and other functions. The original list that priorities were imported from is not affected. When you export a priority list, the <em>current</em> priority is copied into it.</p>
<p>To export your priorities, you can use the <a class="reference internal" href="#svo.prio.export" title="svo.prio.export"><code class="xref py py-func docutils literal"><span class="pre">svo.prio.export()</span></code></a> function or the <em>vexportprio &lt;name&gt; [&lt;options&gt;]</em> alias. <code class="docutils literal"><span class="pre">name</span></code> is the name you&#8217;d like to give to the priority list, <code class="docutils literal"><span class="pre">options</span></code> is a list of balances for it to export that you can selectively provide. If you don&#8217;t provide it, it&#8217;ll export all balances.</p>
<p>When you export a priority with the <em>echoback</em> argument provided, it&#8217;ll also tell you where it saved the file - it&#8217;ll be somewhere in your Svof config folder. If you&#8217;d like to share this file with someone else, you can just send it to them, have them place it in their Svof config folder (not the system one, but one that is inside their Mudlet profile) and import it in.</p>
<p>Once exported, you can also edit all priorities within that file by opening it in a text editor (ie Notepad++, Geany, etc. Notepad and Wordpad that come with Windows might have problems displaying the linebreaks properly). If a priority for a balance has no &#8216;holes&#8217; in it - then afflictions will be displayed in descending order, without a number attached to them (you can attach one if you&#8217;d like though). If there are holes, then after the first hole, afflictions will be displayed with their explicit priority number listed in front. Be sure to preserve the syntax of the file - my recommendation would be to just copy/paste things about in it and change the priority numbers if any.</p>
<p>To import the priority list, you can use the <a class="reference internal" href="#svo.prio.import" title="svo.prio.import"><code class="xref py py-func docutils literal"><span class="pre">svo.prio.import()</span></code></a> function or the <strong>vimportprio &lt;name&gt;</strong> alias. The <code class="docutils literal"><span class="pre">report_errors</span></code> argument of the function will, as the name suggests, report any errors it gets from when loading the file instead of suppressing them by default (you could introduce an error by accident when modifying the priorities).</p>
</div>
</div>
<div class="section" id="adding-your-own-tree-scenarios">
<h3>Adding your own tree scenarios<a class="headerlink" href="#adding-your-own-tree-scenarios" title="Permalink to this headline">¶</a></h3>
<p>You can customize completely when will Svof use the tree tattoo by enabling/disabling the default scenarios (see the menu from vconfig2 and click on the boxes), or by adding your own as well.</p>
<p>Doing so is rather easy - what you need to do is define your function that&#8217;ll return true if tree should be touched, in a separate script of your own. Svof will automatically check your function(s) when necessary, and take care of using the tree for you.</p>
<p>Here&#8217;s a template of what you need to have in a script:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">tree</span><span class="p">.</span><span class="o">&lt;</span><span class="k">function</span> <span class="nf">name</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">&lt;description of when it&#39;ll touch tree&quot;</span><span class="p">,</span>

  <span class="k">function</span> <span class="p">()</span>
    <span class="k">if</span> <span class="o">&lt;</span><span class="n">condition</span><span class="p">,</span> <span class="n">like</span> <span class="n">which</span> <span class="n">afflictions</span> <span class="n">should</span> <span class="n">you</span> <span class="n">have</span><span class="o">&gt;</span> <span class="k">then</span>
      <span class="k">return</span> <span class="kc">true</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For example, here&#8217;s a function that&#8217;ll use tree whenever you get blackout:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">tree</span><span class="p">.</span><span class="n">blackout</span> <span class="o">=</span> <span class="p">{</span>
  <span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">Use tree to cure blackout&quot;</span><span class="p">,</span>

  <span class="k">function</span> <span class="p">()</span> <span class="k">return</span> <span class="n">svo</span><span class="p">.</span><span class="n">affl</span><span class="p">.</span><span class="n">blackout</span> <span class="k">end</span>
<span class="p">}</span>
</pre></div>
</div>
<p>After you added your function, it&#8217;s enabled by default - and you can enable/disable it via the menu, or by doing <em>svo.me.disabledtreefunc.&lt;strat name&gt; = true</em>. If you&#8217;d like to see more tree scenario examples, then check the <strong>Tree curing strats</strong> script in <em>svo/svo Utilities</em> which is where all of Svof&#8217;s scenarios are written.</p>
</div>
<div class="section" id="adding-your-own-restore-dragonheal-shrugging-rage-scenarios">
<h3>Adding your own restore / dragonheal / shrugging / rage scenarios<a class="headerlink" href="#adding-your-own-restore-dragonheal-shrugging-rage-scenarios" title="Permalink to this headline">¶</a></h3>
<p>This is very much the same as tree scenarios, with all of the systems scenarios being stored in <strong>&lt;thing&gt; curing strats</strong>. See above on how to add your own. To script enabling/disabling the scenarios, use <em>svo.me.disabled&lt;thing&gt;func.&lt;strat name&gt; = true</em> or <em>false</em>.</p>
<p>Note that rage scenarios already take into account you</p>
</div>
<div class="section" id="adding-your-own-echo-colour-schemes">
<span id="custom-color-schemes"></span><h3>Adding your own echo colour schemes<a class="headerlink" href="#adding-your-own-echo-colour-schemes" title="Permalink to this headline">¶</a></h3>
<p>You can make your own echo schemes for the system to use! To get started, take a look at <strong>vshow colours</strong> - that lists the available colour schemes. You can also use this method to change the systems names in echoes.</p>
<p>To add your own, find and move the &#8216;Customize_systems_echos&#8217; script outside of Svof&#8217;s folder, and activate it. Then you can edit the colour numbers, scheme name, or add more schemes - save the script after and do &#8216;vshow colours&#8217; to select your new scheme.</p>
</div>
<div class="section" id="more-fine-grained-control-of-the-system">
<h3>More fine-grained control of the system<a class="headerlink" href="#more-fine-grained-control-of-the-system" title="Permalink to this headline">¶</a></h3>
<p>Several points about controlling the system more precisely if you&#8217;d like to...</p>
<div class="section" id="adding-your-own-triggers">
<h4>Adding your own triggers<a class="headerlink" href="#adding-your-own-triggers" title="Permalink to this headline">¶</a></h4>
<p>To add a new bashing trigger, go to the &#8216;Bashing triggers&#8217; Svof folder, and copy/paste the trigger line into the appropriate trigger as a new pattern (make sure to select &#8216;exact match&#8217; unless you change the pattern into a regex one).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">if adding a bashing trigger that involves <em>svo.valid.proper_stun()</em>, make sure that comes before other afflictions in the trigger. This is the only case where the order matters.</td>
</tr>
</tbody>
</table>
<p>To add a trigger for anything else, you can use <em>svo.valid.proper_&lt;affliction&gt;()</em>, or if that function doesn&#8217;t exist, <em>svo.valid.simple&lt;affliction&gt;()</em>. To see the list of affliction names, check <em>vshow afflist</em> - ones that have a <em>proper_</em> function are marked <em>pr</em> beside their name.  If you&#8217;re on a recent enough version of Mudlet, then you can click on the affliction to get the text for the function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">bleeding, unknowncrippledlimb, unknowncrippledarm, unknowncrippledleg (and possibly others) take a number parameter - for example, if a mob breaks two random limbs, you do <code class="docutils literal"><span class="pre">svo.valid.simpleunknowncrippledlimb(2)</span></code>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="working-with-balances">
<h4>Working with balances<a class="headerlink" href="#working-with-balances" title="Permalink to this headline">¶</a></h4>
<p>All balances are stored in the <code class="docutils literal"><span class="pre">svo.bals</span></code> table as key-value pairs. A balance is set to <em>false</em> if you don&#8217;t have it, <em>true</em> if you do, or <em>unset</em> if it is unknown (for example, arm balances when they aren&#8217;t showing on the prompt).</p>
<p>You can read and change the values in the table and the system will respect them. Do note that though that the system tracks balances from the prompt already.</p>
</div>
<div class="section" id="adding-removing-afflictions-directly">
<span id="adding-removing-affs-manual"></span><h4>Adding/removing afflictions directly<a class="headerlink" href="#adding-removing-afflictions-directly" title="Permalink to this headline">¶</a></h4>
<p>If you&#8217;d like to add an affliction right away, you can use <a class="reference internal" href="#svo.addaff" title="svo.addaff"><code class="xref py py-func docutils literal"><span class="pre">svo.addaff()</span></code></a>. This will return <em>true</em> if it was added, and <em>false</em> if you already have it. This will bypass anti-illusion, so calling this on in a trigger with the illusion message after will still add the aff.</p>
<p>To remove an affliction right away, use <a class="reference internal" href="#svo.removeaff" title="svo.removeaff"><code class="xref py py-func docutils literal"><span class="pre">svo.removeaff()</span></code></a>. This will return <em>true</em> if the affliction was removed, or <em>false</em> if you didn&#8217;t have it to begin with.</p>
<p>See <em>vshow ignorelist</em> for the list of affliction names.</p>
</div>
<div class="section" id="customizing-anti-illusion">
<span id="id3"></span><h4>Customizing anti-illusion<a class="headerlink" href="#customizing-anti-illusion" title="Permalink to this headline">¶</a></h4>
<p>Svof has extensive anti-illusion that can be enabled with <em>tn a</em>. It tracks all actions and cures it does, so illusions alleging that it did something that that didn&#8217;t happen won&#8217;t do anything. Additionally, it double-checks certain rather important afflictions that you really did obtain them before curing them.</p>
<p>Still though, there at times when you&#8217;d like to customize the anti-illusion for yourself. One way to do that is to just call <a class="reference internal" href="#svo.ignore_illusion" title="svo.ignore_illusion"><code class="xref py py-func docutils literal"><span class="pre">svo.ignore_illusion()</span></code></a> on a line that you consider an illusion, and the system will ignore it. This works with single-line as well as multi-line triggers.</p>
<p>You can also disable specific anti-illusion checks by having the system ignore them - currently you can do that with checkparalysis, checkasthma, and checkimpatience.</p>
<p>Additionally, you can create your <strong>own</strong> anti-illusion checks - think of it as replacing a pipe from Svof with another one of your own, that does some more things and ends up in the same place. There are two steps to it - firstly replace Svof&#8217;s function that runs when you receive the affliction:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="nc">svo</span><span class="p">.</span><span class="nf">valid</span><span class="p">.</span><span class="n">proper_impatience</span><span class="p">()</span>
  <span class="k">if</span> <span class="n">i_want_my_own_check</span> <span class="k">then</span>
     <span class="n">do_my_own_check</span><span class="p">()</span>
  <span class="k">else</span>
   <span class="n">svo</span><span class="p">.</span><span class="n">valid</span><span class="p">.</span><span class="n">simpleimpatience</span><span class="p">()</span>
<span class="k">end</span>
</pre></div>
</div>
<p>And secondly, once you&#8217;ve confirmed that the affliction is real, let Svof know:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="nf">oh_I_really_have_impatience</span><span class="p">()</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">valid</span><span class="p">.</span><span class="n">simpleimpatience</span><span class="p">()</span>
<span class="k">end</span>
</pre></div>
</div>
<p>If there is no svo.valid.proper_aff function, replace the svo.valid.simpleaff one instead.</p>
</div>
</div>
<div class="section" id="custom-parry-strategy">
<h3>Custom parry strategy<a class="headerlink" href="#custom-parry-strategy" title="Permalink to this headline">¶</a></h3>
<p>Another nice feature of Svof is that it allows you to easily use your own, custom, parry functions just for calculating what to parry - and the system will take care of making it happening.</p>
<p>To set a custom parry function, put it into the <code class="docutils literal"><span class="pre">svo.sp_config.parry</span></code> field in an existing or a new script in Mudlet, like so:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="nf">my_custom_parry</span><span class="p">()</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">My custom parry function got called! Now set values in &#39;svo.sp_config.parry_shouldbe&#39; to what I&#39;d like to parry.&quot;</span><span class="p">)</span>
<span class="k">end</span>
<span class="n">svo</span><span class="p">.</span><span class="n">sp_config</span><span class="p">.</span><span class="n">parry</span> <span class="o">=</span> <span class="n">my_custom_parry</span>

<span class="c1">-- or...</span>
<span class="n">svo</span><span class="p">.</span><span class="n">sp_config</span><span class="p">.</span><span class="n">parry</span> <span class="o">=</span> <span class="k">function</span> <span class="p">()</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">My custom parry function got called! Now set values in &#39;svo.sp_config.parry_shouldbe&#39; to what I&#39;d like to parry.&quot;</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>
</div>
<p>Your function will be automatically called by Svof whenever you receive limb damage or an affliction is cured, so you can re-assign your parry priorities then. Inside the function, you can check <code class="docutils literal"><span class="pre">svo.affl</span></code> for a list if current afflictions, and <code class="docutils literal"><span class="pre">svo.lasthitlimb</span></code> to see which limb was hit last, and anything else you might need to make your decision.</p>
<p>Once you do the math on what to parry, set the values of <em>all</em> limbs in <code class="docutils literal"><span class="pre">svo.sp_config.parry_shouldbe</span></code> table (in the format of <code class="docutils literal"><span class="pre">limb</span> <span class="pre">=</span> <span class="pre">true</span></code>, or <code class="docutils literal"><span class="pre">limb</span> <span class="pre">=</span> <span class="pre">false</span></code>). You should only set one limb to <code class="docutils literal"><span class="pre">true</span></code> and the rest to <code class="docutils literal"><span class="pre">false</span></code>.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">sp_config</span><span class="p">.</span><span class="n">parry</span> <span class="o">=</span> <span class="k">function</span> <span class="p">()</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">sp_config</span><span class="p">.</span><span class="n">parry_shouldbe</span><span class="p">.</span><span class="n">head</span> <span class="o">=</span> <span class="kc">false</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">sp_config</span><span class="p">.</span><span class="n">parry_shouldbe</span><span class="p">.</span><span class="n">torso</span> <span class="o">=</span> <span class="kc">true</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">sp_config</span><span class="p">.</span><span class="n">parry_shouldbe</span><span class="p">[</span><span class="s2">&quot;</span><span class="s">right arm&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">false</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">sp_config</span><span class="p">.</span><span class="n">parry_shouldbe</span><span class="p">[</span><span class="s2">&quot;</span><span class="s">left arm&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">false</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">sp_config</span><span class="p">.</span><span class="n">parry_shouldbe</span><span class="p">[</span><span class="s2">&quot;</span><span class="s">left leg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">false</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">sp_config</span><span class="p">.</span><span class="n">parry_shouldbe</span><span class="p">[</span><span class="s2">&quot;</span><span class="s">right leg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span>

  <span class="c1">-- or...</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">sp_config</span><span class="p">.</span><span class="n">parry_shouldbe</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">head</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span> <span class="n">torso</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
    <span class="p">[</span><span class="s2">&quot;</span><span class="s">right arm&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;</span><span class="s">left arm&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;</span><span class="s">right leg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;</span><span class="s">left leg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">false</span>
  <span class="p">}</span>
<span class="k">end</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">You can also have your custom parry function be checked on demand whenever you&#8217;d like by using <a class="reference internal" href="#svo.checkcustomparry" title="svo.checkcustomparry"><code class="xref py py-func docutils literal"><span class="pre">svo.checkcustomparry()</span></code></a>, if one of the automatic (listed above - limb damage or afflictions) doesn&#8217;t trigger it to your satisfaction.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="alias-list">
<h2>Alias list<a class="headerlink" href="#alias-list" title="Permalink to this headline">¶</a></h2>
<div class="section" id="shortcuts">
<h3>Shortcuts<a class="headerlink" href="#shortcuts" title="Permalink to this headline">¶</a></h3>
<dl class="glossary docutils">
<dt id="term-avs">avs</dt>
<dd>toggles slickness and impatience herb priorities - it can help you in Apostate or Serpent fights.</dd>
<dt id="term-b-dir-or-block-dir">b &lt;dir&gt; or block &lt;dir&gt;</dt>
<dd>a shortcut alias for keeping block up on a direction. Svof won&#8217;t block if there is no such exit in the room, and reblock if you move / get dismounted - so you can use this for setting up an instant block when moving into a room.</dd>
<dt id="term-br">br</dt>
<dd>a quick toggle for the vkeep breath option (keep the breathing defence up or not).</dd>
<dt id="term-cc">cc</dt>
<dd>announces text on a channel (pt, clt, etc.) as specified by <a class="reference internal" href="#term-ccto"><span class="xref std std-term">vconfig ccto</span></a>. This can be useful to learn to use instead of <em>pt</em> since then you could change ccto to report on any clan or party and still use one short and quick alias for communicating with a group in a raid.</dd>
<dt id="term-cll">cll</dt>
<dd>a quick toggle for the vconfig clot option (use clot skill for bleeding). You might want to use this against Alchemists!</dd>
<dt id="term-df">df</dt>
<dd>has the system check &#8216;def&#8217; for you as soon as possible.</dd>
<dt id="term-dop">dop</dt>
<dd>toggles pause/unpause of the <em>do</em> system only - this means dor, do and do# won&#8217;t be going off.</dd>
<dt id="term-dv">dv</dt>
<dd>has the system check diagnose for you as soon as possible.</dd>
<dt id="term-ent">ent</dt>
<dd>checks sets your Balzadeen defence, if you&#8217;re an Apostate and have your demon following.</dd>
<dt id="term-fx">fx</dt>
<dd>heals up (fixes) your angel up to full power, using angel fortify.</dd>
<dt id="term-fxx">fxx</dt>
<dd>heals up your angel up to full power, using angel power.</dd>
<dt id="term-hh">hh</dt>
<dd>shortcut alias for toggling sipping priority between health and mana. You can also use it as <em>hh health</em> or <em>hh mana</em> to set the priority.</dd>
<dt id="term-mss">mss</dt>
<dd>a quick toggle for the vconfig moss option (make use of moss or not).</dd>
<dt id="term-p-h-tt-rl-ll-ra-la">p(h|tt|rl|ll|ra|la)</dt>
<dd>(for use in manual parry mode) sets which limb should be parried (ie, &#8216;ph&#8217; will parry head, &#8216;pra&#8217; will parry the right arm).</dd>
<dt id="term-pp">pp</dt>
<dd>toggles pause/unpause in the system. You can also use <em>pp on</em> and <em>pp off</em> to set the status explicitly.</dd>
<dt id="term-pva">pva</dt>
<dd>toggles paralysis and asthma herb priorities. By default, Svof prioritizes asthma over paralysis so you don&#8217;t get locked as easily - but then you&#8217;ll be spending a fair bit of time paralysed and off herb balance. Toggle this if you&#8217;d like to go on the offensive instead.</dd>
<dt id="term-rfl">rfl</dt>
<dd>toggles reflect mode - the system will make sure you&#8217;re reflected! (requires reflect skill) You can also use <em>rfl on/off</em>.</dd>
<dt id="term-sbites">sbites</dt>
<dd>a shortcut for vconfig ignoresinglebites, which ignores serpent bites. These are frequently just used for illusion purposes only, so ignoring them will reduce the load on curing.</dd>
<dt id="term-shh">shh</dt>
<dd>shortcut alias for toggling the health priority as the first one in aeon/retardation curing. Doing it again will set health priority back to normal.</dd>
<dt id="term-sl">sl</dt>
<dd>a quick toggle for the vkeep selfishness option (keep selfishness up, or not and strip it).</dd>
<dt id="term-ss">ss</dt>
<dd>a quick toggle for the vkeep rebounding option (keep rebounding up or not).</dd>
<dt id="term-stabs">stabs</dt>
<dd>a shortcut for vconfig ignoresinglestabs, which ignores single-aff doublestabs. These are frequently just used for illusion purposes only, so ignoring them will reduce the load on curing.</dd>
<dt id="term-tf">tf</dt>
<dd>turns things that can be turned on off. See above.</dd>
<dt id="term-th">th</dt>
<dd>a quick toggle for the vkeep deaf option (keep the deaf defence up or not).</dd>
<dt id="term-tn">tn</dt>
<dd>turns things on in the system - currently anti-illusion (ai), keepup, raid and affs. Turning affs offs disables the systems affliction curing and enables server-side curing.</dd>
<dt id="term-trk">trk</dt>
<dd>a quick toggle for the vconfig showchanges option (display health/mana gain/loss on prompt or not).</dd>
<dt id="term-ts">ts</dt>
<dd>shortcut alias for toggling shield keepup on and off. <em>ts on</em> and <em>ts off</em> are explicit and don&#8217;t toggle. If you&#8217;d like the system to shield only once when you do it, do <em>vconfig oldts on</em>.</dd>
<dt id="term-tsc">tsc</dt>
<dd>a quick toggle for the vconfig blockcommands option (let the system deny your commands if it&#8217;s doing something, or allow your commands to override the systems).</dd>
<dt id="term-ub">ub</dt>
<dd>a shortcut to stop blocking.</dd>
</dl>
</div>
<div class="section" id="general-aliases">
<h3>General aliases<a class="headerlink" href="#general-aliases" title="Permalink to this headline">¶</a></h3>
<dl class="glossary docutils">
<dt id="term-do-action">do &lt;action&gt;</dt>
<dd>adds an action that requires balance/equilibrium to do, and takes one of them, to the do queue - so the system will do it asap for you.</dd>
<dt id="term-138">do# &lt;action&gt;</dt>
<dd>does an action a certain number of times only - for example, <em>do5 kick rat</em> will only kick the rat five times.</dd>
<dt id="term-dofirst-action">dofirst &lt;action&gt;</dt>
<dd>adds a action to the top of the do queue (to be done first).</dd>
<dt id="term-dofree-action">dofree &lt;action&gt;</dt>
<dd>adds an action that requires balance/equilibrium to do but does not take either of them. The system will do all queued dofree actions asap. If you&#8217;d like to use this within a trigger/alias script, use <a class="reference internal" href="#svo.doaddfree" title="svo.doaddfree"><code class="xref py py-func docutils literal"><span class="pre">svo.doaddfree()</span></code></a>.</dd>
<dt id="term-143">dofree# &lt;action&gt;</dt>
<dd>adds an action do the dofree queue however many times you specify - ie, <em>do3 punch rat</em>.</dd>
<dt id="term-dofreefirst-dff-action">dofreefirst/dff &lt;action&gt;</dt>
<dd>adds an action to the top of the dofree queue (to be done first).</dd>
<dt id="term-dor">dor</dt>
<dd>toggles repeat of the first action in do.</dd>
<dt id="term-dor-action">dor &lt;action&gt;</dt>
<dd>adds an action on the top of the do queue and enables infinite repeat of it.</dd>
<dt id="term-fl">fl</dt>
<dd>has the system heal up to full health and mana - this is useful for vitality, ships, editors and etc. This will not make use of moss, only sipping.</dd>
<dt id="term-fl-command">fl &lt;command&gt;</dt>
<dd>heals up to full stats and does the command once you&#8217;re fully healed. For example, <em>fl write journal page 1</em> will write in the journal when you&#8217;re able.</dd>
<dt id="term-inra">inra</dt>
<dd>rifts all riftable items, grouping things up where it can - so it is less spammy than the game&#8217;s INRA command.</dd>
<dt id="term-sfl">sfl</dt>
<dd>stops getting fullstats - cancels it early.</dd>
<dt id="term-startlog">startlog</dt>
<dd>starts Svof&#8217;s logger. The logger logs in colour and then can replay you the log in realtime, as it happened. Built with the HTML5 clients replay infrastructures.</dd>
<dt id="term-stoplog">stoplog</dt>
<dd>stops the logger, offering you the option to save your log.</dd>
<dt id="term-undo">undo</dt>
<dd>removes one action from the top of the do queue.</dd>
<dt id="term-undoall">undoall</dt>
<dd>removes all actions from the do queue.</dd>
<dt id="term-undoallfree">undoallfree</dt>
<dd>removes all actions from the dofree queue.</dd>
<dt id="term-undofree">undofree</dt>
<dd>removes one action from the top of the dofree queue.</dd>
<dt id="term-vaeon">vaeon</dt>
<dd>for use only in cases when you&#8217;ve gotten aeon, and the system hasn&#8217;t realized that you did - using this alias will let it know. Do <strong>not</strong> use this for retardation, it won&#8217;t work - use <strong>vaff retardation</strong> if it wasn&#8217;t detected.</dd>
<dt id="term-vaff">vaff</dt>
<dd>lets Svof know that you have such an affliction. If you need to trigger it, don&#8217;t use this, but instead see &#8216;Adding your own triggers&#8217;.</dd>
<dt id="term-vcleargaps-balance">vcleargaps <em>&lt;balance&gt;</em></dt>
<dd>clears all gaps for priority numbers of a given balance by compacting them. Use &#8216;slowcuring&#8217; as the balance name for the slow curing priorities.</dd>
<dt id="term-vconfig">vconfig</dt>
<dd>displays what are general options of the system are set to.</dd>
<dt id="term-vconfig-option-value">vconfig &lt;option&gt; &lt;value&gt;</dt>
<dd>sets a given option to a given value. See <a class="reference internal" href="#vconfig-options"><span class="std std-ref">vconfig options</span></a> in this document for the list of available ones, or do <em>vconfig list</em> in-game. Note that the value is optional if it&#8217;s just an on/off option - if you don&#8217;t give it a value, it&#8217;ll act as a toggle (ie vconfig clot will turn clot on/off).</dd>
<dt id="term-vconfig-list">vconfig list</dt>
<dd>displays a list of configurable options in the system.</dd>
<dt id="term-vconfig2">vconfig2</dt>
<dd>displays more advanced options of the system, plus pipe status.</dd>
<dt id="term-vcreate-defmode-name">vcreate defmode <em>&lt;name&gt;</em></dt>
<dd>creates a new fences mode with the given name. You may wish to have more than the default basic/combat ones in order to specialize for situations (ie when you&#8217;re out bashing, raiding orgA, raiding orgB, etc.)</dd>
<dt id="term-vdefs-mode">vdefs <em>&lt;mode&gt;</em></dt>
<dd>does into the specified defence mode (to see which ones are available, use vshow). This&#8217;ll also have defup start putting up defup defences for that mode - and keepup ones after defup is done, if keepup is on.</dd>
<dt id="term-vdefs-cancel">vdefs cancel</dt>
<dd>cancels current defup. If you&#8217;d like to resume it, so <em>vdefs &lt;mode&gt;</em> again. Note that if you have keepup set to raise defences in the mode, then it&#8217;ll try to do that (if it&#8217;s on) - doing <em>vdefs empty</em> will stop both defup and keepup from going off.</dd>
<dt id="term-vdefup-defence-on-off">vdefup <em>&lt;defence&gt;</em> [on/off]</dt>
<dd>adds/removes a defence to the defup mode for the current defence.</dd>
<dt id="term-vdelete-defmode-current-name-new-name">vdelete defmode <em>&lt;current name&gt; &lt;new name&gt;</em></dt>
<dd>deletes an existing defmode. You can&#8217;t delete a defmode you&#8217;re currently in though, so switch first if you want to delete the current one.</dd>
<dt id="term-vecho">vecho</dt>
<dd>this echoes the given text as if it came from the game. To use it, do vecho &lt;line&gt;, and then press enter <strong>twice</strong>. To make the echo show another line, use $ to separate them - ie <em>vecho line1$line$</em>.</dd>
<dt id="term-vexportprio-prio-name-select-balances-to-export">vexportprio &lt;prio name&gt; [&lt;select balances to export&gt;]</dt>
<dd>exports balance prios to a given file name. By default, it&#8217;ll export prios of all balances - but if you&#8217;d like, you can also tell it to export only select ones (ie, <em>vexportprio mystuff</em> will export all balances, but <em>vexportprio myself sip, salve</em> will only export sip and salve ones in it). The file will be saved in the svo/prios folder (use <em>vlistprios</em> to see the exact path)</dd>
<dt id="term-vimportprio-name">vimportprio [&lt;name&gt;]</dt>
<dd>imports a prio list with the given name (it should be located in the svo/prios system folder). If you don&#8217;t give it a name, it&#8217;ll spawn a file picker dialog for you, so you can locate the file for it.</dd>
<dt id="term-vinstall">vinstall</dt>
<dd>starts the installation of the system.</dd>
<dt id="term-vinstall-fresh">vinstall fresh</dt>
<dd>completely resets all settings - defup/keepup - and starts the installation.</dd>
<dt id="term-vkeep-defence-on-off">vkeep <em>&lt;defence&gt;</em> [on/off]</dt>
<dd>adds/remove a defence to the keepup list. Note that keepup can also be enabled/disabled as a feature, and it won&#8217;t put defences up when it&#8217;s disabled.</dd>
<dt id="term-vlistprios">vlistprios</dt>
<dd>lists all priorities that are stored in the svo/prios folder, and also lists the actual location of the said folder.</dd>
<dt id="term-vp-nextprio-limb">vp nextprio &lt;limb&gt;</dt>
<dd>sets the next limb in priority for the parry setup.</dd>
<dt id="term-vp-or-vshowprios-balance">vp or vshowprios <em>&lt;balance&gt;</em></dt>
<dd>shows the current priority lists for a particular balance. Possible balances are: herb, focus, salve, purgative, sip, balance, misc and slowcuring. The misc balance is for all things that work on their own balances and typically don&#8217;t make sense to prioritize. slowcuring is referred to slow curing - where since you can only be doing one thing at a time, all cures are placed into one priority and you can change them about as you wish.</dd>
<dt id="term-vp-parrystrat">vp parrystrat</dt>
<dd>lists all of the available parry strats, with clickable links to select them.</dd>
<dt id="term-vp-parrystrat-strategy-name">vp parrystrat &lt;strategy name&gt;</dt>
<dd>sets the parry strategy that the system should use.</dd>
<dt id="term-vp-show">vp show</dt>
<dd>shows system information on all about parry.</dd>
<dt id="term-vrename-defmode-current-name-new-name">vrename defmode <em>&lt;current name&gt; &lt;new name&gt;</em></dt>
<dd>renames an existing defmode to the new name.</dd>
<dt id="term-vreseta">vreseta</dt>
<dt id="term-vreset-affs">vreset affs</dt>
<dd><p class="first">resets all afflictions the system thinks it has, to be used in a case where diagnose doesn&#8217;t fix the issue.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">this should only be used in extreme cases when something is wrong with the system, and any cases that lead the system to such a state should be fixed - so please report them.</td>
</tr>
</tbody>
</table>
</dd>
<dt id="term-vrmaff">vrmaff</dt>
<dd>lets Svof know that you do not have such an affliction.</dd>
<dt id="term-vsave">vsave</dt>
<dd>manually saves system settings. The system saves all settings when you do &#8216;quit&#8217; (it&#8217;s triggered to the message), however if you wish to disconnect without quitting first, this would be the alias to use to get the system to save everything.</dd>
<dt id="term-vset-aff-name-balance-priority-number">vset &lt;aff name&gt; &lt;balance&gt; &lt;priority number&gt;</dt>
<dd>sets the cure on the given balance to be on the given number. ie, <code class="docutils literal"><span class="pre">vset</span> <span class="pre">wristfractures</span> <span class="pre">sip</span> <span class="pre">5</span></code> will set the sip cure for wristfractures at priority number 5 - and if anything was there previously, it will be shuffled down to make space. For the aeon/retardation curing, use <code class="docutils literal"><span class="pre">vset</span> <span class="pre">wristfractures_sip</span> <span class="pre">slowcuring</span> <span class="pre">5</span></code> instead.</dd>
<dt id="term-vsetup-colours">vsetup colours</dt>
<dd>displays a list of available colour echos you can have, and a way to pick one by clicking on it.</dd>
<dt id="term-vsetup-pc">vsetup pc</dt>
<dd>shows the current configuration of the herb precache system, for the current defences mode you&#8217;re in. You can adjusts the amounts by clicking on + or - beside the herb.</dd>
<dt id="term-vsetup-sp">vsetup sp</dt>
<dd>starts the setup of the parry system.</dd>
<dt id="term-vshow">vshow</dt>
<dd>shows general information about the system - what defence mode are you in, if the system is currently in defup - what defence is it waiting on, whenever anti-illusion and keepup are enabled/disabled.</dd>
<dt id="term-vshow-afflist">vshow afflist</dt>
<dd>shows a list of affliction names used by the system. <em>pr</em> besides a name means that affliction has a <em>svo.valid.proper_&lt;affliction&gt;()</em> function, which should be used instead of the usual <em>svo.valid.simple&lt;affliction&gt;()</em>. If you&#8217;re on a recent enough version of Mudlet, then you can click on the affliction to get the text for the function. See <em>Adding your own triggers</em> for more.</dd>
<dt id="term-vshow-cl">vshow cl</dt>
<dt id="term-vshow-curelist">vshow curelist</dt>
<dd>shows a list of forestal and alchemist cures, allowing you to choose which ones you prefer for the prefercustom curemethod. Cures highlighted in white are the preferred ones, cures highlighted in grey are the backup cures. Click on a backup cure to set it as the preferred one, or the middle arrows to swap cures.</dd>
<dt id="term-vshow-defup">vshow defup</dt>
<dd>shows the defup defences for the mode you&#8217;re currently in. If you&#8217;d like to view them for another mode, you can pause the system, switch, see, and go back.</dd>
<dt id="term-vshow-herbstat">vshow herbstat</dt>
<dd>spawns a little window that shows your herb counts in the inventory / rift as Svof is tracking them.</dd>
<dt id="term-vshow-ignorelist">vshow ignorelist</dt>
<dd>shows a list of all things - defences and afflictions - that you can ignore.</dd>
<dt id="term-vshow-server">vshow server</dt>
<dt id="term-vshow-serverside">vshow serverside</dt>
<dd>shows a list of all things serverside curing can do, allowing you to toggle between Svof and serveside curing that affliction or raising that defence on upkeep.</dd>
<dt id="term-vshowa">vshowa</dt>
<dt id="term-vshow-affs">vshow affs</dt>
<dd>shows which afflictions you currently have.</dd>
<dt id="term-vshowb">vshowb</dt>
<dt id="term-vshow-bals">vshow bals</dt>
<dd>shows which balances you currently have - green means you have it, regular means you don&#8217;t.</dd>
<dt id="term-vshowd">vshowd</dt>
<dt id="term-vshow-defs">vshow defs</dt>
<dd>shows which defences the system thinks you currently have.</dd>
<dt id="term-vshowh">vshowh</dt>
<dt id="term-vshow-hidelist">vshow hidelist</dt>
<dd>shows the list of defences / groups which are currently shown or not. To toggle whenever a defence or a group of defences should be shown or not in defence lists, click on the + or - sign beside it.</dd>
<dt id="term-vshowk">vshowk</dt>
<dt id="term-vshow-keepup">vshow keepup</dt>
<dt id="term-vshow-keep">vshow keep</dt>
<dd>shows the keepup defences for the mode you&#8217;re currently in.</dd>
<dt id="term-vshowp">vshowp</dt>
<dt id="term-vshow-precache">vshow precache</dt>
<dd>shows the current herb precache setup and allows you to adjust it.</dd>
<dt id="term-vswap-aff-name-you-d-like-to-be-more-important-balance-aff-name-you-d-like-to-swap-it-with-balance">vswap &lt;aff name you&#8217;d like to be more important&gt; &lt;balance&gt; &lt;aff name you&#8217;d like to swap it with&gt; &lt;balance&gt;</dt>
<dd>swaps the two things, such that the first one now has the higher priority. For example, <em>vswap asthma salve pox salve</em> will make sure that the salve cure for asthma has higher priority than pox. This isn&#8217;t a toggle - doing it multiple times won&#8217;t switch it back and forth.</dd>
<dt id="term-vswap-aff-name-balance-priority-number">vswap &lt;aff name&gt; &lt;balance&gt; &lt;priority number&gt;</dt>
<dd>swaps the cure on the given balance with another at a given number. ie, <code class="docutils literal"><span class="pre">vswap</span> <span class="pre">asthma</span> <span class="pre">salve</span> <span class="pre">30</span></code> will set the salve cure for asthma at priority number 30 (and if anything was there previously, it&#8217;ll be set to what asthma was).</dd>
<dt id="term-vupdate">vupdate</dt>
<dd>shows the link(s) at which to download an update for your system.</dd>
<dt id="term-vupdate-prios">vupdate prios</dt>
<dd>resets all priorities to the default ones.</dd>
<dt id="term-vversion">vversion</dt>
<dd>shows the systems version.</dd>
</dl>
</div>
</div>
<div class="section" id="svof-api-functions">
<h2>Svof API functions<a class="headerlink" href="#svof-api-functions" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">tip:</th><td class="field-body">A lot of functions take a <em>echoback</em> argument - it&#8217;s a boolean value that lets the function know whenever it should echo the results of its work or not, so fill it with <strong>true</strong> if you want to see an echo.</td>
</tr>
</tbody>
</table>
<dl class="glossary docutils">
</dl>
<dl class="function">
<dt id="svo.app">
<code class="descclassname">svo.</code><code class="descname">app</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.app" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggles whenever the system is paused.</p>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">svo.</code><code class="descname">app</code><span class="sig-paren">(</span><em>status</em>, <em>quiet</em><span class="sig-paren">)</span></dt>
<dd><p>Explicitly sets if the system should be paused or unpaused - you can use &#8220;on&#8221;, &#8220;off&#8221;, true or false as the status. If you&#8217;d like it not to echo, add &#8220;true&#8221; in place of quiet, like so:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- pause the system quietly. On stands for &quot;the pause is on&quot;</span>
<span class="n">svo</span><span class="p">.</span><span class="n">app</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">on&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.can_usemana">
<code class="descclassname">svo.</code><code class="descname">can_usemana</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.can_usemana" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whenever your current mana is above the manause limit. <strong>Returns:</strong> boolean <cite>true</cite> or <cite>false</cite>.</p>
</dd></dl>

<dl class="function">
<dt id="svo.inslowcuringmode">
<code class="descclassname">svo.</code><code class="descname">inslowcuringmode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.inslowcuringmode" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whenever you&#8217;re in the slow curing mode (aeon/retardation) or not. This is useful for checking whenever you should do something or not, for example, don&#8217;t announce attacks in aeon/retard if you normally do announce them. <strong>Returns:</strong> boolean <cite>true</cite> or <cite>false</cite>.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">bite person&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">svo</span><span class="p">.</span><span class="n">inslowcuringmode</span><span class="p">()</span> <span class="k">then</span> <span class="n">svo</span><span class="p">.</span><span class="n">cc</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">BIT person&quot;</span><span class="p">)</span> <span class="k">end</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.fullstats">
<code class="descclassname">svo.</code><code class="descname">fullstats</code><span class="sig-paren">(</span><em>status</em>, <em>string/function</em>, <em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.fullstats" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts getting fullstats if the argument is <em>true</em>, or stops if the argument is <em>false</em>. An event is also raised when it achieves full stats or when you cancel it early. You may also pass a string or a function like you do with <em>tempTimer</em> that you want to be done when you get full stats.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- just get fullstats. The last true if for it to echo back</span>
<span class="n">svo</span><span class="p">.</span><span class="n">fullstats</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>

<span class="c1">-- stop getting full stats</span>
<span class="n">svo</span><span class="p">.</span><span class="n">fullstats</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>

<span class="c1">-- write a journal when you get fullstats</span>
<span class="n">svo</span><span class="p">.</span><span class="n">fullstats</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="s">[[send(&quot;write journal page 1&quot;)]]</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>

<span class="c1">-- same way to do it</span>
<span class="n">svo</span><span class="p">.</span><span class="n">fullstats</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">write journal page 1&quot;</span><span class="p">)</span> <span class="k">end</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>

<span class="c1">-- can even call a function of your own when done, of course. Notice that () are left out especially</span>
<span class="n">svo</span><span class="p">.</span><span class="n">fullstats</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="n">myfunction</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.doadd">
<code class="descclassname">svo.</code><code class="descname">doadd</code><span class="sig-paren">(</span><em>what</em>, <em>echoback</em>, <em>show</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.doadd" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds <em>what</em> to the end of the do queue (so it should require both balance/equilibrium and use one of them). You can split actions inside <em>what</em> with the $ sign, and it&#8217;s executed as a command input - so this can be an alias or just text to send directly to the MUD. Can work as a drop-in replacement to the <em>send(what)</em> function.</p>
<p><em>what</em> can also be a Lua function.</p>
<p>You can also provide the <em>show</em> (true/false) to have the echo of the command going off shown or not.</p>
</dd></dl>

<dl class="function">
<dt id="svo.doaddfree">
<code class="descclassname">svo.</code><code class="descname">doaddfree</code><span class="sig-paren">(</span><em>what</em>, <em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.doaddfree" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds <em>what</em> to the end of the dofree queue (requires balance/equilibrium, takes none). See <a class="reference internal" href="#svo.doadd" title="svo.doadd"><code class="xref py py-func docutils literal"><span class="pre">svo.doadd()</span></code></a> on the specifics.</p>
<p><em>what</em> can also be a Lua function.</p>
</dd></dl>

<dl class="function">
<dt id="svo.dofirst">
<code class="descclassname">svo.</code><code class="descname">dofirst</code><span class="sig-paren">(</span><em>what</em>, <em>echoback</em>, <em>show</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.dofirst" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds <em>what</em> to the start of the do queue.</p>
<p><em>what</em> can also be a Lua function.</p>
<p>You can also provide the <em>show</em> (true/false) to have the echo of the command going off shown or not.</p>
</dd></dl>

<dl class="function">
<dt id="svo.dofreefirst">
<code class="descclassname">svo.</code><code class="descname">dofreefirst</code><span class="sig-paren">(</span><em>what</em>, <em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.dofreefirst" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds <em>what</em> to the start of the dofree queue.</p>
<p><em>what</em> can also be a Lua function.</p>
</dd></dl>

<dl class="function">
<dt id="svo.dor">
<code class="descclassname">svo.</code><code class="descname">dor</code><span class="sig-paren">(</span><em>nil</em>, <em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.dor" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggles the do-repeat mode of the do queue - when enabled, it&#8217;ll repeat the first action in the do queue indefinitely.</p>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">svo.</code><code class="descname">dor</code><span class="sig-paren">(</span><em>&quot;off&quot;</em>, <em>echoback</em><span class="sig-paren">)</span></dt>
<dd><p>Disables the do-repeat mode of the do queue.</p>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">svo.</code><code class="descname">dor</code><span class="sig-paren">(</span><em>what</em>, <em>echoback</em>, <em>show</em><span class="sig-paren">)</span></dt>
<dd><p>Adds <em>what</em> to the top of the do queue, and enables the do-repeat mode.</p>
<p><em>what</em> can also be a Lua function.</p>
<p>You can also provide the <em>show</em> (true/false) to have the echo of the command going off shown or not.</p>
</dd></dl>

<dl class="function">
<dt id="svo.doshow">
<code class="descclassname">svo.</code><code class="descname">doshow</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.doshow" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays all actions that are in the do, dofree queues and whenever do-repeat mode is enabled.</p>
</dd></dl>

<dl class="function">
<dt id="svo.undo">
<code class="descclassname">svo.</code><code class="descname">undo</code><span class="sig-paren">(</span><em>what</em>, <em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.undo" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes one action from the top of the do queue if <em>what</em> is not provided, or removes <em>what</em> if it&#8217;s provided and is in the queue.</p>
</dd></dl>

<dl class="function">
<dt id="svo.undoall">
<code class="descclassname">svo.</code><code class="descname">undoall</code><span class="sig-paren">(</span><em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.undoall" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears the do queue completely. If dor is on, it will still stay on - so adding an item to the do queue after will have dor repeat it.</p>
</dd></dl>

<dl class="function">
<dt id="svo.undofree">
<code class="descclassname">svo.</code><code class="descname">undofree</code><span class="sig-paren">(</span><em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.undofree" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears the do queue completely.</p>
</dd></dl>

<dl class="function">
<dt id="svo.undoallfree">
<code class="descclassname">svo.</code><code class="descname">undoallfree</code><span class="sig-paren">(</span><em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.undoallfree" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears the dofree queue completely.</p>
</dd></dl>

<dl class="function">
<dt id="svo.donext">
<code class="descclassname">svo.</code><code class="descname">donext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.donext" title="Permalink to this definition">¶</a></dt>
<dd><p>Has the system do the next thing in the do queue right away. This function is mostly useful for when you&#8217;ve used the do queue on an action that didn&#8217;t take any balance or equilibrium as expected - you can trigger it to &#8216;&#8217;svo.donext()&#8217;&#8217; and the do queue will go again. This works for balanceful functions as well.</p>
<p>For example, if your balanceful function is a harvesting one and you send the command to harvest but it turns out that you really can&#8217;t - the system will wait a bit of time before trying stuff again. To speed it up, you can trigger the harvesting to this function and the it&#8217;ll do functions again right away.</p>
</dd></dl>

<dl class="function">
<dt id="svo.showprecache">
<code class="descclassname">svo.</code><code class="descname">showprecache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.showprecache" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the herb precache setup along with the buttons to edit it.</p>
</dd></dl>

<dl class="function">
<dt id="svo.setprecache">
<code class="descclassname">svo.</code><code class="descname">setprecache</code><span class="sig-paren">(</span><em>herb</em>, <em>amount</em>, <em>flag</em>, <em>echoback</em>, <em>show_list</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.setprecache" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the precache amount for a given herb. <strong>herb</strong> is the short name of the herb you&#8217;d like to set it add, <strong>flag</strong> is what you&#8217;d like to do - can be <em>add</em>, <em>set</em> or <em>subtract</em> and <strong>amount</strong> is what you&#8217;d like the flag to operate with. <strong>show_list</strong> will have the function re-display the whole list after the amount is set.</p>
</dd></dl>

<dl class="function">
<dt id="svo.echof">
<code class="descclassname">svo.</code><code class="descname">echof</code><span class="sig-paren">(</span><em>window</em>, <em>what</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.echof" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Echos given text with the systems function, and accepts the same conventions as string.format does. ie:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">hello, #%d:&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">Targetting: %s&quot;</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>This function can also output text to a miniconsole - just add it&#8217;s name first:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">hi - main&quot;</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">main&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">hi - main&quot;</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">hello %s! - main&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">bub&quot;</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">HelloWorld&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">hi - HelloWorld&quot;</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">HelloWorld&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">hello %s! - HelloWorld&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">bub&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that the miniconsole name has to be one word for this - while Mudlet doesn&#8217;t have that limitation, the function needs a way to detect that you want the text to go into a miniconsole (given how you might also want it to go to the main window instead, while also giving 2 arguments) - and this is necessary for the detection to work.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body">You can change the systems name in svo.echof if you&#8217;d like - check out <a class="reference internal" href="#custom-color-schemes"><span class="std std-ref">Adding your own echo colour schemes</span></a>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="svo.echofn">
<code class="descclassname">svo.</code><code class="descname">echofn</code><span class="sig-paren">(</span><em>what</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.echofn" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as svo.echof(), but does not auto-add a &#8220;n&#8221; at the end, so you can &#8216;&#8217;echo()&#8217;&#8217; or &#8216;&#8217;echoLink()&#8217;&#8217; things after it.</p>
</dd></dl>

<dl class="function">
<dt id="svo.itf">
<code class="descclassname">svo.</code><code class="descname">itf</code><span class="sig-paren">(</span><em>what</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.itf" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts text at the current cursor position with the (svo) echo on front &amp; proper colouring - you can use decimal tags (ala decho) for colour formatting.</p>
</dd></dl>

<dl class="function">
<dt id="svo.snd">
<code class="descclassname">svo.</code><code class="descname">snd</code><span class="sig-paren">(</span><em>what</em>, <em>show</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.snd" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to Mudlet&#8217;s send(what, show) - except this allows $ characters to separate actions, similar to do.</p>
</dd></dl>

<dl class="function">
<dt id="svo.getDefaultColor">
<code class="descclassname">svo.</code><code class="descname">getDefaultColor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.getDefaultColor" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts the default color, to be used with svo.echof/svo.echofn. For example:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">normal color &lt;255,0,0&gt;red%s normal color&quot;</span><span class="p">,</span> <span class="n">svo</span><span class="p">.</span><span class="n">getDefaultColor</span><span class="p">())</span>
</pre></div>
</div>
<p>You can also retrieve the r,g,b numbers with svo.getDefaultColorNums:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">setFgColor</span><span class="p">(</span><span class="nb">unpack</span><span class="p">(</span><span class="n">svo</span><span class="p">.</span><span class="n">getDefaultColorNums</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.reset.affs">
<code class="descclassname">svo.reset.</code><code class="descname">affs</code><span class="sig-paren">(</span><em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.reset.affs" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets all system afflictions. Should never need to be used under normal circumstances; if it does happen then most likely something needs reporting and fixing.</p>
</dd></dl>

<dl class="function">
<dt id="svo.reset.general">
<code class="descclassname">svo.reset.</code><code class="descname">general</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.reset.general" title="Permalink to this definition">¶</a></dt>
<dd><p>A general reset of the system - it&#8217;ll forget what is it doing, reset various states and so on.</p>
</dd></dl>

<dl class="function">
<dt id="svo.reset.bals">
<code class="descclassname">svo.reset.</code><code class="descname">bals</code><span class="sig-paren">(</span><em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.reset.bals" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets all system balances (as visible on <code class="docutils literal"><span class="pre">vshowb</span></code>).</p>
</dd></dl>

<dl class="function">
<dt id="svo.reset.defs">
<code class="descclassname">svo.reset.</code><code class="descname">defs</code><span class="sig-paren">(</span><em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.reset.defs" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets all your current defences. It doesn&#8217;t clear defences that don&#8217;t reset on death however (dragonform, baalzadeen, etc).</p>
</dd></dl>

<dl class="function">
<dt id="svo.dv">
<code class="descclassname">svo.</code><code class="descname">dv</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.dv" title="Permalink to this definition">¶</a></dt>
<dd><p>Has the system check (and sync) <em>diagnose</em> as soon as possible.</p>
</dd></dl>

<dl class="function">
<dt id="svo.adf">
<code class="descclassname">svo.</code><code class="descname">adf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.adf" title="Permalink to this definition">¶</a></dt>
<dd><p>Has the system check (and sync) your defences list from the game.</p>
</dd></dl>

<dl class="function">
<dt id="svo.addbalanceful">
<code class="descclassname">svo.</code><code class="descname">addbalanceful</code><span class="sig-paren">(</span><em>name</em>, <em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.addbalanceful" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the given function to the balanceful system queue - so it is executed whenever you regain both balance/equilibrium. See <em>Scripting to do actions on balance/eq</em> on usage. <em>name</em> should be a unique name for the function <em>func</em> is the function itself.</p>
</dd></dl>

<dl class="function">
<dt id="svo.addbalanceless">
<code class="descclassname">svo.</code><code class="descname">addbalanceless</code><span class="sig-paren">(</span><em>name</em>, <em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.addbalanceless" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a given function to the balanceless system queue.</p>
</dd></dl>

<dl class="function">
<dt id="svo.clearbalanceful">
<code class="descclassname">svo.</code><code class="descname">clearbalanceful</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.clearbalanceful" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears the balanceful queue completely, and raises the &#8216;svo balanceful ready&#8217; Mudlet event.</p>
</dd></dl>

<dl class="function">
<dt id="svo.clearbalanceless">
<code class="descclassname">svo.</code><code class="descname">clearbalanceless</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.clearbalanceless" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears the balanceless queue completely, and raises the &#8216;svo balanceless ready&#8217; Mudlet event.</p>
</dd></dl>

<dl class="function">
<dt id="svo.removebalanceful">
<code class="descclassname">svo.</code><code class="descname">removebalanceful</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.removebalanceful" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the function associated with the name from the balanceful queue.</p>
</dd></dl>

<dl class="function">
<dt id="svo.removebalanceless">
<code class="descclassname">svo.</code><code class="descname">removebalanceless</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.removebalanceless" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the function associated with the name from the balanceless queue.</p>
</dd></dl>

<dl class="function">
<dt id="svo.sp_setparry">
<code class="descclassname">svo.</code><code class="descname">sp_setparry</code><span class="sig-paren">(</span><em>what</em>, <em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.sp_setparry" title="Permalink to this definition">¶</a></dt>
<dd><p>If parry is in the manual mode, this will set the parry to be 100% at the given limb. <em>what</em> can be h, tt, rl, ll, ra, or la which correspond to the given limb.</p>
</dd></dl>

<dl class="function">
<dt id="svo.show_keepup">
<code class="descclassname">svo.</code><code class="descname">show_keepup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.show_keepup" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the keepup defences list for the current mode.</p>
</dd></dl>

<dl class="function">
<dt id="svo.show_defup">
<code class="descclassname">svo.</code><code class="descname">show_defup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.show_defup" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the defup defences list for the current mode.</p>
</dd></dl>

<dl class="function">
<dt id="svo.ashow">
<code class="descclassname">svo.</code><code class="descname">ashow</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.ashow" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays general options of the system (tn/tf ones).</p>
</dd></dl>

<dl class="function">
<dt id="svo.aconfig">
<code class="descclassname">svo.</code><code class="descname">aconfig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.aconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the general configuration of the system (vconfig ones).</p>
</dd></dl>

<dl class="function">
<dt id="svo.aconfig2">
<code class="descclassname">svo.</code><code class="descname">aconfig2</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.aconfig2" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays more advanced configuration of the system, and pipe statuses (vconfig ones).</p>
</dd></dl>

<dl class="function">
<dt id="svo.create_defmode">
<code class="descclassname">svo.</code><code class="descname">create_defmode</code><span class="sig-paren">(</span><em>which</em>, <em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.create_defmode" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new defences mode with the given name.</p>
</dd></dl>

<dl class="function">
<dt id="svo.defs.switch">
<code class="descclassname">svo.defs.</code><code class="descname">switch</code><span class="sig-paren">(</span><em>which</em>, <em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.defs.switch" title="Permalink to this definition">¶</a></dt>
<dd><p>Switches to the given defence mode, and starts the defup procedure.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- switch to combat defence mode</span>
<span class="n">svo</span><span class="p">.</span><span class="n">defs</span><span class="p">.</span><span class="n">switch</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">combat&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.defupcancel">
<code class="descclassname">svo.</code><code class="descname">defupcancel</code><span class="sig-paren">(</span><em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.defupcancel" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancels doing defup.</p>
</dd></dl>

<dl class="function">
<dt id="svo.delete_defmode">
<code class="descclassname">svo.</code><code class="descname">delete_defmode</code><span class="sig-paren">(</span><em>which</em>, <em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.delete_defmode" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the given defence mode.</p>
</dd></dl>

<dl class="function">
<dt id="svo.rename_defmode">
<code class="descclassname">svo.</code><code class="descname">rename_defmode</code><span class="sig-paren">(</span><em>which</em>, <em>newname</em>, <em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.rename_defmode" title="Permalink to this definition">¶</a></dt>
<dd><p>Renames a defence mode to the new name.</p>
</dd></dl>

<dl class="function">
<dt id="svo.copy_defmode">
<code class="descclassname">svo.</code><code class="descname">copy_defmode</code><span class="sig-paren">(</span><em>which</em>, <em>newname</em>, <em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.copy_defmode" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies defence mode &#8216;&#8217;which&#8217;&#8217; into a new one or an existing defence mode.</p>
</dd></dl>

<span class="target" id="svo-defs-defup"></span><dl class="function">
<dt id="svo.defs.defup">
<code class="descclassname">svo.defs.</code><code class="descname">defup</code><span class="sig-paren">(</span><em>defence</em>, <em>status</em>, <em>defencemode</em>, <em>echoback</em>, <em>showmenu</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.defs.defup" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds/removes a defence to defup.</p>
<ul>
<li><p class="first"><em>defence</em> if the defence you&#8217;d like to add/remove, see <em>svoshow defup</em> for a list of available ones.</p>
</li>
<li><p class="first"><em>status</em> is where you specify whenever you&#8217;d like to add or remove it: if you pass it <em>nil</em>, it&#8217;ll toggle it. Otherwise, giving it true/false, or &#8220;on&#8221;/&#8221;off&#8221; or something similar will set it explicitly.</p>
</li>
<li><p class="first"><em>defencemode</em> optinal, it&#8217;s the defence mode you&#8217;d like to add/remove the defence in: if you give it <em>nil</em>, it&#8217;ll be the current one, otherwise pick an available one from the defence modes list in <em>svoshow</em>.</p>
</li>
<li><p class="first"><em>echoback</em> is optional, a true/false to show the message mentioning whenever a defence was removed or added.</p>
</li>
<li><p class="first"><em>showmenu</em> is optional, a true/false to show the whole svodefup menu.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- this toggles rebounding keepup status</span>
<span class="n">svo</span><span class="p">.</span><span class="n">defs</span><span class="p">.</span><span class="n">keepup</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">rebounding&quot;</span><span class="p">)</span>

<span class="c1">-- this makes sure it&#39;s on</span>
<span class="n">svo</span><span class="p">.</span><span class="n">defs</span><span class="p">.</span><span class="n">keepup</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">rebounding&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>

<span class="c1">-- this makes sure selfishness is on in the basic defence mode, without an echo. Remember that when you start Mudlet, Svof is in basic defence mode</span>
<span class="n">svo</span><span class="p">.</span><span class="n">defs</span><span class="p">.</span><span class="n">keepup</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">selfishness&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">basic&quot;</span><span class="p">)</span>

<span class="c1">-- you can also check first and disable only if you have the defence on keepup</span>
<span class="k">if</span> <span class="n">svo</span><span class="p">.</span><span class="n">defkeepup</span><span class="p">[</span><span class="n">svo</span><span class="p">.</span><span class="n">defs</span><span class="p">.</span><span class="n">mode</span><span class="p">].</span><span class="n">meditate</span> <span class="k">then</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">defs</span><span class="p">.</span><span class="n">keepup</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">meditate&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">off&quot;</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>
</div>
</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body">You can check if a defence is on keepup in the current mode with <code class="docutils literal"><span class="pre">svo.defkeepup[svo.defs.mode].&lt;def&gt;</span></code>, ie to see if speed is on keepup right now - <code class="docutils literal"><span class="pre">svo.defkeepup[svo.defs.mode].speed</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="svo.defs.keepup">
<code class="descclassname">svo.defs.</code><code class="descname">keepup</code><span class="sig-paren">(</span><em>defence</em>, <em>status</em>, <em>defencemode</em>, <em>echoback</em>, <em>showmenu</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.defs.keepup" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds/removes a defence to defup, with the arguments all the same as <a class="reference internal" href="#svo-defs-defup"><span class="std std-ref">svo.defs.defup()</span></a>.</p>
</dd></dl>

<dl class="function">
<dt id="svo.printorder">
<code class="descclassname">svo.</code><code class="descname">printorder</code><span class="sig-paren">(</span><em>balance</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.printorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the priority order for the given balance. The higher the action is, the more important it is and will be done sooner than the ones below it. Possible balances are &#8220;herb&#8221;, &#8220;salve&#8221;, &#8220;sip&#8221;, &#8220;scroll&#8221;,  &#8220;purgative&#8221;, &#8220;physical&#8221;, &#8220;focus&#8221;, &#8220;sparkle&#8221;, and &#8220;misc&#8221;.</p>
</dd></dl>

<dl class="function">
<dt id="svo.printordersync">
<code class="descclassname">svo.</code><code class="descname">printordersync</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.printordersync" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the priority order for the slow curing mode.</p>
</dd></dl>

<dl class="function">
<dt id="svo.ignorelist">
<code class="descclassname">svo.</code><code class="descname">ignorelist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.ignorelist" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays a list of all the possible things you can have the system ignore (but setting a key in the <em>svo.ignore</em> table to true).</p>
</dd></dl>

<dl class="function">
<dt id="svo.showaffs">
<code class="descclassname">svo.</code><code class="descname">showaffs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.showaffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays all your current afflictions.</p>
</dd></dl>

<dl class="function">
<dt id="svo.showbals">
<code class="descclassname">svo.</code><code class="descname">showbals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.showbals" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the status of all your current balances (if the balance is in green, that means you have it). You can check the status of balances directly in your scripts with the <em>svo.bals</em> table (ie, <em>if svo.bals.balance then ...</em>).</p>
</dd></dl>

<dl class="function">
<dt id="svo.usingbalance">
<code class="descclassname">svo.</code><code class="descname">usingbalance</code><span class="sig-paren">(</span><em>balance</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.usingbalance" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a true if the system has sent a command that will use up a balance. It will only be true between the system sending the command and the balance actually getting used up (after that, the svo.bals.&lt;balance&gt; will be false). Note that balance and/or equilibrium are collectively referred to as &#8220;physical&#8221;.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- check that we have the balance and the system hasn&#39;t sent something that&#39;ll take it up:</span>
<span class="k">if</span> <span class="n">svo</span><span class="p">.</span><span class="n">bals</span><span class="p">.</span><span class="n">balance</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">svo</span><span class="p">.</span><span class="n">usingbalance</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">physical&quot;</span><span class="p">)</span> <span class="k">then</span>
  <span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">do something&quot;</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.doing">
<code class="descclassname">svo.</code><code class="descname">doing</code><span class="sig-paren">(</span><em>&quot;action_balance&quot;</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.doing" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the system is doing that particular action. The &#8220;doing&#8221; period is between it sending the command for the action and the command going through only. Note that balance and/or equilibrium are collectively referred to as &#8220;physical&#8221;. You can see a list of actions and their balances by doing <strong>vshowprios slowcuring</strong></p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">svo</span><span class="p">.</span><span class="n">doing</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">diag_physical&quot;</span><span class="p">)</span> <span class="k">then</span>
  <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">Diagnosing...&quot;</span><span class="p">)</span>
<span class="k">end</span>

<span class="k">if</span> <span class="n">svo</span><span class="p">.</span><span class="n">affl</span><span class="p">.</span><span class="n">paralysis</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">svo</span><span class="p">.</span><span class="n">doing</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">paralysis_herb&quot;</span><span class="p">)</span> <span class="k">then</span>
   <span class="c1">-- don&#39;t do anything, paralysed and not currently sending a command to cure it</span>
<span class="k">end</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.doaction">
<code class="descclassname">svo.</code><code class="descname">doaction</code><span class="sig-paren">(</span><em>action</em>, <em>balance</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.doaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Has the system do a particular action for you. While the system generally tracks your input and associates it with known actions (so the systems AI is on top of what you&#8217;re doing and doesn&#8217;t deny some things from the game because it didn&#8217;t realize you were actually doing something), this function can be used if you&#8217;d like to be explicit and certain that the system will pick your input up.</p>
<p>The list of possible actoins and balances can be found in vshow → aeon/retardation priority, where they are in the form of <em>action (balance)</em>.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="ow">not</span> <span class="n">svo</span><span class="p">.</span><span class="n">defc</span><span class="p">.</span><span class="n">thirdeye</span> <span class="k">then</span>
  <span class="k">if</span> <span class="n">svo</span><span class="p">.</span><span class="n">conf</span><span class="p">.</span><span class="n">thirdeye</span> <span class="k">then</span> <span class="n">svo</span><span class="p">.</span><span class="n">doaction</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">thirdeye&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">misc&quot;</span><span class="p">)</span>
  <span class="k">else</span> <span class="n">svo</span><span class="p">.</span><span class="n">doaction</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">thirdeye&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">herb&quot;</span><span class="p">)</span> <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.show_current_defs">
<code class="descclassname">svo.</code><code class="descname">show_current_defs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.show_current_defs" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the status of all your current defences.</p>
</dd></dl>

<dl class="function">
<dt id="svo.prio.insert">
<code class="descclassname">svo.prio.</code><code class="descname">insert</code><span class="sig-paren">(</span><em>action</em>, <em>balance</em>, <em>number</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.prio.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts a priority at a given position, moving any priority already in that place down (and all further priorities as needed).</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- move paranoia herb cure to the 30th spot, bumping down whatever was the 29, and everything else below it as necessary</span>
<span class="n">svo</span><span class="p">.</span><span class="n">prio</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">paranoia&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">herb&quot;</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.prio_swap">
<code class="descclassname">svo.</code><code class="descname">prio_swap</code><span class="sig-paren">(</span><em>what</em>, <em>balance</em>, <em>arg2</em>, <em>nil</em>, <em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.prio_swap" title="Permalink to this definition">¶</a></dt>
<dd><p>Swaps action <em>what</em> with the balance of <em>balance</em> with the action that has a priority number of <em>arg2</em>.</p>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">svo.</code><code class="descname">prio_swap</code><span class="sig-paren">(</span><em>what</em>, <em>balance</em>, <em>arg2</em>, <em>arg3</em>, <em>echoback</em><span class="sig-paren">)</span></dt>
<dd><p>Swaps action <em>what</em> with the balance of <em>balance</em> with the action <em>arg2</em> that has a balance of <em>arg3</em>.</p>
</dd></dl>

<dl class="function">
<dt id="svo.prio_slowswap">
<code class="descclassname">svo.</code><code class="descname">prio_slowswap</code><span class="sig-paren">(</span><em>what</em>, <em>whatwith</em>, <em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.prio_slowswap" title="Permalink to this definition">¶</a></dt>
<dd><p>Swaps action <em>what</em> (should be in the format of action_balance, ie <em>healhealth_sip</em>) with <em>whatwith</em>, which should be in a similar format.</p>
</dd></dl>

<dl class="function">
<dt id="svo.asave">
<code class="descclassname">svo.</code><code class="descname">asave</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.asave" title="Permalink to this definition">¶</a></dt>
<dd><p>Has the system save all settings.</p>
</dd></dl>

<dl class="function">
<dt id="svo.givewarning_multi">
<code class="descclassname">svo.</code><code class="descname">givewarning_multi</code><span class="sig-paren">(</span><em>tbl</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.givewarning_multi" title="Permalink to this definition">¶</a></dt>
<dd><p>Has the system give a noticeable warning to the user. <em>tbl</em> is a key-value table that accepts <em>initialmsg</em>, <em>prefixwarning</em>, <em>duration</em> and <em>startin</em> values. <em>prefixwarning</em>, will prefix a warning to the prompt or all lines (if the vconfig warningtype option is set). <em>duration</em> determines how long should the warning be prefixed for (if you don&#8217;t give a value, default is 4 seconds). <em>startin</em> is the time the prefixing should start in (defaults to 0). ie:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- this will give just a one-time warning</span>
<span class="n">svo</span><span class="p">.</span><span class="n">givewarning_multi</span><span class="p">({</span>
  <span class="n">initialmsg</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">You&#39;re getting hungry! Get some food NOW.&quot;</span>
<span class="p">})</span>

<span class="c1">-- this will give an initial warning, and after one second, prefix &#39;Bob beheading you&#39; to the prompt or all lines for 5 seconds (or do nothing if warningtype is off)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">givewarning_multi</span><span class="p">({</span>
  <span class="n">initialmsg</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">Bob is still beheading you! Hinder or run.&quot;</span><span class="p">,</span>
  <span class="n">prefixwarning</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">Bob beheading you&quot;</span><span class="p">,</span>
  <span class="n">startin</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
  <span class="n">duration</span> <span class="o">=</span> <span class="mi">5</span>
<span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.config.set">
<code class="descclassname">svo.config.</code><code class="descname">set</code><span class="sig-paren">(</span><em>option</em>, <em>value</em>, <em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.config.set" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Sets the option <em>option</em> to the value of <em>value</em> (if you give the value as <em>nil</em> and it&#8217;s a toggle, the option will be toggled).</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- enable the option. You can get the list from &#39;vconfig list&#39;</span>
<span class="n">svo</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">blockcommands&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>

<span class="c1">-- disable the option</span>
<span class="n">svo</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">blockcommands&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>

<span class="c1">-- toggle the option on or off</span>
<span class="n">svo</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">blockcommands&quot;</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>

<span class="c1">-- set siphealth to some amount, quietly</span>
<span class="n">svo</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">siphealth&quot;</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>::note:: the <code class="docutils literal"><span class="pre">echoback</span></code> option didn&#8217;t work previously, it does now.</p>
</dd></dl>

<dl class="function">
<dt id="svo.prio.cleargaps">
<code class="descclassname">svo.prio.</code><code class="descname">cleargaps</code><span class="sig-paren">(</span><em>balance</em>, <em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.prio.cleargaps" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears and gaps in the given balance (balance name can also be &#8220;slowcuring&#8221; for the slow curing mode). For example, if one action has a number of 1 and another of 2, they&#8217;ll become 1 and 2, respectively.</p>
</dd></dl>

<dl class="function">
<dt id="svo.prio.import">
<code class="descclassname">svo.prio.</code><code class="descname">import</code><span class="sig-paren">(</span><em>name</em>, <em>echoback</em>, <em>report_errors</em>, <em>use_default</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.prio.import" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports a priority <em>name</em>. <em>report_errors</em> is whenever errors during importing should be reported or not, <em>use_default</em> means it&#8217;ll import the default, embedded system priorities.</p>
</dd></dl>

<dl class="function">
<dt id="svo.prio.export">
<code class="descclassname">svo.prio.</code><code class="descname">export</code><span class="sig-paren">(</span><em>name</em>, <em>nil</em>, <em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.prio.export" title="Permalink to this definition">¶</a></dt>
<dd><p>Exports all priority balances to a priority list of the given <em>name</em>.</p>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">svo.prio.</code><code class="descname">export</code><span class="sig-paren">(</span><em>name</em>, <em>options</em>, <em>echoback</em><span class="sig-paren">)</span></dt>
<dd><p>Exports selective balances as specified by <em>options</em> - which is a list table of all the balances that should be included in the export (use &#8220;slowcuring&#8221; for the slow curing mode priority list).</p>
</dd></dl>

<dl class="function">
<dt id="svo.prio.list">
<code class="descclassname">svo.prio.</code><code class="descname">list</code><span class="sig-paren">(</span><em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.prio.list" title="Permalink to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal"><span class="pre">echoback</span></code> is enabled, visually lists all priority lists that are available for import (you can make new ones with <a class="reference internal" href="#svo.prio.export" title="svo.prio.export"><code class="xref py py-func docutils literal"><span class="pre">svo.prio.export()</span></code></a>). Otherwise, returns an indexed list of the priorities lists available.</p>
</dd></dl>

<dl class="function">
<dt id="svo.prio.getlist">
<code class="descclassname">svo.prio.</code><code class="descname">getlist</code><span class="sig-paren">(</span><em>balance</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.prio.getlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a table (in the form of <em>priority - action</em>) of priorities. This can also be useful for seeing what actions are on a particular balance.</p>
</dd></dl>

<dl class="function">
<dt id="svo.prio.getsortedlist">
<code class="descclassname">svo.prio.</code><code class="descname">getsortedlist</code><span class="sig-paren">(</span><em>balance</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.prio.getsortedlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an indexed table of the priorities only, most important priorities are first. Unlike <a class="reference internal" href="#svo.prio.getlist" title="svo.prio.getlist"><code class="xref py py-func docutils literal"><span class="pre">svo.prio.getlist()</span></code></a>, there are no holes in this table if there are gaps between priorities.</p>
</dd></dl>

<dl class="function">
<dt id="svo.prio.usedefault">
<code class="descclassname">svo.prio.</code><code class="descname">usedefault</code><span class="sig-paren">(</span><em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.prio.usedefault" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the system priorities to the default ones that come with the system.</p>
</dd></dl>

<dl class="function">
<dt id="svo.prio.getnumber">
<code class="descclassname">svo.prio.</code><code class="descname">getnumber</code><span class="sig-paren">(</span><em>what</em>, <em>balance</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.prio.getnumber" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number a given item is in a balance. Helpful if you want to switch some actions around temporarily, or see which one currently has bigger priority.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- example:</span>
<span class="n">display</span><span class="p">(</span><span class="n">svo</span><span class="p">.</span><span class="n">prio</span><span class="p">.</span><span class="n">getnumber</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">asthma&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">salve&quot;</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.prio.getaction">
<code class="descclassname">svo.prio.</code><code class="descname">getaction</code><span class="sig-paren">(</span><em>number</em>, <em>balance</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.prio.getaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the affliction / defence that is at the given number in the balance.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- example:</span>
<span class="n">display</span><span class="p">(</span><span class="n">svo</span><span class="p">.</span><span class="n">prio</span><span class="p">.</span><span class="n">getaction</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">herb&quot;</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.togglesip">
<code class="descclassname">svo.</code><code class="descname">togglesip</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.togglesip" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggles whenever health or mana should have higher priority.</p>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">svo.</code><code class="descname">togglesip</code><span class="sig-paren">(</span><em>&quot;health&quot; or &quot;mana&quot;</em><span class="sig-paren">)</span></dt>
<dd><p>Sets which one should have higher priority explicitly.</p>
</dd></dl>

<dl class="function">
<dt id="svo.prio_makefirst">
<code class="descclassname">svo.</code><code class="descname">prio_makefirst</code><span class="sig-paren">(</span><em>action</em>, <em>balance</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.prio_makefirst" title="Permalink to this definition">¶</a></dt>
<dd><p>This will swap something to be the most important one in slowcuring mode. Useful for, lets say, healing your health - typically you&#8217;d want to be curing affs before sipping, but if you&#8217;re low, you could use this to quickly have the system heal up a bit. <em>action</em> is the action to modify, <em>balance</em> the balance of an action to modify.</p>
</dd></dl>

<dl class="function">
<dt id="svo.prio_undofirst">
<code class="descclassname">svo.</code><code class="descname">prio_undofirst</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.prio_undofirst" title="Permalink to this definition">¶</a></dt>
<dd><p>Undoes the first action in slow curing mode to what it was before.</p>
</dd></dl>

<dl class="function">
<dt id="svo.prio.gethighest">
<code class="descclassname">svo.prio.</code><code class="descname">gethighest</code><span class="sig-paren">(</span><em>balance</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.prio.gethighest" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the highest priority number and the action that occupies it within a priority balance.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- example: the sip balance only has the health or mana sip. To check which one is currently being prioritized first, you can check with:</span>
<span class="kd">local</span> <span class="n">prionumber</span><span class="p">,</span> <span class="n">prioname</span> <span class="o">=</span> <span class="n">svo</span><span class="p">.</span><span class="n">prio</span><span class="p">.</span><span class="n">gethighest</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">sip&quot;</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">We&#39;ll be doing %s first if we have to choose between health or mana.&quot;</span><span class="p">,</span> <span class="n">prioname</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.ignoreskill">
<code class="descclassname">svo.</code><code class="descname">ignoreskill</code><span class="sig-paren">(</span><em>skill</em>, <em>newstatus</em>, <em>echoback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.ignoreskill" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets whenever a skill or a skillgroup shouldn&#8217;t be displayed in defence lists (this is what <code class="docutils literal"><span class="pre">vshow</span> <span class="pre">hidelist</span></code> uses).</p>
</dd></dl>

<dl class="function">
<dt id="svo.addaff">
<code class="descclassname">svo.</code><code class="descname">addaff</code><span class="sig-paren">(</span><em>aff</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.addaff" title="Permalink to this definition">¶</a></dt>
<dd><p>Lets the system know that you have an affliction right away. See <a class="reference internal" href="#adding-removing-affs-manual"><span class="std std-ref">Adding/removing afflictions directly</span></a> for use.</p>
</dd></dl>

<dl class="function">
<dt id="svo.removeaff">
<code class="descclassname">svo.</code><code class="descname">removeaff</code><span class="sig-paren">(</span><em>aff</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.removeaff" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the affliction from the list of affs you currently have right away.  See <a class="reference internal" href="#adding-removing-affs-manual"><span class="std std-ref">Adding/removing afflictions directly</span></a> for use.</p>
</dd></dl>

<dl class="function">
<dt id="svo.removeafflevel">
<code class="descclassname">svo.</code><code class="descname">removeafflevel</code><span class="sig-paren">(</span><em>aff</em>, <em>amount</em>, <em>keep</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.removeafflevel" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a level of an affliction - applicable to things such as fractures. If <em>amount</em> is specified, then it removes that many levels, otherwise one. If <em>keep</em> is specified, then the affliction stays at the minimum first level instead of being removed when the count gets down to zero.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- removes one level of fractures</span>
<span class="n">svo</span><span class="p">.</span><span class="n">removeafflevel</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">skullfractures&quot;</span><span class="p">)</span>

<span class="c1">-- removes two levels of fractures at once</span>
<span class="n">svo</span><span class="p">.</span><span class="n">removeafflevel</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">skullfractures&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1">-- remvoes a level of fractures, but makes sure they stay on</span>
<span class="n">svo</span><span class="p">.</span><span class="n">removeafflevel</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">skullfractures&quot;</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.config.setoption">
<code class="descclassname">svo.config.</code><code class="descname">setoption</code><span class="sig-paren">(</span><em>name</em>, <em>tbl</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.config.setoption" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an option to vconfig options list. This is <em>not</em> for setting an option - but creating new ones. For setting an option, see <a class="reference internal" href="#svo.config.set" title="svo.config.set"><code class="xref py py-func docutils literal"><span class="pre">svo.config.set()</span></code></a>. <em>name</em> is the name of the option, and <em>tbl</em> is a table describing it. The only required fields in it are <em>type</em> and <em>onset</em>, the rest are optional. Using this again will overwrite the current option that&#8217;s been set. You need to use this whenever your scripts start, the option itself isn&#8217;t saved over restarts.</p>
<ul>
<li><p class="first"><em>type</em> (required, string) - data type that the option is. This&#8217;ll help Svof give the proper tooltips on <em>vconfig list</em>, and in other places. Possible types are: <strong>boolean</strong>, <strong>number</strong>, <strong>string</strong> and <strong>custom</strong>. <strong>custom</strong> is an &#8216;otherworldly&#8217; option that doesn&#8217;t get listed in vconfig/vconfig2 outputs, but instead does something when it has an <em>onmenu</em> field - for example, <em>treefunc</em> is an option you won&#8217;t see, but doing <em>vconfig treefunc</em> will display the tree scenarios menu (that you&#8217;ll also see when you click on &#8216;view scenarios&#8217;). Doing <em>vconfig treefunc scenario</em> will toggle a scenario on/off (which is what the links in <em>vconfig treefunc</em> do)</p>
</li>
<li><p class="first"><em>percentage</em> (optional, boolean) - used with the <em>boolean</em> type only, specifies that the option sets a percent of something. That&#8217;ll give proper tooltips on <em>vconfig list</em>.</p>
</li>
<li><p class="first"><em>min</em> (optional, number) - used with the <em>number</em> type only, specifies the minimum value that the option can be at.</p>
</li>
<li><p class="first"><em>max</em> (optional, number) - used with the <em>number</em> type only, specifies the maximum value that the option can be at.</p>
</li>
<li><p class="first"><em>onset</em> (highly recommended, function) - a function that is called after the option has been set (this <em>svo.conf.myvalue</em> has been updated). You&#8217;d want to use this to echo that the option has been set here (and now something will happen, if it changes behavior). This does not get called for <em>boolean</em> types though, see below.</p>
</li>
<li><p class="first"><em>onenabled</em> (optional, function) - same as <em>onset</em>, but called for boolean types only when the option has been enabled. If you&#8217;d like to chance color in your echo and then reset it back, you can use svo.getDefaultColor() to insert it into a <a class="reference internal" href="#svo.echof" title="svo.echof"><code class="xref py py-func docutils literal"><span class="pre">svo.echof()</span></code></a>, like so:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">onenabled</span> <span class="o">=</span> <span class="k">function</span> <span class="p">()</span> <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">&lt;0,250,0&gt;Have%s survival recovery - tree tattoo balance will take shorter to come back.&quot;</span><span class="p">,</span> <span class="n">svo</span><span class="p">.</span><span class="n">getDefaultColor</span><span class="p">())</span> <span class="k">end</span>
</pre></div>
</div>
</li>
<li><p class="first"><em>ondisabled</em> (optional, function) - same as <em>onset</em>, but called for boolean types only when the option has been disabled.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">ondisabled</span> <span class="o">=</span> <span class="k">function</span> <span class="p">()</span> <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">&lt;250,0,0&gt;Don&#39;t%s have recovery - tree tattoo balance will take longer to come back.&quot;</span><span class="p">,</span> <span class="n">svo</span><span class="p">.</span><span class="n">getDefaultColor</span><span class="p">())</span> <span class="k">end</span>
</pre></div>
</div>
</li>
<li><p class="first"><em>onshow</em> (highly recommended, function or a string) - called when it&#8217;s time to show the options value, either in vconfig or vconfig2. Where exactly it gets shown is determined by other options. If you&#8217;re setting this to a function, the default color will be passed to it as a parameter that you can fg() then to reset the color. Here&#8217;s an example from the <em>restore</em> option</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">onshow</span> <span class="o">=</span> <span class="k">function</span> <span class="p">(</span><span class="n">defaultcolour</span><span class="p">)</span>
  <span class="n">fg</span><span class="p">(</span><span class="n">defaultcolour</span><span class="p">)</span>
  <span class="n">echo</span> <span class="s2">&quot;</span><span class="s">Use restore (&quot;</span>
  <span class="n">echoLink</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">view scenarios&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">svo.config.set&#39;restorefunc&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">View, enable and disable scenarios in which restore will be used&quot;</span><span class="p">)</span>
  <span class="n">fg</span><span class="p">(</span><span class="n">defaultcolour</span><span class="p">)</span> <span class="n">echo</span> <span class="s2">&quot;</span><span class="s">)</span><span class="se">\n</span><span class="s">&quot;</span>
  <span class="n">resetFormat</span><span class="p">()</span>
<span class="k">end</span>
</pre></div>
</div>
</li>
<li><p class="first"><em>vconfig1</em> (option, boolean) - used in conjunction with the <em>boolean</em> type, it lists the option in vconfig1&#8217;s o/x list This should contain skills only.</p>
</li>
<li><p class="first"><em>vconfig2</em> (optional, boolean) - used in conjunction with the <em>boolean</em> type, it lists the option in vconfig2&#8217;s o/x list.</p>
</li>
<li><p class="first"><em>vconfig2string</em> (optional, boolean) - set to true if you&#8217;d like your onshow to be called in the vconfig2&#8217;s string or other options near the bottom of the list.</p>
</li>
<li><p class="first"><em>check</em> (optional, function) - used to check the input for validity before setting the option. The input will be passed as a string, and the function should <em>return true</em> if it&#8217;s valid. An example from <em>commandechotype</em> which can only be set to <em>plain</em> or <em>fancy</em>:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">check</span> <span class="o">=</span> <span class="k">function</span> <span class="p">(</span><span class="n">what</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">what</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="s">plain&quot;</span> <span class="ow">or</span> <span class="n">what</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="s">fancy&quot;</span> <span class="k">then</span> <span class="k">return</span> <span class="kc">true</span> <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
</li>
</ul>
<p>Here&#8217;s an example from the knight limbcounter addon, which adds two options - weaponone and weapontwo - but only shows one condensed line on <em>vconfig2</em>. Note that it also shows <strong>kl</strong> before it&#8217;s option with a tooltip of the full addon name - this is to people know where it came from (and can tell apart when looking at other vconfig&#8217;s):</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">setoption</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">weaponone&quot;</span><span class="p">,</span>
<span class="p">{</span>
  <span class="n">vconfig2string</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">number&quot;</span><span class="p">,</span>
  <span class="n">onset</span> <span class="o">=</span> <span class="k">function</span> <span class="p">()</span> <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">Set the damage of your first weapon to %s.&quot;</span><span class="p">,</span> <span class="n">svo</span><span class="p">.</span><span class="n">conf</span><span class="p">.</span><span class="n">weaponone</span><span class="p">)</span> <span class="k">end</span><span class="p">,</span>
  <span class="n">onshow</span> <span class="o">=</span> <span class="k">function</span> <span class="p">(</span><span class="n">defaultcolour</span><span class="p">)</span>
    <span class="n">fg</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">gold&quot;</span><span class="p">)</span>
    <span class="n">echoLink</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">kl:&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">svo Knight limbcounter&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
    <span class="n">fg</span><span class="p">(</span><span class="n">defaultcolour</span><span class="p">)</span>
    <span class="n">echo</span><span class="p">(</span><span class="s2">&quot;</span><span class="s"> first weapon&#39;s damage is at &quot;</span><span class="p">)</span>
    <span class="n">fg</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">a_cyan&quot;</span><span class="p">)</span> <span class="n">echoLink</span><span class="p">((</span><span class="n">svo</span><span class="p">.</span><span class="n">conf</span><span class="p">.</span><span class="n">weaponone</span> <span class="ow">and</span> <span class="n">svo</span><span class="p">.</span><span class="n">conf</span><span class="p">.</span><span class="n">weaponone</span> <span class="ow">or</span> <span class="s2">&quot;</span><span class="s">(not set)&quot;</span><span class="p">),</span> <span class="s1">&#39;</span><span class="s">printCmdLine&quot;vconfig weaponone &quot;&#39;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">Set the damage on the first weapon&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span> <span class="n">fg</span><span class="p">(</span><span class="n">defaultcolour</span><span class="p">)</span>
    <span class="n">echo</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">, second weapon&#39;s at &quot;</span><span class="p">)</span>
    <span class="n">fg</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">a_cyan&quot;</span><span class="p">)</span> <span class="n">echoLink</span><span class="p">((</span><span class="n">svo</span><span class="p">.</span><span class="n">conf</span><span class="p">.</span><span class="n">weapontwo</span> <span class="ow">and</span> <span class="n">svo</span><span class="p">.</span><span class="n">conf</span><span class="p">.</span><span class="n">weapontwo</span> <span class="ow">or</span> <span class="s2">&quot;</span><span class="s">(not set)&quot;</span><span class="p">),</span> <span class="s1">&#39;</span><span class="s">printCmdLine&quot;vconfig weapontwo &quot;&#39;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">Set the damage on the second weapon&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span> <span class="n">fg</span><span class="p">(</span><span class="n">defaultcolour</span><span class="p">)</span>
    <span class="n">echo</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
  <span class="k">end</span>
<span class="p">})</span>
<span class="n">svo</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">setoption</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">weapontwo&quot;</span><span class="p">,</span>
<span class="p">{</span>
  <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">string&quot;</span><span class="p">,</span>
  <span class="n">onset</span> <span class="o">=</span> <span class="k">function</span> <span class="p">()</span> <span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">Set the damage of your second weapon to %s.&quot;</span><span class="p">,</span> <span class="n">svo</span><span class="p">.</span><span class="n">conf</span><span class="p">.</span><span class="n">weapontwo</span><span class="p">)</span> <span class="k">end</span>
<span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.config.deloption">
<code class="descclassname">svo.config.</code><code class="descname">deloption</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.config.deloption" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes an option. Don&#8217;t delete <em>svo&#8217;s</em> options, because that&#8217;ll just confuse people, and they&#8217;ll come back anyway on a restart. This will not delete the actual value in <em>svo.conf.optionname</em>, it&#8217;ll still persist unless you set it to <em>nil</em>.</p>
</dd></dl>

<dl class="function">
<dt id="svo.deleteLineP">
<code class="descclassname">svo.</code><code class="descname">deleteLineP</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.deleteLineP" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the current line and if the next line is a prompt, it as well.</p>
</dd></dl>

<dl class="function">
<dt id="svo.concatand">
<code class="descclassname">svo.</code><code class="descname">concatand</code><span class="sig-paren">(</span><em>table</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.concatand" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a concatenated string, separated by command with the proper use of &#8216;and&#8217; at the end.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">display</span><span class="p">(</span><span class="n">svo</span><span class="p">.</span><span class="n">concatand</span><span class="p">{</span><span class="s2">&quot;</span><span class="s">Bob&quot;</span><span class="p">})</span>
<span class="c1">-- shows: Bob</span>

<span class="n">display</span><span class="p">(</span><span class="n">svo</span><span class="p">.</span><span class="n">concatand</span><span class="p">{</span><span class="s2">&quot;</span><span class="s">Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">Mary&quot;</span><span class="p">})</span>
<span class="c1">-- shows: Bob and Mary</span>

<span class="n">display</span><span class="p">(</span><span class="n">svo</span><span class="p">.</span><span class="n">concatand</span><span class="p">{</span><span class="s2">&quot;</span><span class="s">Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">Mary&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">Salmon&quot;</span><span class="p">})</span>
<span class="c1">-- shows: Bob, Mary and Salmon</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.toboolean">
<code class="descclassname">svo.</code><code class="descname">toboolean</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.toboolean" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a text, returns a boolean true (for affirmative text) or false (for negative text).</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- this will return &#39;true&#39;</span>
<span class="n">svo</span><span class="p">.</span><span class="n">toboolean</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">yep&quot;</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">toboolean</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">yes&quot;</span><span class="p">)</span>
<span class="o">...</span>

<span class="c1">-- this will return &#39;false&#39;</span>
<span class="n">svo</span><span class="p">.</span><span class="n">toboolean</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">no&quot;</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">toboolean</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">nope&quot;</span><span class="p">)</span>
<span class="o">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.find_until_last_paragraph">
<code class="descclassname">svo.</code><code class="descname">find_until_last_paragraph</code><span class="sig-paren">(</span><em>text</em>, <em>mode</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.find_until_last_paragraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches for the given text within the current paragraph (until the last game prompt). Mode can either be <em>exact</em> (the given text has to exactly match the line, no more or less), <em>substring</em> (the given text can be anywhere within the line) or <em>pattern</em>, which is a Lua pattern. Returns <strong>true</strong> if a match is found.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- see if we got hit by a gremlin within the paragraph</span>
<span class="k">if</span> <span class="n">find_until_last_paragraph</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">The gremlin races between your legs, throwing you off-balance.&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">exact&quot;</span><span class="p">)</span> <span class="k">then</span>
   <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">Yep, got hit by a gremlin.&quot;</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.prompttrigger">
<code class="descclassname">svo.</code><code class="descname">prompttrigger</code><span class="sig-paren">(</span><em>name</em>, <em>function</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.prompttrigger" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a function to be run for you on the prompt. The function will only be run once on the next prompt. If you use this multiple times before the prompt with the same name, then only the latest function will be executed - which makes this quite a boon in certain cases (for an example, take a look at how Svof&#8217;s meteor compressing utilizes it).</p>
<p>You might find this useful to work with when you can&#8217;t exactly do the standard Mudlet paradigm of open gate / close gate with a prompt trigger, because the gate-opener line might be variable, or all the lines are the same and etc. Using this, you can easily defer the processing until the prompt happens.</p>
<p>Calling <a class="reference internal" href="#svo.ignore_illusion" title="svo.ignore_illusion"><code class="xref py py-func docutils literal"><span class="pre">svo.ignore_illusion()</span></code></a> here is too late - you instead have access to affs and etc that were validated without the need for additional checking. <em>svo.me.healthchange</em> and <em>svo.me.manachange</em> however be updated properly. Use <a class="reference internal" href="#svo.aiprompt" title="svo.aiprompt"><code class="xref py py-func docutils literal"><span class="pre">svo.aiprompt()</span></code></a> for ignoring illusions on the prompt.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">mindnet_entered</span> <span class="o">=</span> <span class="n">mindnet_entered</span> <span class="ow">or</span> <span class="p">{}</span>
<span class="n">mindnet_entered</span><span class="p">[</span><span class="o">#</span><span class="n">mindnet_entered</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">matches</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

<span class="c1">-- gets called only once, so a group entering does not spam</span>
<span class="n">svo</span><span class="p">.</span><span class="n">prompttrigger</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">mindnet entered&quot;</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span>
  <span class="n">send</span><span class="p">(</span><span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">pt %s (%d) ENTERED %s!&quot;</span><span class="p">,</span> <span class="n">svo</span><span class="p">.</span><span class="n">concatand</span><span class="p">(</span><span class="n">mindnet_entered</span><span class="p">),</span> <span class="o">#</span><span class="n">mindnet_entered</span><span class="p">,</span> <span class="n">gmcp</span><span class="p">.</span><span class="n">Room</span><span class="p">.</span><span class="n">Info</span><span class="p">.</span><span class="n">area</span><span class="p">))</span>

  <span class="n">mindnet_entered</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">end</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">svo.</code><code class="descname">prompttrigger</code><span class="sig-paren">(</span><em>name</em>, <em>nil</em><span class="sig-paren">)</span></dt>
<dd><p>Clears a prompt trigger function of that name (so it will not run on the next prompt).</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- nothing will actually happen</span>
<span class="n">svo</span><span class="p">.</span><span class="n">prompttrigger</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">mindnet entered&quot;</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">hi!&quot;</span><span class="p">)</span> <span class="k">end</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">prompttrigger</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">mindnet entered&quot;</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.aiprompt">
<code class="descclassname">svo.</code><code class="descname">aiprompt</code><span class="sig-paren">(</span><em>name</em>, <em>function</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.aiprompt" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to svo.prompttrigger(), however this function <em>can</em> be used for ignoring illusions - and you can check <em>svo.me.healthchange</em> and <em>svo.me.manachange</em> here, and use <a class="reference internal" href="#svo.ignore_illusion" title="svo.ignore_illusion"><code class="xref py py-func docutils literal"><span class="pre">svo.ignore_illusion()</span></code></a> if necessary. This function will only run once on the next prompt.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">aiprompt</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">sample function&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">health diff: %d, mana diff: %d&quot;</span><span class="p">,</span> <span class="n">svo</span><span class="p">.</span><span class="n">me</span><span class="p">.</span><span class="n">healthchange</span><span class="p">,</span> <span class="n">svo</span><span class="p">.</span><span class="n">me</span><span class="p">.</span><span class="n">manachange</span><span class="p">)</span> <span class="k">end</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">svo.</code><code class="descname">aiprompt</code><span class="sig-paren">(</span><em>name</em>, <em>nil</em><span class="sig-paren">)</span></dt>
<dd><p>Clears an AI prompt trigger function of that name (so it will not run on the next prompt).</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">aiprompt</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">sample function&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="n">svo</span><span class="p">.</span><span class="n">echof</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">health diff: %d, mana diff: %d&quot;</span><span class="p">,</span> <span class="n">svo</span><span class="p">.</span><span class="n">me</span><span class="p">.</span><span class="n">healthchange</span><span class="p">,</span> <span class="n">svo</span><span class="p">.</span><span class="n">me</span><span class="p">.</span><span class="n">manachange</span><span class="p">)</span> <span class="k">end</span><span class="p">)</span>
<span class="c1">-- this will cause the above function not to actually happen</span>
<span class="n">svo</span><span class="p">.</span><span class="n">aiprompt</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">sample function&#39;</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.ignore_illusion">
<code class="descclassname">svo.</code><code class="descname">ignore_illusion</code><span class="sig-paren">(</span><em>tooltip</em>, <em>moveback</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.ignore_illusion" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will cause Svof to ignore stuff from the last prompt until the current prompt (generally - one action/attack, or game tics happening). Useful for ignoring lines that you certainly think are illusions!</p>
<p>To use this simply, make a trigger that matches the line you think is an illusion and put this into the script:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">ignore_illusion</span><span class="p">()</span>
</pre></div>
</div>
<p>If you&#8217;d like the little (i) to have a tooltip, you can provide it like this:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">ignore_illusion</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">This is the tooltip text&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you&#8217;d like the little (i) to appear on the previous line instead of the current, use this:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">ignore_illusion</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">Tooltip text&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.not_illusion">
<code class="descclassname">svo.</code><code class="descname">not_illusion</code><span class="sig-paren">(</span><em>reason</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.not_illusion" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancels a detected illusion or an earlier svo.ignore_illusion() call. You can call this function at any time within the paragraph (before or after the illusion is actually marked as one) and it&#8217;ll still work. While the illusions (i) will still show, this function will also add a (!i) which means it negated it.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="p">::</span><span class="n">note</span><span class="p">::</span> <span class="n">Some</span> <span class="n">things</span> <span class="n">might</span> <span class="ow">not</span> <span class="n">be</span> <span class="s1">&#39;</span><span class="s">undoable&#39;</span> <span class="o">-</span> <span class="k">if</span> <span class="n">that</span> <span class="n">is</span> <span class="n">the</span> <span class="n">case</span><span class="p">,</span> <span class="n">let</span> <span class="n">Vadi</span> <span class="n">about</span> <span class="n">it</span><span class="p">,</span> <span class="ow">and</span> <span class="n">it</span><span class="s1">&#39;</span><span class="s">ll be fixed.</span>
</pre></div>
</div>
<blockquote>
<div><p>&#8211; triggering something to what the system thought was an illusion to do this will negate it:
svo.not_illusion()</p>
<p class="attribution">&mdash;you can also provide a reason to show in the tooltip
svo.not_illusion(&#8220;because blah blah&#8221;)</p>
</div></blockquote>
</dd></dl>

<span class="target" id="svo-cc-function"></span><dl class="function">
<dt id="svo.cc">
<code class="descclassname">svo.</code><code class="descname">cc</code><span class="sig-paren">(</span><em>&quot;text to say&quot;</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.cc" title="Permalink to this definition">¶</a></dt>
<dd><p>Use this function to announce things on a communication channel (clan, party, etc). Where the function will say things can be configured with <a class="reference internal" href="#term-ccto"><span class="xref std std-term">vconfig ccto</span></a>, and it&#8217;s usefulness comes in the fact that it won&#8217;t do anything if the system is paused or you have aeon/retardation - so you can safely use svo.cc() in your triggers without adding conditions to them. It&#8217;s also convenient to use because you can adjust where it goes with vconfig ccto - without needing to redo all your triggers or fiddle with variables. The equivalent <a class="reference internal" href="#term-cc"><span class="xref std std-term">cc</span></a> alias also uses this function.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span>-- example from a trigger, where ofn.shotdir is set by a variable:
^Focusing your breath into a concentrated stream, you direct a blast of lightning towards (\w+)\.$
svo.cc(&quot;breathstreamed %s %s from %s&quot;, matches[2], ofn.shotdir and mmp.anytolong(ofn.shotdir):upper() or &quot;&quot;, gmcp.Room.Info.name)
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.ccnop">
<code class="descclassname">svo.</code><code class="descname">ccnop</code><span class="sig-paren">(</span><em>&quot;text to say&quot;</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.ccnop" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is the same as svo.cc(), except it <em>will</em> go off when you are paused (but not in aeon or retardation).</p>
</dd></dl>

<span class="target" id="svo-doubleruntosend-function"></span><dl class="function">
<dt id="svo.doubleRunToSend">
<code class="descclassname">svo.</code><code class="descname">doubleRunToSend</code><span class="sig-paren">(</span><em>...</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.doubleRunToSend" title="Permalink to this definition">¶</a></dt>
<dd><p>A function similar to send(), but requires to be called twice in quick succession (within .4s) in order to go off. It&#8217;s useful to have this function in place of send() on a text link - this&#8217;ll help emulate a double-click.</p>
</dd></dl>

<span class="target" id="svo-transmute-function"></span><dl class="function">
<dt id="svo.transmute">
<code class="descclassname">svo.</code><code class="descname">transmute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.transmute" title="Permalink to this definition">¶</a></dt>
<dd><p>A function that&#8217;ll transmute once up to 1000 health, if you need to regain any health at all. This is only useful if you&#8217;re spamming your attacks, and so the systems transmute isn&#8217;t getting in - you could use this function before your attack to have the system transmute.</p>
</dd></dl>

<dl class="function">
<dt id="svo.getping">
<code class="descclassname">svo.</code><code class="descname">getping</code><span class="sig-paren">(</span><em>cap</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.getping" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current network ping as given by <a class="reference external" href="http://wiki.mudlet.org/w/Manual:Networking_Functions#getNetworkLatency">getNetworkLatency()</a>, with the improvement that if <a class="reference external" href="http://wiki.mudlet.org/w/Manual:Networking_Functions#getNetworkLatency">getNetworkLatency()</a>&#8216;s ping is way off, it will be capped at a reasonble amount (.5s by default). This makes <a class="reference external" href="http://wiki.mudlet.org/w/Manual:Networking_Functions#getNetworkLatency">getNetworkLatency()</a> safer to use in scripts that set timers based on the ping, since a wild number subsequently affect the timer too negatively.</p>
<p>You can adjust the default cap of .5s by providing it as a parameter.</p>
</dd></dl>

<dl class="function">
<dt id="svo.checkcustomparry">
<code class="descclassname">svo.</code><code class="descname">checkcustomparry</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.checkcustomparry" title="Permalink to this definition">¶</a></dt>
<dd><p>Manually runs your custom parry function, so it can determine whenever you need to change your parry. You do not need to normally do this unless you run into a condition where the automatic and optimized checking doesn&#8217;t trigger your function when you&#8217;d like. The system by default will check your custom parry function after your limb was hit, or you got/lost an affliction.</p>
</dd></dl>

<dl class="function">
<dt id="svo.gettreeableaffs">
<code class="descclassname">svo.</code><code class="descname">gettreeableaffs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.gettreeableaffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of afflictions that you&#8217;ve currently got that can be cured by tree - or by any other simple and general curing means - passive cures, shrugging, bloodboil, phoenix and so on. This is a general utility function and thus it does not account for specific sets of afflictions that block the use of any particular method - like can&#8217;t touch tree with both arms crippled, can&#8217;t shrug with weakness and so on.</p>
</dd></dl>

<dl class="function">
<dt id="svo.getfocusableaffs">
<code class="descclassname">svo.</code><code class="descname">getfocusableaffs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.getfocusableaffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of afflictions that you&#8217;ve currently got that can be cured by focus. This is a general utility function and thus it does not account for specific sets of afflictions that block the use of the ability - like can&#8217;t focus with impatience, inquisition and so on.</p>
</dd></dl>

<dl class="function">
<dt id="svo.amiwielding">
<code class="descclassname">svo.</code><code class="descname">amiwielding</code><span class="sig-paren">(</span><em>what</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.amiwielding" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>true</cite> or <cite>false</cite> depending on if you&#8217;re wielding that item. You can use the full name or part of the name for this:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- wield the whip if you need to</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">svo</span><span class="p">.</span><span class="n">amiwielding</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">whip&quot;</span><span class="p">)</span> <span class="k">then</span> <span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">wield whip&quot;</span><span class="p">)</span> <span class="k">end</span>

<span class="c1">-- check for SoA - note that it&#39;s case sensitive</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">svo</span><span class="p">.</span><span class="n">amiwielding</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">Shield&quot;</span><span class="p">)</span> <span class="k">then</span> <span class="n">send</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">wield shield&quot;</span><span class="p">)</span> <span class="k">end</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.countbrokenlimbs">
<code class="descclassname">svo.</code><code class="descname">countbrokenlimbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#svo.countbrokenlimbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the amount of crippled limbs - count does not include mangled or mutilated limbs.</p>
</dd></dl>

<dl class="function">
<dt id="svo.setignore">
<code class="descclassname">svo.</code><code class="descname">setignore</code><span class="sig-paren">(</span><em>action</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.setignore" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets something to be ignored. If this is an affliction, Svof won&#8217;t cure it - and if this is a defence, Svof won&#8217;t defup/keepup it. If serverside curing is enabled, it will be ignored serverside as well. You can either use <code class="docutils literal"><span class="pre">true</span></code> or <code class="docutils literal"><span class="pre">{</span> <span class="pre">because</span> <span class="pre">=</span> <span class="pre">&quot;&lt;your</span> <span class="pre">reason</span> <span class="pre">here&gt;&quot;</span> <span class="pre">}</span></code> as the value:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- make asthma be ignored</span>
<span class="n">svo</span><span class="p">.</span><span class="n">setignore</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">asthma&quot;</span><span class="p">)</span>
<span class="c1">-- or</span>
<span class="n">svo</span><span class="p">.</span><span class="n">setignore</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">asthma&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>

<span class="c1">-- ignore the missing fire resistance enchantment on defup/keepup</span>
<span class="n">svo</span><span class="p">.</span><span class="n">setignore</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">fireresist&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">because</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">you&#39;re missing the enchantment&quot;</span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.unsetignore">
<code class="descclassname">svo.</code><code class="descname">unsetignore</code><span class="sig-paren">(</span><em>action</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.unsetignore" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes something from being ignored.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">unsetignore</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">asthma&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.setserverignore">
<code class="descclassname">svo.</code><code class="descname">setserverignore</code><span class="sig-paren">(</span><em>action</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.setserverignore" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets something to be ignored by Svof curing when serverside curing is enabled - thus it&#8217;ll be handled by serverside curing instead.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="c1">-- make serverside handle asthma</span>
<span class="n">svo</span><span class="p">.</span><span class="n">setserverignore</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">asthma&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.unsetserverignore">
<code class="descclassname">svo.</code><code class="descname">unsetserverignore</code><span class="sig-paren">(</span><em>action</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.unsetserverignore" title="Permalink to this definition">¶</a></dt>
<dd><p>With serverside curing enabled, makes Svof handle the affliction instead of serverside.</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">unsetserverignore</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">asthma&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="svo.sendc">
<code class="descclassname">svo.</code><code class="descname">sendc</code><span class="sig-paren">(</span><em>action</em><span class="sig-paren">)</span><a class="headerlink" href="#svo.sendc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<code class="descclassname">svo.</code><code class="descname">sendc</code><span class="sig-paren">(</span><em>action1</em>, <em>action2</em>, <em>action3</em>, <em>...</em><span class="sig-paren">)</span></dt>
<dd><p>Allows you to send commands that get queued up to be sent all at once, appearing to you and others as done without a prompt and reducing the delay that happens between each command.</p>
<p>You can either get commands queued up one at a time:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">sendc</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">hi&quot;</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">sendc</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">bye&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Or multiple at once:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">sendc</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">hi&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">bye&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Or a combination of either:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">sendc</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">hi&quot;</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">sendc</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">say hello&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">wave&quot;</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">sendc</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">bye&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Updating your system to use the queueing is very simple - you need to replace <code class="docutils literal"><span class="pre">send()</span></code> or <code class="docutils literal"><span class="pre">sendAll()</span></code> uses in your system with <a class="reference internal" href="#svo.sendc" title="svo.sendc"><code class="xref py py-func docutils literal"><span class="pre">svo.sendc()</span></code></a> and it will automatically work. The function will ignore any uses of true/false in case you have <code class="docutils literal"><span class="pre">send(&quot;something&quot;,</span> <span class="pre">false)</span></code>.</p>
<p>Before <a class="reference internal" href="#svo.sendc" title="svo.sendc"><code class="xref py py-func docutils literal"><span class="pre">svo.sendc()</span></code></a>:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">send</span> <span class="p">(</span><span class="s2">&quot;</span><span class="s">unwield right&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
<span class="n">send</span> <span class="p">(</span><span class="s2">&quot;</span><span class="s">unwield left&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
<span class="n">send</span> <span class="p">(</span><span class="s2">&quot;</span><span class="s">wield left &quot;</span> <span class="o">..</span> <span class="n">s1</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
<span class="n">send</span> <span class="p">(</span><span class="s2">&quot;</span><span class="s">wield right &quot;</span> <span class="o">..</span> <span class="n">s2</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
</pre></div>
</div>
<span style="background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace; line-height: 1em"><span style="color: rgb(0,179,0);font-weight: normal; font-style: normal">(</span><span style="color: rgb(0,255,0);font-weight: normal; font-style: normal">ex</span><span style="color: rgb(0,179,0);font-weight: normal; font-style: normal">) 4416h|90%, 4586m|96%, 100w%, 96e%, ()-  <br /></span><span style="color: rgb(192,192,192);font-weight: normal; font-style: normal">You cease wielding a barbed, Mhaldorian morning star in your right hand.<br /></span><span style="color: rgb(0,179,0);font-weight: normal; font-style: normal">(</span><span style="color: rgb(0,255,0);font-weight: normal; font-style: normal">ex</span><span style="color: rgb(0,179,0);font-weight: normal; font-style: normal">) 4416h|90%, 4586m|96%, 100w%, 96e%, ()-  <br /></span><span style="color: rgb(192,192,192);font-weight: normal; font-style: normal">You cease wielding a barbed, Mhaldorian morning star in your left hand.<br /></span><span style="color: rgb(0,179,0);font-weight: normal; font-style: normal">(</span><span style="color: rgb(0,255,0);font-weight: normal; font-style: normal">ex</span><span style="color: rgb(0,179,0);font-weight: normal; font-style: normal">) 4416h|90%, 4586m|96%, 100w%, 96e%, ()-  <br /></span><span style="color: rgb(192,192,192);font-weight: normal; font-style: normal">You begin to wield a barbed, Mhaldorian morning star in your left hand.<br /></span><span style="color: rgb(0,179,0);font-weight: normal; font-style: normal">(</span><span style="color: rgb(0,255,0);font-weight: normal; font-style: normal">ex</span><span style="color: rgb(0,179,0);font-weight: normal; font-style: normal">) 4416h|90%, 4586m|96%, 100w%, 96e%, ()-  <br /></span><span style="color: rgb(192,192,192);font-weight: normal; font-style: normal">You begin to wield a barbed, Mhaldorian morning star in your right hand.<br /></span><span style="color: rgb(0,179,0);font-weight: normal; font-style: normal">(</span><span style="color: rgb(0,255,0);font-weight: normal; font-style: normal">ex</span><span style="color: rgb(0,179,0);font-weight: normal; font-style: normal">) 4416h|90%, 4586m|96%, 100w%, 96e%, ()-  </span></span><p>After <a class="reference internal" href="#svo.sendc" title="svo.sendc"><code class="xref py py-func docutils literal"><span class="pre">svo.sendc()</span></code></a>:</p>
<div class="highlight-lua"><div class="highlight"><pre><span></span><span class="n">svo</span><span class="p">.</span><span class="n">sendc</span> <span class="p">(</span><span class="s2">&quot;</span><span class="s">unwield right&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">sendc</span> <span class="p">(</span><span class="s2">&quot;</span><span class="s">unwield left&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">sendc</span> <span class="p">(</span><span class="s2">&quot;</span><span class="s">wield left &quot;</span> <span class="o">..</span> <span class="n">s1</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
<span class="n">svo</span><span class="p">.</span><span class="n">sendc</span> <span class="p">(</span><span class="s2">&quot;</span><span class="s">wield right &quot;</span> <span class="o">..</span> <span class="n">s2</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
</pre></div>
</div>
<span style="color: rgb(0,179,0); background: rgb(0,0,0); font-size: 1.5em; font-family: Monospace; line-height: 1.0em"><span style="color: rgb(0,179,0); font-weight: normal; font-style: normal">(</span><span style="color: rgb(0,255,0); font-weight: normal; font-style: normal">ex</span><span style="color: rgb(0,179,0); font-weight: normal; font-style: normal">) 4416h|90%, 4454m|94%, 99w%, 100e%, ()-  <br /></span><span style="color: rgb(192,192,192); font-weight: normal; font-style: normal">You cease wielding a barbed, Mhaldorian morning star in your right hand.<br /></span><span style="color: rgb(192,192,192); font-weight: normal; font-style: normal">You cease wielding a barbed, Mhaldorian morning star in your left hand.<br /></span><span style="color: rgb(192,192,192); font-weight: normal; font-style: normal">You begin to wield a barbed, Mhaldorian morning star in your left hand.<br /></span><span style="color: rgb(192,192,192); font-weight: normal; font-style: normal">You begin to wield a barbed, Mhaldorian morning star in your right hand.<br /></span><span style="color: rgb(0,179,0); font-weight: normal; font-style: normal">(</span><span style="color: rgb(0,255,0); font-weight: normal; font-style: normal">ex</span><span style="color: rgb(0,179,0); font-weight: normal; font-style: normal">) 4416h|90%, 4454m|94%, 99w%, 100e%, ()-  </span></span><p>The system also automatically accounts for command queues way too long for the game to handle and splits them up accordingly.</p>
</dd></dl>

</div>
<div class="section" id="svof-api-data">
<h2>Svof API data<a class="headerlink" href="#svof-api-data" title="Permalink to this headline">¶</a></h2>
<p>This is the start of a list that details all of the data (variables) available to you - what do they do, and how to set them. The list is still a work in progress.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">note:</th><td class="field-body">Unless specified, set the variables with provided functions instead of directly - as functions are needed to trigger internal updates.</td>
</tr>
</tbody>
</table>
<dl class="glossary docutils">
<dt id="term-svo-me">svo.me</dt>
<dd>(table) stores a ton of information for you to use, and where relevant, modify directly.</dd>
<dt id="term-svo-me-curelist">svo.me.curelist</dt>
<dd>(table) A key-value table that stores your vconfig curemethod prefercustom settings. The forestal cure is the key, and the value is either the same forestal cure or the alchemist cure. You can modify the table directly to adjust your prefercustom settings programmatically.</dd>
<dt id="term-svo-me-dofreequeue">svo.me.dofreequeue</dt>
<dd>(table) similar to svo.me.doqueue, but for the dofree queue. Doesn&#8217;t have a repeating key.</dd>
<dt id="term-svo-me-dopaused">svo.me.dopaused</dt>
<dd>(boolean) a boolean that controls whenever the do queue is paused or not. Does not affect the dofree queue, and you can set this directly to pause/unpause the do queue.</dd>
<dt id="term-svo-me-doqueue">svo.me.doqueue</dt>
<dd>(table) indexed table holding the items in the do queue: items can be either strings or functions. It is best to use the provided functions for manipulating the queue, but you can read this table to see what is in it. A single key, <em>repeating</em>, controls whenever dor (which repeats the first item in the queue without removing it) is on or not - you can set this directly.</dd>
<dt id="term-svo-me-focusedknights">svo.me.focusedknights</dt>
<dd>(table) a key-based table of all the knights who are currently focused (and thus will do double damage).</dd>
<dt id="term-svo-me-haveillusion">svo.me.haveillusion</dt>
<dd><p class="first">(boolean or string) keeps track of whenever an illusion was detected or not - this would be set by <a class="reference internal" href="#svo.ignore_illusion" title="svo.ignore_illusion"><code class="xref py py-func docutils literal"><span class="pre">svo.ignore_illusion()</span></code></a>, available within <a class="reference internal" href="#svo.aiprompt" title="svo.aiprompt"><code class="xref py py-func docutils literal"><span class="pre">svo.aiprompt()</span></code></a> for checking and cleared sometime after before the end of the prompt.</p>
<blockquote class="last">
<div>It&#8217;ll be <code class="docutils literal"><span class="pre">false</span></code> if no illusion was detected, <code class="docutils literal"><span class="pre">true</span></code> if one was or a string if an illusion was detected and a reason for it&#8217;s detection was supplied.</div></blockquote>
</dd>
<dt id="term-svo-me-healthchange">svo.me.healthchange</dt>
<dd>(number) the delta in your characters health between the last and the current prompt (so how much you gained or lost).</dd>
<dt id="term-svo-me-locks">svo.me.locks</dt>
<dd>(table) a key-value table that stores the current affliction locks you&#8217;ve got as their name. See <a class="reference internal" href="#on-affliction-locks"><span class="std std-ref">custom prompts</span></a> for a list of possible ones.</dd>
<dt id="term-svo-me-manachange">svo.me.manachange</dt>
<dd>(number) the delta in your characters mana between the last and the current prompt (so how much you gained or lost).</dd>
<dt id="term-svo-newbals">svo.newbals</dt>
<dd>(table) captures the incoming status of balance and equilibrium, before svo.bals is updated - helpful for scripts that work off the prompt.</dd>
<dt id="term-svo-sp-config">svo.sp_config</dt>
<dd>(table) a general table for the parry system configuration that lists the current parry strategy employed, limb action levels and the desired limb(s) that should be parried. You can use <em>vp show</em> as an alias or <em>svo.sp.show()</em> as a function to display this data.</dd>
<dt id="term-svo-sp-config-parry">svo.sp_config.parry</dt>
<dd>(string or function) the name of the current parry strategy being used, or a function if you are using a custom parry strategy. You can set a different parry strategy to use via <em>vsetup sp</em>, <em>vshow → current parry strategy</em>, <em>vp parrystrat &lt;strategy&gt;</em> or <em>svo.sp.setparry(&#8220;parry strategy&#8221;, true)</em>. If you&#8217;d like to setup a custom parry strategy of your own, see <a class="reference internal" href="#custom-parry-strategy">Custom parry strategy</a>.</dd>
<dt id="term-svo-sp-config-parry-actionlevel">svo.sp_config.parry_actionlevel</dt>
<dd>Not actually used for anything at the moment - reserved for future.</dd>
<dt id="term-svo-sp-config-parry-shouldbe">svo.sp_config.parry_shouldbe</dt>
<dd>(key-value table) the table that contains data on what limb should be current parried. It&#8217;s key-value as to allow dual-parry - but that&#8217;s not possible right now, so only one value matters for the weaponry parry. This table is modified by parry strategies - if you&#8217;d like to update it, use a your own strat (<a class="reference internal" href="#custom-parry-strategy">Custom parry strategy</a>) to set it - otherwise the current strategy will be overwriting your values.</dd>
<dt id="term-svo-sp-config-priority">svo.sp_config.priority</dt>
<dd>(indexed table) a priority table with limb names - this table is referenced by parry strategies when two or more limbs have the same need to be parried and the system has to pick - it&#8217;ll pick in the order they&#8217;re in (starting from first). You can set this via <em>vsetup sp</em>, <em>vp nextprio &lt;limb&gt;</em> or directly modify the table.</dd>
<dt id="term-svo-stats">svo.stats</dt>
<dd><p class="first">(table) stores your character vitals and balance stats. You can check them in your triggers/aliases/scripts by using <em>svo.stats.&lt;stat&gt;</em> - for example, <em>svo.stats.hp</em> will give your current health as a %.</p>
<blockquote class="last">
<div><ul class="simple">
<li>hp, mp, ed and wp are your health, mana, endurance and willpower as %&#8217;s (rounded to the first decimal point).</li>
<li>currenthealth, currentmana, currentendurance and currentwillpower are your exact stats as they are right now.</li>
<li>maxhealth, maxmana, maxendurance and max willpower are your top stats.</li>
<li>shin and kai are your shin and kaido, as a number, respectively.</li>
<li>nextlevel is your current xp, with decimals if you have the Innersight skill in Vision.</li>
<li>lastbalance, lastequilibrium, lastherb are the times, in seconds, that your balances last took to recover.</li>
</ul>
</div></blockquote>
</dd>
</dl>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="dragonlimbcounter.html" class="btn btn-neutral float-right" title="Svof Multi-Person Dragon Limbcounter" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="contents.html" class="btn btn-neutral" title="&lt;no title&gt;" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Vadim Peretokin.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'18',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>